(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-shop-introduce-introduce"],{"0276":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.follow-and-share[data-v-419691ba]{position:fixed;bottom:%?50?%;right:%?30?%;background-color:rgba(0,0,0,.5);height:%?60?%;width:%?60?%;text-align:center;line-height:%?60?%;-webkit-border-radius:50%;border-radius:50%}.follow-and-share uni-text[data-v-419691ba]{color:#fff}.store[data-v-419691ba]{width:100%;height:100%;padding:1px 0}.store-exper[data-v-419691ba]{padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 %?30?%}.store-exper[data-v-419691ba]{display:-webkit-box;display:-webkit-flex;display:flex;background:#fff;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-top:%?1?% solid #eee;margin:0 %?30?%;padding-bottom:0}.store-exper .exper-info[data-v-419691ba]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.store-exper .exper-info .exper-star[data-v-419691ba]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.store-exper .exper-info .exper-star .star-title[data-v-419691ba]{font-size:%?28?%;font-weight:700;margin-right:%?20?%}.store-exper .exper-info .exper-desc[data-v-419691ba]{font-size:%?24?%;line-height:1.8}.store-exper .exper-more[data-v-419691ba]{width:10%;height:100%;text-align:right}.store-exper .exper-more .iconfont[data-v-419691ba]{color:#eee;font-size:%?40?%}.store-desc[data-v-419691ba]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff;margin:%?20?% %?30?% 0;-webkit-border-radius:%?10?% %?10?% 0 0;border-radius:%?10?% %?10?% 0 0}.store-desc .desc-title[data-v-419691ba]{width:100%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-weight:700}.store-eval[data-v-419691ba]{background:#fff;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 %?30?% %?20?%;-webkit-border-radius:0 0 %?10?% %?10?%;border-radius:0 0 %?10?% %?10?%;padding-top:0}.store-eval .eval-li[data-v-419691ba]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%}.store-eval .eval-li .line[data-v-419691ba]{width:%?300?%;height:%?12?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden}.store-eval .eval-li .grade[data-v-419691ba]{font-weight:700}.store-explain[data-v-419691ba]{background:#fff;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 %?30?% %?20?%;border-top:%?1?% solid #eee;-webkit-border-radius:0 0 %?10?% %?10?%;border-radius:0 0 %?10?% %?10?%}.store-explain .explain-li[data-v-419691ba]{display:inline-block;margin-right:%?20?%;margin-bottom:%?10?%;line-height:1}.store-base-info[data-v-419691ba]{background:#fff;padding:%?20?%;padding-right:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:%?40?%;border-top:%?1?% solid #eee;position:relative;margin:0 %?30?% %?20?%;-webkit-border-radius:0 0 %?10?% %?10?%;border-radius:0 0 %?10?% %?10?%}.store-base-info .base-title[data-v-419691ba]{width:100%;height:%?70?%;font-size:%?32?%;color:#eee;padding:%?10?% %?20?% 0 0;-webkit-box-sizing:border-box;box-sizing:border-box}.store-base-info .base-li[data-v-419691ba]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;font-size:%?28?%;padding:%?10?% 0 %?20?% 0;-webkit-box-sizing:border-box;box-sizing:border-box}.store-base-info .base-li .iconfont[data-v-419691ba]{font-size:%?32?%;color:#eee}.store-base-info .base-li uni-text[data-v-419691ba]{line-height:1.1}.store-base-info .base-li uni-text[data-v-419691ba]:nth-child(2){display:inline-block;font-size:%?24?%;max-width:65%}.store-map-dark[data-v-419691ba]{width:100%;height:%?410?%;background:transparent;position:absolute;left:0;top:0}uni-map[data-v-419691ba]{width:100%}.share-popup .share-title[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-title[data-v-419691ba]{line-height:%?60?%;font-size:%?32?%;padding:%?15?% 0;text-align:center}.share-popup .share-content[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content[data-v-419691ba]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;-o-flex-wrap:wrap;flex-wrap:wrap;padding:%?15?%}.share-popup .share-content .share-box[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box[data-v-419691ba]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.share-popup .share-content .share-box .share-btn[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn[data-v-419691ba]{margin:0;padding:0;border:none;line-height:1;height:auto}.share-popup .share-content .share-box .share-btn uni-text[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn uni-text[data-v-419691ba]{margin-top:%?20?%;font-size:%?24?%;display:block;color:#303133}.share-popup .share-content .share-box .iconfont[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box .iconfont[data-v-419691ba]{font-size:%?80?%;line-height:normal}.share-popup .share-content .share-box .iconpengyouquan[data-v-419691ba],\r\n.share-popup .share-content .share-box .iconiconfenxianggeihaoyou[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box .iconpengyouquan[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-content .share-box .iconiconfenxianggeihaoyou[data-v-419691ba]{color:#07c160}.share-popup .share-footer[data-v-419691ba],\r\n.uni-popup__wrapper-box .share-footer[data-v-419691ba]{height:%?90?%;line-height:%?90?%;border-top:%?2?% #f5f5f5 solid;text-align:center;color:#666}.poster-layer .generate-poster[data-v-419691ba]{padding:%?40?% 0}.poster-layer .generate-poster .iconfont[data-v-419691ba]{font-size:%?80?%;color:#07c160;line-height:normal}.poster-layer .generate-poster > uni-view[data-v-419691ba]{text-align:center}.poster-layer .generate-poster > uni-view[data-v-419691ba]:last-child{margin-top:%?20?%}.poster-layer .image-wrap[data-v-419691ba]{width:70%;margin:30px auto 20px auto;-webkit-box-shadow:0 0 16px hsla(0,0%,39.2%,.3);box-shadow:0 0 16px hsla(0,0%,39.2%,.3)}.poster-layer .image-wrap uni-image[data-v-419691ba]{width:100%;height:100%;height:%?750?%}.poster-layer .msg[data-v-419691ba]{padding:%?40?%}.poster-layer .save[data-v-419691ba]{text-align:center;height:%?80?%;line-height:%?80?%}.poster-layer .close[data-v-419691ba]{position:absolute;top:0;right:%?20?%;width:%?40?%;height:%?80?%;font-size:%?50?%}',""]),t.exports=e},"041f":function(t,e,i){var o=i("9714");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("35a18235",o,!0,{sourceMap:!1,shadowMode:!1})},1608:function(t,e,i){"use strict";i.r(e);var o=i("7158"),a=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},1967:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shopInfo?i("v-uni-view",{staticClass:"shop-info"},[i("v-uni-view",{staticClass:"shop-image"},[t.shopInfo.avatar?i("v-uni-image",{attrs:{src:t.$util.img(t.shopInfo.avatar),mode:"aspectFit"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.shopInfo.avatar=t.$util.getDefaultImage().default_shop_img}}}):i("v-uni-image",{attrs:{src:t.$util.getDefaultImage().default_shop_img,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"shop-con"},[i("v-uni-view",{staticClass:"info-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIntroduction()}}},[i("v-uni-view",{staticClass:"info-name",style:t.value?"color:"+t.value.color:"#303133"},[t._v(t._s(t.shopInfo.site_name)),i("v-uni-text",{staticClass:"iconfont icongengduo"})],1)],1),i("v-uni-view",{staticClass:"info-desc",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIntroduction()}}},[i("v-uni-view",{staticClass:"desc-star",style:t.value?"color:"+t.value.color:"#303133"},[t._v("综合评分："),i("v-uni-text",[t._v(t._s(((parseFloat(t.shopInfo.shop_desccredit)+parseFloat(t.shopInfo.shop_servicecredit)+parseFloat(t.shopInfo.shop_deliverycredit))/3).toFixed(1)))])],1),i("v-uni-text",{staticClass:"fans",style:t.value?"color:"+t.value.color:"#303133"},[t._v("粉丝数："+t._s(t.shopInfo.sub_num))])],1)],1),t.hasFollow?i("v-uni-button",{staticClass:"info-follow",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow()}}},[i("v-uni-text",{staticClass:"iconfont iconguanzhu active"}),i("v-uni-text",[t._v("已关注")])],1):t._e(),t.hasFollow?t._e():i("v-uni-button",{staticClass:"info-follow",attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow()}}},[i("v-uni-text",{staticClass:"iconfont iconguanzhu"}),i("v-uni-text",[t._v("关注")])],1)],1):t._e()},s=[]},"1b37":function(t,e,i){"use strict";i.r(e);var o=i("b29f"),a=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},"1d3f":function(t,e,i){var o=i("8ae6");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("53717444",o,!0,{sourceMap:!1,shadowMode:!1})},"235f":function(t,e,i){"use strict";var o=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("a4c5"));function s(t,e,i){uni.openLocation({latitude:t,longitude:e,name:i,fail:function(t){uni.showModal({content:"打开地图失败，请稍后重试"})}})}function n(t,e,i){switch(i){case"gcj02":return[t,e];case"bd09":return a.default.bd09togcj02(t,e);case"wgs84":return a.default.wgs84togcj02(t,e);default:return[t,e]}}var r={openMap:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gcj02",a=n(e,t,o);s(a[1],a[0],i)}};e.default=r},"2de6":function(t,e,i){"use strict";i.r(e);var o=i("c205"),a=i("333e");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("4c09");var n,r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"419691ba",null,!1,o["a"],n);e["default"]=l.exports},"333e":function(t,e,i){"use strict";i.r(e);var o=i("7b21"),a=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},"4bf9":function(t,e,i){"use strict";var o=i("041f"),a=i.n(o);a.a},"4c09":function(t,e,i){"use strict";var o=i("8a63"),a=i.n(o);a.a},"6bdf":function(t,e,i){"use strict";i.r(e);var o=i("f77f"),a=i("1608");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("4bf9");var n,r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"9e9d7b8a",null,!1,o["a"],n);e["default"]=l.exports},7158:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{}},props:{progress:{type:[Number,String],default:10}}};e.default=o},"7b21":function(t,e,i){"use strict";var o=i("4ea4");i("a9e3"),i("b680"),i("acd8"),i("e25e"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("7382")),s=o(i("e8e8")),n=o(i("948c")),r=o(i("6bdf")),l=o(i("235f")),p={components:{diyShopInfo:n.default,nsProgress:r.default},data:function(){return{siteId:0,poster:"-1",posterMsg:"",posterHeight:0}},computed:{markers:function(){var t=[];return this.shopInfo&&this.shopInfo.latitude&&this.shopInfo.longitude?t.push({id:0,latitude:this.shopInfo.latitude,longitude:this.shopInfo.longitude,iconPath:this.$util.img("upload/uniapp/location.png"),width:25,height:25}):t=[],t}},mixins:[s.default,a.default],onLoad:function(t){t.site_id?(this.siteId=t.site_id,this.getShopInfo()):this.$util.redirectTo("/otherpages/shop/index/index",{},"redirectTo")},onShow:function(){this.$langConfig.refresh()},methods:{openMapLg:function(){isNaN(Number(this.shopInfo.latitude))||isNaN(Number(this.shopInfo.longitude))||l.default.openMap(Number(this.shopInfo.latitude),Number(this.shopInfo.longitude),this.shopInfo.site_name,"gcj02")},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var e=uni.createSelectorQuery().in(t).select(".poster-layer .image-wrap");e.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));uni.getStorageSync("token")?t.posterHeight=parseInt(1120/o):t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var t=this,e={site_id:this.siteId};this.memberId&&(e.source_member=this.memberId),this.$api.sendRequest({url:"/api/shop/poster",data:{page:"/otherpages/shop/introduce/introduce",qrcode_param:JSON.stringify(e)},success:function(e){0==e.code?t.poster=e.data.path:t.posterMsg=e.message}})}}};e.default=p},"8a63":function(t,e,i){var o=i("0276");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("300230ec",o,!0,{sourceMap:!1,shadowMode:!1})},"8ae6":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.shop-info[data-v-6f03389b]{margin:%?20?% %?30?%;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;box-sizing:border-box;background:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%}.shop-image[data-v-6f03389b]{width:%?90?%;height:%?90?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden;margin-right:%?20?%;border:%?1?% solid #eee}.shop-image uni-image[data-v-6f03389b]{width:100%;height:100%}.shop-con[data-v-6f03389b]{width:calc(80% - %?90?% - %?20?%);color:#fff}.info-top[data-v-6f03389b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?4?%}.info-top .info-name[data-v-6f03389b]{width:60%;font-size:%?28?%;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-top .info-name .icongengduo[data-v-6f03389b]{font-size:%?26?%;margin-top:%?2?%;font-weight:400;font-weight:700;margin-left:%?10?%}uni-button[size="mini"].info-follow[data-v-6f03389b]{line-height:1.8!important;padding:0 %?20?%!important;position:absolute;right:%?30?%;top:%?20?%}uni-button[size="mini"].info-follow .iconfont[data-v-6f03389b]{margin-right:%?10?%;font-size:%?24?%}uni-button[size="mini"].info-follow .iconfont.active[data-v-6f03389b]{margin-right:%?10?%;font-size:%?24?%;color:#fff}.info-desc[data-v-6f03389b]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.info-desc .desc-star[data-v-6f03389b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?20?%}.info-desc .fans[data-v-6f03389b]{margin-left:%?20?%;font-size:%?20?%}',""]),t.exports=e},"948c":function(t,e,i){"use strict";i.r(e);var o=i("1967"),a=i("1b37");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("d9cb");var n,r=i("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"6f03389b",null,!1,o["a"],n);e["default"]=l.exports},9714:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.progress[data-v-9e9d7b8a]{height:%?12?%;overflow:hidden;background-color:#ccc;-webkit-border-radius:%?8?%;border-radius:%?8?%}.progress-bar[data-v-9e9d7b8a]{float:left;height:100%;font-size:%?24?%;line-height:20px;color:#fff;text-align:center;-webkit-transition:width .6s ease;transition:width .6s ease}',""]),t.exports=e},a4c5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=52.35987755982988,a=3.141592653589793,s=6378245,n=.006693421622965943;function r(t,e){var i=52.35987755982988,o=t-.0065,a=e-.006,s=Math.sqrt(o*o+a*a)-2e-5*Math.sin(a*i),n=Math.atan2(a,o)-3e-6*Math.cos(o*i),r=s*Math.cos(n),l=s*Math.sin(n);return[r,l]}function l(t,e){var i=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*o),a=Math.atan2(e,t)+3e-6*Math.cos(t*o),s=i*Math.cos(a)+.0065,n=i*Math.sin(a)+.006;return[s,n]}function p(t,e){if(f(t,e))return[t,e];var i=c(t-105,e-35),o=d(t-105,e-35),r=e/180*a,l=Math.sin(r);l=1-n*l*l;var p=Math.sqrt(l);i=180*i/(s*(1-n)/(l*p)*a),o=180*o/(s/p*Math.cos(r)*a);var u=e+i,h=t+o;return[h,u]}function u(t,e){if(f(t,e))return[t,e];var i=c(t-105,e-35),o=d(t-105,e-35),r=e/180*a,l=Math.sin(r);l=1-n*l*l;var p=Math.sqrt(l);return i=180*i/(s*(1-n)/(l*p)*a),o=180*o/(s/p*Math.cos(r)*a),mglat=e+i,mglng=t+o,[2*t-mglng,2*e-mglat]}function c(t,e){var i=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*a)+20*Math.sin(2*t*a))/3,i+=2*(20*Math.sin(e*a)+40*Math.sin(e/3*a))/3,i+=2*(160*Math.sin(e/12*a)+320*Math.sin(e*a/30))/3,i}function d(t,e){var i=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*a)+20*Math.sin(2*t*a))/3,i+=2*(20*Math.sin(t*a)+40*Math.sin(t/3*a))/3,i+=2*(150*Math.sin(t/12*a)+300*Math.sin(t/30*a))/3,i}function f(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}var h={bd09togcj02:r,gcj02tobd09:l,wgs84togcj02:p,gcj02towgs84:u};e.default=h},b29f:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{shopInfo:{logo:"",site_name:"",sub_num:0,shop_desccredit:0,shop_servicecredit:0,shop_deliverycredit:0},hasFollow:!1}},props:{value:{type:Object,default:null},siteId:{type:[Number,String],default:0},type:{type:Number,default:0}},watch:{siteId:function(){this.getShopInfo(),this.isFollow()}},created:function(){this.getShopInfo(),this.isFollow()},methods:{follow:function(){var t=this,e=this;uni.getStorageSync("token")?this.hasFollow?uni.showModal({title:"提示",content:"真的要取消关注嘛",success:function(t){t.confirm&&e.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:e.siteId},success:function(t){0==t.code&&t.data&&(e.hasFollow=!e.hasFollow,e.$util.showToast({title:"取消成功"})),e.$forceUpdate()}})}}):this.$api.sendRequest({url:"/api/shopmember/add",data:{site_id:this.siteId},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code)return t.$util.showToast({title:"登录失败"}),void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+t.siteId},"redirectTo")}),1e3);0==e.code&&(t.hasFollow=!t.hasFollow,t.$util.showToast({title:"关注成功"})),t.$forceUpdate()}}):this.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+this.siteId},"redirectTo")},toIntroduction:function(){"otherpages/shop/introduce/introduce"!=getCurrentPages()[getCurrentPages().length-1].route&&this.$util.redirectTo("/otherpages/shop/introduce/introduce",{site_id:this.siteId})},getShopInfo:function(){var t=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.shopInfo=e.data)}})},isFollow:function(){var t=this;this.$api.sendRequest({url:"/api/shopmember/issubscribe",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.hasFollow=e.data)}})}}};e.default=o},c205:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var o={diyShopInfo:i("948c").default,nsProgress:i("6bdf").default,loadingCover:i("1d00").default,uniPopup:i("a492").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{"data-theme":t.themeStyle}},[i("v-uni-view",{staticClass:"store"},[i("diy-shop-info",{attrs:{siteId:t.siteId,type:0}}),i("v-uni-view",{staticClass:"store-desc"},[i("v-uni-view",{staticClass:"desc-title"},[t._v("店铺介绍")])],1),i("v-uni-view",{staticClass:"store-exper"},[i("v-uni-view",{staticClass:"exper-info"},[i("v-uni-view",{staticClass:"exper-desc font-size-tag color-tip"},[t._v(t._s(t.shopInfo.seo_description))])],1)],1),i("v-uni-view",{staticClass:"store-eval"},[i("v-uni-view",{staticClass:"eval-li"},[i("v-uni-text",{staticClass:"margin-right"},[t._v("描述相符")]),i("v-uni-view",{staticClass:"line margin-right"},[i("ns-progress",{attrs:{progress:t.shopDesccredit}})],1),i("v-uni-text",{staticClass:"margin-right grade color-base-text"},[t._v(t._s(t.shopInfo.shop_desccredit))])],1),i("v-uni-view",{staticClass:"eval-li"},[i("v-uni-text",{staticClass:"margin-right"},[t._v("服务态度")]),i("v-uni-view",{staticClass:"line margin-right"},[i("ns-progress",{attrs:{progress:t.shopServicecredit}})],1),i("v-uni-text",{staticClass:"margin-right grade color-base-text"},[t._v(t._s(t.shopInfo.shop_servicecredit))])],1),i("v-uni-view",{staticClass:"eval-li"},[i("v-uni-text",{staticClass:"margin-right"},[t._v("物流服务")]),i("v-uni-view",{staticClass:"line margin-right"},[i("ns-progress",{attrs:{progress:t.shopDeliverycredit}})],1),i("v-uni-text",{staticClass:"margin-right grade color-base-text"},[t._v(t._s(t.shopInfo.shop_deliverycredit))])],1)],1),t.shopInfo.shop_zhping||t.shopInfo.shop_qtian||t.shopInfo.shop_erxiaoshi||t.shopInfo.shop_xiaoxie||t.shopInfo.shop_baozh||t.shopInfo.shop_tuihuo||t.shopInfo.shop_shiyong||t.shopInfo.shop_shiti?[i("v-uni-view",{staticClass:"store-desc"},[i("v-uni-view",{staticClass:"desc-title"},[t._v("商家服务")])],1),i("v-uni-view",{staticClass:"store-explain"},[t.shopInfo.shop_zhping?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("正品保障")])],1):t._e(),t.shopInfo.shop_qtian?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("七天无理由退换")])],1):t._e(),t.shopInfo.shop_erxiaoshi?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("两小时发货")])],1):t._e(),t.shopInfo.shop_xiaoxie?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("消协保证")])],1):t._e(),t.shopInfo.shop_baozh?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("保证服务")])],1):t._e(),t.shopInfo.shop_tuihuo?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("退货承诺")])],1):t._e(),t.shopInfo.shop_shiyong?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("试用中心")])],1):t._e(),t.shopInfo.shop_shiti?i("v-uni-view",{staticClass:"explain-li"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"}},[t._v("实体验证")])],1):t._e()],1)]:t._e(),i("v-uni-view",{staticClass:"store-desc"},[i("v-uni-view",{staticClass:"desc-title"},[t._v("店铺信息")])],1),i("v-uni-view",{staticClass:"store-base-info"},[t.shopInfo.site_name?i("v-uni-view",{staticClass:"base-li"},[i("v-uni-text",[t._v("店铺名称")]),i("v-uni-text",{staticClass:"color-sub"},[t._v(t._s(t.shopInfo.site_name))])],1):t._e(),t.shopInfo.telephone?i("v-uni-view",{staticClass:"base-li"},[i("v-uni-text",[t._v("服务电话")]),i("v-uni-text",{staticClass:"color-sub"},[t._v(t._s(t.shopInfo.telephone))])],1):t._e(),t.shopInfo.qq?i("v-uni-view",{staticClass:"base-li"},[i("v-uni-text",[t._v("QQ")]),i("v-uni-text",{staticClass:"color-sub"},[t._v(t._s(t.shopInfo.qq))])],1):t._e(),t.shopInfo.ww?i("v-uni-view",{staticClass:"base-li"},[i("v-uni-text",[t._v("阿里旺旺")]),i("v-uni-text",{staticClass:"color-sub"},[t._v(t._s(t.shopInfo.ww))])],1):t._e(),t.workingDay?i("v-uni-view",{staticClass:"base-li"},[i("v-uni-text",[t._v("工作日")]),i("v-uni-text",{staticClass:"color-sub"},[t._v(t._s(t.workingDay))])],1):t._e()],1),t.shopInfo.latitude&&t.shopInfo.longitude?i("v-uni-view",{staticClass:"store-desc"},[i("v-uni-view",{staticClass:"desc-title"},[t._v("店铺位置")])],1):t._e(),t.shopInfo.latitude&&t.shopInfo.longitude?i("v-uni-view",{staticClass:"store-base-info"},[i("v-uni-map",{attrs:{latitude:Number(t.shopInfo.latitude),markers:t.markers,longitude:Number(t.shopInfo.longitude)}}),i("v-uni-view",{staticClass:"margin-top"},[i("v-uni-text",[t._v(t._s(t.shopInfo.full_address)+t._s(t.shopInfo.address))])],1),i("v-uni-cover-view",{staticClass:"store-map-dark",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMapLg.apply(void 0,arguments)}}})],1):t._e(),i("v-uni-view",{staticClass:"follow-and-share"},[i("v-uni-view",{staticClass:"follow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSharePopup()}}},[i("v-uni-text",{staticClass:"iconfont iconiconfontzhizuobiaozhun023130"})],1)],1),i("loading-cover",{ref:"loadingCover"}),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"posterPopup",staticClass:"poster-layer",attrs:{type:"bottom"}},["-1"!=t.poster?[i("v-uni-view",{style:{height:t.posterHeight>0?t.posterHeight+80+"px":""}},[i("v-uni-view",{staticClass:"image-wrap"},[i("v-uni-image",{style:{height:t.posterHeight>0?t.posterHeight+"px":""},attrs:{src:t.$util.img(t.poster)}})],1),i("v-uni-view",{staticClass:"save"},[t._v("长按保存图片")])],1),i("v-uni-view",{staticClass:"close iconfont iconclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePosterPopup()}}})]:i("v-uni-view",{staticClass:"msg"},[t._v(t._s(t.posterMsg))])],2)],1),i("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"sharePopup",staticClass:"share-popup",attrs:{type:"bottom"}},[i("v-uni-view",[i("v-uni-view",{staticClass:"share-title"},[t._v("分享")]),i("v-uni-view",{staticClass:"share-content"},[i("v-uni-view",{staticClass:"share-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPosterPopup.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"share-btn",attrs:{plain:!0}},[i("v-uni-view",{staticClass:"iconfont iconpengyouquan"}),i("v-uni-text",[t._v("生成分享海报")])],1)],1)],1),i("v-uni-view",{staticClass:"share-footer",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSharePopup.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("取消分享")])],1)],1)],1)],1)],2)],1)},s=[]},d9cb:function(t,e,i){"use strict";var o=i("1d3f"),a=i.n(o);a.a},e8e8:function(t,e,i){"use strict";i("d3b7"),i("acd8"),i("ac1f"),i("25f0"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{shopInfo:{},shopDesccredit:0,shopServicecredit:0,shopDeliverycredit:0,workingDay:""}},methods:{getShopInfo:function(){var t=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(e){if(0==e.code){t.shopInfo=e.data,t.shopDesccredit=Math.floor(100*parseFloat(t.shopInfo.shop_desccredit)/5),t.shopServicecredit=Math.floor(100*parseFloat(t.shopInfo.shop_servicecredit)/5),t.shopDeliverycredit=Math.floor(100*parseFloat(t.shopInfo.shop_deliverycredit)/5);var i=t.shopInfo.work_week.split(",");7==i.length&&(t.workingDay="全天");for(var o=0;o<i.length;o++)1==i[o]&&(i[o]="星期一"),2==i[o]&&(i[o]="星期二"),3==i[o]&&(i[o]="星期三"),4==i[o]&&(i[o]="星期四"),5==i[o]&&(i[o]="星期五"),6==i[o]&&(i[o]="星期六"),7==i[o]&&(i[o]="星期天");t.workingDay=i.toString()}else t.$util.showToast({title:e.message});t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}}};e.default=o},f77f:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"progress"},[i("v-uni-view",{ref:"progress",staticClass:"progress-bar color-base-bg",style:{width:t.progress+"%"}})],1)},s=[]}}]);