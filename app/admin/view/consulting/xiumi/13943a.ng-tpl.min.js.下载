/*! . Copyright © 2014 Triton Information. All rights reserved. */

!function(t){"use strict";var n="triton.tpl.studio.views";(t.tn_ng_tpl_box=t.tn_ng_tpl_box||{})[n]=function(t){return t.module(n,[]).run(["$templateCache",function(t){t.put("/views/app/common/dialog/alert.html",'<div class="modal-header clearfix"> <h3 class="modal-title" ng-bind="title || \'通知\'"></h3> </div> <div class="modal-body clearfix" ng-class="alertType"> <h4 class="text-center tn-color-red"> <span ng-bind="message"></span> </h4> </div> <div class="modal-footer clearfix" style="text-align: center;"> <button class="btn btn-green" style="padding-left: 36px;padding-right: 36px;" type="button" ng-click="ok()" ng-class="alertBtnType">确定</button> </div> '),t.put("/views/app/common/dialog/alertEx.html",'<div class="modal-header clearfix"> <h3 class="modal-title" ng-bind="title || \'通知\'"></h3> </div> <div class="modal-body clearfix" ng-class="alertType"> <h4 class="text-center tn-color-red"> <span ng-bind="message"></span> </h4> </div> <div class="modal-footer clearfix" style="text-align: center;"> <div ng-hide="show2Button"> <button class="btn btn-green" style="padding-left: 36px;padding-right: 36px;" type="button" ng-click="ok()" ng-class="alertBtnType">确定</button> </div> <div ng-show="show2Button"> <button class="btn btn-green" style="padding-left: 36px;padding-right: 36px;" type="button" ng-click="ok()" ng-class="alertBtnType">确定</button> <a class="btn btn-green" role="button" target="_blank" ng-href="{{button2Url}}" style="padding-left: 36px;padding-right: 36px;" ng-click="button2()" ng-class="alertBtnType">{{button2Text}}</a> </div> </div> '),t.put("/views/app/common/dialog/applyShowGoods.html",'<div class="modal-header clearfix"> <h3 class="modal-title" ng-show="ctrl.authorState.state == \'passed\'">申请成为风格模板</h3> <h3 class="modal-title" ng-hide="ctrl.authorState.state == \'passed\'">申请风格模板的投稿资格</h3> </div> <div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true" ng-show="ctrl.authorState.state == \'passed\'"> <uib-tab index="0" heading="申请成为风格模板" select="ctrl.onSelectApplyShowGoods()"> <div class="panel" style="border-width: 0px" ng-if="!ctrl.show"> <div class="panel-body"> <p class="text-warning"> 秀可能被删除了，也许您目前没有存取这个秀的权限。 </p> </div> </div> <div class="panel" style="border-width: 0px; margin-bottom:0px;" ng-if="ctrl.show"> <div class="panel-body" style="padding: 0px;"> <div class="row"> <div class="col-sm-12"> <p><br></p> </div> <div class="col-sm-12" ng-show="ctrl.show.version < 5"> <div class="alert alert-danger" role="alert"> <p class="bg-danger">不能对老版本的文档进行申请操作</p> </div> </div> </div> <div class="row" ng-if="ctrl.show.showGoodsApplication == null"> <div class="col-sm-12"> <label class="">指定价格（米点）：</label> </div> <div class="col-sm-12" ng-show="ctrl.userOnSaleGoodsCount == 0"> <p class="tn-color-light-gray">申请一个免费的风格模板通过后，就可以申请付费风格模板</p> </div> <div class="col-sm-12"> <div class="price-block"> <div class="price-item" ng-repeat="priceItem in ctrl.prices" ng-class="{ active: ctrl.price == priceItem, disabled: (ctrl.userOnSaleGoodsCount == 0 && priceItem > 0) }" ng-click="ctrl.onPriceSelected(priceItem)" ng-switch="priceItem"> <span ng-switch-when="0">免费</span> <span ng-switch-default>{{ priceItem.toFixed(2) }}</span> </div> </div> </div> <div ng-if="false" class="col-sm-12" ng-show="ctrl.price > 0.0"> <label> <input type="checkbox" ng-model="ctrl.makeTemplateMembership" ng-disabled="ctrl.price <= 0.0"> 作为会员模板 <a class="no-decoration" target="_blank" href="https://v.xiumi.us/board/v5/2a5va/164207525"> <span style="margin-left:10px;">查看会员模板-作者版说明</span> </a> </label> </div> <div class="col-sm-12"> <p><br></p> </div> </div> <div class="row" ng-if="ctrl.show.showGoodsApplication == null"> <div class="col-sm-12"> <label>选择合适的标签，有助于让别人找到你的作品：</label> </div> <div class="col-sm-12"> <div class="tag-lv-1-block" ng-repeat="tagLv1 in ctrl.tagLv1List track by tagLv1.tag_id"> <label class="tag-lv-1-name">{{ tagLv1.tag_name }}</label> <div class="tag-lv-0-block"> <span class="tag-lv-0" ng-repeat="tagLv0 in tagLv1.childTags track by tagLv0.tag_id" ng-class="{ \'active\': ctrl.isTagActive(tagLv0.tag_id) }" ng-click="ctrl.onToggleTag(tagLv0.tag_id)"> {{ tagLv0.tag_name }} </span> </div> </div> </div> <div class="col-sm-12"> <p><br></p> </div> </div> <div class="row" ng-if="ctrl.show.showGoodsApplication != null"> <div class="col-sm-12"> <p><br></p> </div> <div class="col-sm-8"> <p>修改已完成，申请审核，审核结果会通过站内信通知，请留意</p> </div> <div class="col-sm-4"> <p> <button class="btn btn-primary" type="button" ng-disabled="!ctrl.agreement || ctrl.show.showGoodsApplication.state != 4" ng-click="ctrl.onSendSaveShowApply()"> 发送已修改申请 </button> </p> </div> </div> <div class="row"> <div class="col-sm-12"> <p><br></p> </div> <div class="col-sm-12"> <label> <input type="checkbox" ng-model="ctrl.agreement"> 我已阅读并同意 <a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/86107215" target="_blank">风格模板申请协议</a> 所述内容 </label> </div> </div> <div class="row" ng-show="ctrl.applyingShowGoodsMsg.length > 0"> <div class="col-sm-12"> <p><br></p> </div> <div class="col-md-12"> <div class="alert alert-warning"> <strong><p ng-bind-html="ctrl.applyingShowGoodsMsg|unsafe"></p></strong> </div> </div> </div> </div> </div> </uib-tab> <uib-tab index="1" heading="撤回投稿申请" select="ctrl.onSelectMyShowGoodsApplyStatus()"> <div class="panel" ng-show="ctrl.myApplyingGoods.length <= 0"> <div class="row"> <div class="col-md-12" style="margin-top:20px"> <p class="text-info text-center"><strong>目前还没有待审核的投稿申请</strong></p> </div> </div> </div> <div class="row tn-apply-goods-panel" tn-scroll-touch="ctrl.onBoxScroll($event)" tn-scroll-touch-for=".tn-apply-goods-panel" style="overflow: auto; max-height: 690px;" ng-cloak> <table class="table table-striped"> <thead> <tr> <th>标题</th> <th>状态</th> <th>操作</th> </tr> </thead> <tbody> <tr ng-repeat="sheet in ctrl.myApplyingGoods track by $id(sheet)"> <td> <p> {{::sheet.title}} </p> </td> <td> <span class="label" ng-class="sheet.stateClass">{{::sheet.stateText}}</span> </td> <td> <button class="btn btn-danger" ng-click="ctrl.revokeApply(sheet)" title="撤销申请" ng-show="(sheet.applyType == \'new_goods\') && (sheet.state == \'applying\' || sheet.state==\'auditing\' || sheet.state==\'modifying\'|| sheet.state==\'modified\' )"> 撤销审核 </button> </td> </tr> </tbody> </table> </div> </uib-tab> </uib-tabset> <div class="panel" ng-show="ctrl.authorState.state != \'passed\'"> <div class="row" ng-show="ctrl.authorState.state == \'never-apply\' || ctrl.authorState.state == \'rejected\' && ctrl.authorState.days == 0"> <div class="col-md-12"> <p>先将至少3篇个人作品发布到“我的主页”，然后在这里提交主页链接：</p><br> </div> <div class="form-group"> <label class="col-md-2 control-label" style="padding-right:0">主页链接：</label> <div class="col-md-8" style="padding-left:0"> <input type="text" class="form-control" ng-model="ctrl.authorState.url" placeholder="{{ ctrl.authorState.placeholder }}" ng-keydown="ctrl.onInputKeydown($event)" tn-autofocus="true"> </div> </div> <div class="col-sm-12"> <br> <label>点此查看<a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/86107215" target="_blank">风格模板申请协议</a> </label> </div> </div> <div class="row" ng-show="ctrl.authorState.state == \'applying\' || ctrl.authorState.state == \'auditing\'"> <h4 class="text-center">目前状态：<span class="text-danger">{{ctrl.authorState.stateText}}</span></h4> <div class="col-md-12"> <p class="text-info text-center"> <strong>申请已经提交,正在审核中。请耐心等侯通知</strong> </p> </div> </div> <div class="row" ng-show="ctrl.authorState.state == \'rejected\' && ctrl.authorState.days > 0"> <h4 class="text-center">目前状态：<span class="text-danger">{{ctrl.authorState.stateText}}</span></h4> <div class="col-md-12"> <p class="text-info text-left"> <strong>申请被拒绝,<span class="text-danger" ng-show="ctrl.authorState.days > 0">还要再等{{ctrl.authorState.days}}天才能再次申请</span></strong> </p> <p class="text-info text-left"> <string>被拒原因：</string>{{ctrl.authorState.remark}} </p> </div> </div> </div> </div> <div class="modal-footer clearfix"> <div ng-switch="ctrl.currentTabIndex" ng-show="ctrl.authorState.state == \'passed\'"> <div ng-switch-when="0"> <button class="btn btn-green" type="button" ng-disabled="!ctrl.agreement || ctrl.price == null" ng-show="ctrl.show != null && ctrl.show.showGoodsApplication == null" ng-click="ctrl.ok()" ng-disabled="ctrl.show.version < 5">提交申请</button> <button class="btn btn-red" type="button" ng-click="ctrl.cancel()">放弃</button> </div> <div ng-switch-when="1"> <button class="btn btn-green" type="button" ng-click="ctrl.done()">关闭 </button> </div> </div> <div ng-show="ctrl.authorState.state != \'passed\'"> <div ng-show="ctrl.authorState.state == \'applying\' || ctrl.authorState.state == \'auditing\' "> <button class="btn btn-green" type="button" ng-click="ctrl.done()">关闭 </button> </div> <div ng-show="ctrl.authorState.state == \'rejected\' && ctrl.authorState.days > 0"> <button class="btn btn-green" type="button" ng-click="ctrl.done()">关闭 </button> </div> <div ng-show="ctrl.authorState.state == \'never-apply\' || ctrl.authorState.state == \'rejected\' && ctrl.authorState.days == 0"> <button class="btn btn-green" type="button" ng-disabled="!ctrl.authorState.url" ng-click="ctrl.authorApply()">提交申请</button> <button class="btn btn-red" type="button" ng-click="ctrl.cancel()">放弃</button> </div> </div> </div> '),t.put("/views/app/common/dialog/confirm.html",'<div class="modal-header clearfix"> <h3 class="modal-title">请确认</h3> </div> <div class="modal-body clearfix"> <h4 class="text-center tn-color-red"> <span ng-bind="message"></span> </h4> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" tn-autofocus="::options.defaultOk" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" tn-autofocus="::!options.defaultOk" type="button" ng-click="cancel()">取消</button> </div> '),t.put("/views/app/common/dialog/dialogAudioClip.html",'<div class="modal-header"> <h3 class="modal-title">设置音乐</h3> </div> <div class="modal-body text-center tn-dialog-order-detail"> <div class="text-center"> <span>音乐长度：{{state.durationStr}}秒</span> <span>当前时间：{{state.currTimeStr}}秒</span> </div> <div range-slider min="0" max="state.duration" model-min="minFn" model-max="maxFn" on-handle-down="onHandleDown()" on-handle-up="onHandleUp()" getter-setter="true" decimal-places="1" step="0.1" prevent-equal-min-max="true" disabled></div> <div class=""> <form class="form-inline audio-clip-info" role="form"> <div class="form-group start-time"> <label class="control-label">起始时间</label> <input type="number" class="form-control" placeholder="起始时间" required ng-model="state.inputMin" ng-keyup="onInputMinKeyup($event)" ng-blur="onInputMinBlur($event)" ng-disabled="state.duration == 0"> </div> <div class="form-group end-time"> <label class="control-label">结束时间</label> <input type="number" class="form-control" placeholder="结束时间" ng-model="state.inputMax" ng-keyup="onInputMaxKeyup($event)" ng-blur="onInputMaxBlur($event)" ng-disabled="state.duration == 0"> </div> <div class="form-group preview" ng-show="state.duration > 0"> <button type="button" class="btn btn-default" ng-click="onPlayClick($event)"> <span class="glyphicon glyphicon-play" ng-hide="state.playing"></span> <span class="glyphicon glyphicon-pause" ng-show="state.playing"></span> </button> </div> </form> </div> <audio class="clip-audio" ng-src="{{audio.url}}" style="visibility: hidden;" id="audio-clip-ctrl" ng-hide="true"></audio> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> <button class="btn btn-green" type="button" ng-disabled="state.duration == 0" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogBindEmail.html",'<div class="modal-header"> <h3 class="modal-title">设置邮箱</h3> </div> <div class="modal-body clearfix"> <div class="center-v col-xs-12 col-sm-12"> <form class="form-horizontal" name="validateForm"> <div class="row"> <div class="form-group"> <label for="email" class="col-sm-3 col-xs-3 control-label">邮箱</label> <div class="col-sm-6 col-xs-5"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱地址" required ng-model="validateData.email"> <div class="alert alert-danger" role="alert" ng-show="validateForm.email.$dirty && validateForm.email.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入合法的邮箱地址</span> </div> </div> <div class="col-sm-3 col-xs-4 text-right"> <button type="button" class="btn btn-success" style="width: 100%" ng-disabled="validateForm.email.$invalid || disableSend" ng-click="onSendEmail()" ng-bind="sendBtnText">发送邮件</button> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="code" placeholder="请输入六位验证码" required ng-model="validateData.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> </div> </div> </div> </form> </div> </div> <div class="modal-footer"> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="validateForm.email.$invalid || validateForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogBindPhone.html",'<div class="modal-header"> <h3 class="modal-title">绑定手机号</h3> </div> <div class="modal-body clearfix"> <div><span>依照相关法律法规要求，需要先完成手机验证后才能继续使用秀米，感谢理解及支持！</span></div> <div><span>一个手机号只能绑定一个账号，如果有多个账号，但手机号只有一个，例如一个微信账号，一个手机账号:</span></div> <div><span>1. 微信账号是常用账号，手机账号不常用，那么登录手机账号，把内容另存过去，然后注销，再登录微信账号，进行手机绑定</span></div> <div><span>2. 微信账号不常用，手机账号常用，希望把微信绑定到常用账号上，就需要另一个手机，先登录微信账号，绑定手机，另存内容，注销微信账号，再登录常用的手机账号，绑定微信。</span></div> <div><span>3. 左下角可以退出登录切换账号</span></div> <form class="phone-form form-horizontal" name="phoneForm" style="margin-top: 20px"> <div class="form-group"> <label for="phone" class="col-sm-3 col-xs-3 control-label">手机号</label> <div class="col-sm-9 col-xs-9"> <div class="phone-group"> <button class="btn btn-primary" ng-click="onChangeArea()" ng-bind="changePhone.areaName"></button> <input type="phone" class="phone-input form-control" name="phone" placeholder="请输入手机号" required ng-model="changePhone.phone" ng-minlength="1" ng-maxlength="16" ng-pattern="phoneRegExp"> <button class="btn btn-success send-button" ng-disabled="phoneForm.phone.$invalid || disableSms" ng-click="onSendSms()" ng-bind="sendSmsText">获取验证码</button> </div> <div class="alert alert-danger" role="alert" ng-show="phoneForm.phone.$dirty && phoneForm.phone.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入手机号</span> </div> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="code" placeholder="请输入六位验证码" required ng-model="changePhone.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.code.$dirty && phoneForm.code.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入六位验证码</span> </div> </div> </div> <div class="form-group" ng-show="!userInfo.email" ng-if="changePhone.areaCode == 86"> <label for="email" class="col-sm-3 col-xs-3 control-label">邮箱</label> <div class="col-sm-9 col-xs-9"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱（选填）" ng-model="changePhone.email" autocomplete="email"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.email.$dirty && phoneForm.email.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入合法的邮箱</span> </div> </div> </div> <div class="form-group" ng-show="!userInfo.email" ng-if="changePhone.areaCode != 86"> <label for="email" class="col-sm-3 col-xs-3 control-label">邮箱</label> <div class="col-sm-9 col-xs-9"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱（必填）" required ng-model="changePhone.email" autocomplete="email"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.email.$dirty && phoneForm.email.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入合法的邮箱</span> </div> </div> </div> </form> </div> <div class="modal-footer"> <a class="no-decoration" style="position: absolute; display: flex; margin-top: 7px;" href="javascript:void(0)" ng-click="onSignOutClick()">退出登录</a> <button class="btn btn-green" ng-disabled="phoneForm.phone.$invalid || phoneForm.code.$invalid || phoneForm.email.$invalid || changePhone.busy" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogCaptchaEmail.html",'<div class="modal-header"> <h4 class="modal-title">发送验证码</h4> </div> <div class="modal-body clearfix"> <form class="form-horizontal" name="captchaForm"> <div class="row"> <div class="form-group"> <label for="phone" class="col-sm-3 col-xs-3 control-label">邮箱</label> <div class="col-sm-8 col-xs-8"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱" ng-model="captchaInfo.email" ng-disabled="true" autocomplete="email"> </div> </div> <div class="form-group"> <label for="captcha" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-5 col-xs-5"> <input type="text" class="form-control" name="captcha" placeholder="请输入验证码" required ng-model="captchaInfo.captcha" ng-minlength="4" ng-maxlength="4" autocomplete="off"> </div> <div class="col-sm-3 col-xs-3"> <img class="captcha-img" ng-src="{{captchaUrl}}" ng-click="refreshCaptcha()" alt="captcha"> </div> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="captchaForm.captcha.$invalid" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogCaptchaPhone.html",'<div class="modal-header"> <h4 class="modal-title">发送验证码</h4> </div> <div class="modal-body clearfix"> <form class="captcha-form form-horizontal" name="captchaForm"> <div class="form-group"> <label for="phone" class="col-sm-3 col-xs-3 control-label">手机号</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="phone" placeholder="请输入手机号" required ng-model="captchaInfo.phone" ng-disabled="true" ng-minlength="1" ng-maxlength="16"> </div> </div> <div class="form-group"> <label for="captcha" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-5 col-xs-5"> <input type="text" class="form-control" name="captcha" placeholder="请输入验证码" required ng-model="captchaInfo.captcha" ng-minlength="4" ng-maxlength="4" autocomplete="off"> </div> <div class="col-sm-4 col-xs-4"> <img class="captcha-img" ng-src="{{captchaUrl}}" ng-click="refreshCaptcha()" alt="captcha"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="captchaForm.captcha.$invalid" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogChangeEmail.html",'<div class="modal-header"> <h3 class="modal-title">修改邮箱</h3> </div> <div class="modal-body clearfix"> <form class="phone-form form-horizontal" name="phoneForm"> <div class="form-group"> <label for="email" class="col-sm-3 col-xs-3 control-label">新的邮箱</label> <div class="col-sm-9 col-xs-9"> <div class="phone-group"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱地址" required ng-model="validateData.email"> <button class="btn btn-success send-button" ng-disabled="phoneForm.email.$invalid || disableSend" ng-click="onSendEmail()" ng-bind="sendBtnText">发送验证邮件</button> </div> <div class="alert alert-danger" role="alert" ng-show="phoneForm.email.$dirty && phoneForm.email.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入合法的邮箱地址</span> </div> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="code" placeholder="输入邮件中的六位验证码后即可成功绑定" required ng-model="validateData.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.code.$dirty && phoneForm.code.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入六位验证码</span> </div> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="phoneForm.email.$invalid || phoneForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogChangeMapTitle.html",'<div class="modal-header"> <h3 class="modal-title">设置位置名称</h3> </div> <div class="modal-body clearfix"> <div class="center-v col-xs-12 col-sm-12"> <form class="form-horizontal"> <div class="row"> <div class="form-group"> <label class="col-md-2 control-label" style="padding-right:0">标题：</label> <div class="col-md-8"> <input type="text" class="form-control" ng-model="inner.title" placeholder="请输入位置名称"> </div> </div> </div> </form> </div> </div> <div class="modal-footer"> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="validateForm.email.$invalid || validateForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogChangePhone.html",'<div class="modal-header"> <h3 class="modal-title">修改手机号</h3> </div> <div class="modal-body clearfix"> <form class="phone-form form-horizontal" name="phoneForm"> <div class="form-group"> <label for="phone" class="col-sm-3 col-xs-2 control-label">手机号</label> <div class="col-sm-9 col-xs-10"> <div class="phone-group"> <button class="btn btn-primary" ng-click="onChangeArea()" ng-bind="validateData.areaName"></button> <input type="phone" class="phone-input form-control" name="phone" placeholder="请输入手机号" required ng-model="validateData.phone" ng-minlength="1" ng-maxlength="16" ng-pattern="phoneRegExp"> <button class="btn btn-success send-button" ng-disabled="phoneForm.phone.$invalid || disableSend" ng-click="onSendSms()" ng-bind="sendBtnText">发送验证码</button> </div> <div class="alert alert-danger" role="alert" ng-show="phoneForm.phone.$dirty && phoneForm.phone.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入手机号，首位请勿输入0</span> </div> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-2 control-label">验证码</label> <div class="col-sm-9 col-xs-10"> <input type="text" class="form-control" name="code" placeholder="请输入六位验证码" required ng-model="validateData.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.code.$dirty && phoneForm.code.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入六位验证码</span> </div> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="phoneForm.phone.$invalid || phoneForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogPayQr.html",'<div class="modal-body clearfix text-center"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="支付宝支付" active="isAlipay" select="onSelectAlipay()"> <div ng-show="order.deduction_amount > 0" class="desc"> <span>使用米点抵扣了{{order.deduction_amount}}元，取消订单米点会返回到账号</span> </div> <div class="err" ng-show="!isAlipayProgress && !order.qr_code"> 创建支付宝订单失败，请稍后重试！ </div> <div ng-show="!isAlipayProgress && !!order.qr_code"> <div class="desc"> <span>请使用支付宝扫描二维码支付{{order.unpaid_amount}}元</span> </div> <div class="img"> <qrcode qr-data="order.qr_code" qr-size="240" qr-background="white"></qrcode> </div> </div> <div class="desc"> <p>发票可在账号设置->我的订单处索取</p> <p>如需对公转账 <a href="//v.xiumi.us/board/v5/2a5va/211432927" target="_blank">请看这里</a></p> </div> </uib-tab> <uib-tab index="1" heading="微信支付" active="isWxpay" select="onSelectWxpay()"> <div ng-show="order.deduction_amount > 0" class="desc"> <span>使用米点抵扣了{{order.deduction_amount}}元，取消订单米点会返回到账号</span> </div> <div class="err" ng-show="!isWxpayProgress && !order.code_url"> 创建微信订单失败，请稍后重试！ </div> <div ng-show="!isWxpayProgress && !!order.code_url"> <div class="desc"> <span>请使用微信扫描二维码支付{{order.unpaid_amount}}元</span> </div> <div class="img"> <qrcode qr-data="order.code_url" qr-size="240" qr-background="white"></qrcode> </div> </div> <div class="desc"> <p>发票可在账号设置->我的订单处索取</p> <p>如需对公转账 <a href="//v.xiumi.us/board/v5/2a5va/211432927" target="_blank">请看这里</a></p> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="onDelayOrder()">暂不支付</button> </div>'),t.put("/views/app/common/dialog/dialogSelectArea.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="false"> <uib-tab index="0" heading="常用" select="onCategorySelected(\'常用\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="亚洲" select="onCategorySelected(\'亚洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="欧洲" select="onCategorySelected(\'欧洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="北美洲" select="onCategorySelected(\'北美洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="南美洲" select="onCategorySelected(\'南美洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="大洋洲" select="onCategorySelected(\'大洋洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> <uib-tab index="1" heading="非洲" select="onCategorySelected(\'非洲\')"> <div class="area-item" ng-class="::{ \'selected-area\': area.code == selectedAreaCode }" ng-repeat="area in areaList" ng-click="onAreaClicked(area)"> <span>{{area.nameCode}}</span> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer"> <button class="btn btn-red" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/common/dialog/dialogSendTo.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="另存给个人" active="isSendUser" select="onCategorySelect(\'user\')"> <div class="center-v col-xs-12 col-sm-12"> <form name="assetSubmitForm"> <h3 class="row title text-center">请输入对方账号绑定的手机或邮箱</h3> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="imageUrlInput" ng-model="selected.toUserCondition" ng-change="onUserEmailInputChange()" auto-focus-on="mouseover" auto-select-on="mouseover" stop-propagation="click" placeholder="将另存给对方的秀米账户"> </div> </div> <h3 class="row title text-center">或点击选择联系人</h3> <div class="row" style="max-height: 430px; overflow: auto;"> <table class="table table-striped table-bordered table-hover"> <thead style="background-color: #d3d3d3;"> <tr> <th>昵称</th> <th>邮箱</th> <th>手机</th> </tr> </thead> <tbody style="cursor: pointer"> <tr role="row" ng-repeat="contacts in contactsList track by $id(contacts)" ng-class="{even: !$even, odd: !$odd}" ng-click="selectContact(contacts)" ng-cloak> <td>{{contacts.nickname}}</td> <td>{{contacts.email}}</td> <td>{{contacts.phone}}</td> </tr> </tbody> </table> </div> <div class="pull-right"> <a href="/#/user/contacts" class="no-decoration" target="_blank"> 管理我的联系人 </a> </div> </form> </div> </uib-tab> <uib-tab index="1" heading="另存给团队" active="isSendTeam" select="onCategorySelect(\'team\')"> <div class="center-v col-xs-12 col-sm-12"> <form name="assetSubmitForm"> <h3 class="col-sm-12 title text-center">请输入团队收件箱</h3> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" type="email" ng-model="selected.toTeamEmail" ng-change="onTeamEmailInputChange()" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="将另存给该团队账户"> </div> </div> <h3 class="row title text-center">或点击选择团队</h3> <div class="row"> <table class="table table-striped table-hover vertical-middle"> <thead style="background-color: #d3d3d3;"> <tr> <th>团队名</th> <th>描述</th> </tr> </thead> <tbody style="cursor: pointer"> <tr role="row" ng-repeat="team in teamList track by $id(team)" ng-class="{ info: team === selected.toTeam }" ng-click="onSelectTeam(team)" ng-cloak> <td ng-bind="team.display_name"></td> <td class="tn-color-gray" ng-bind="team.desc"></td> </tr> <tr ng-if="!teamList.length" ng-cloak> <td colspan="2" class="text-center tn-color-gray"> <div>您还没有加入到任何团队</div> <div> <a href="" ui-sref="studio.teams.list" class="no-decoration" ng-click="cancel()">团队是什么？</a> </div> </td> </tr> </tbody> </table> </div> </form> </div> </uib-tab> <uib-tab index="2" heading="另存二维码" active="sendWechat" ng-show="!!qrshow" select="onCategorySelect(\'wechat\')"> <div class="center-v text-center col-xs-12 col-sm-12"> <form name="assetSubmitForm"> <div class="row" style="margin: 20px auto;" ng-show="qrError"> <span>{{qrError}}</span> </div> <div class="row" style="margin: 20px auto;" ng-hide="qrError"> <span>扫码会打开一个另存页面，将它转发给对方即可。</span> </div> <div class="row" ng-hide="qrError"> <qrcode qr-data="qrUrl" qr-size="240" qr-background="white"></qrcode> </div> </form> </div> </uib-tab> <uib-tab index="3" heading="另存记录" active="sendRecord" select="onCategorySelect(\'record\')"> <div class="center-v col-xs-12 col-sm-12"> <form name="assetSubmitForm"> <div class="row"> <table class="table table-striped table-hover vertical-middle"> <thead style="background-color: #d3d3d3;"> <tr> <th>标题</th> <th>名称</th> <th>方式</th> <th>时间</th> </tr> </thead> <tbody style="cursor: pointer"> <tr role="row" ng-repeat="record in recordData.records track by $id(record)"> <td ng-bind="record.title"></td> <td ng-bind="record.save_to_name"></td> <td ng-bind="record.save_to_email"></td> <td ng-bind="record.created_at | date:\'yyyy年M月d日 HH:mm\'"></td> </tr> <tr ng-if="!recordData.records.length" ng-cloak> <td colspan="4" class="text-center tn-color-gray"> <div>尚未另存给他人</div> </td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-red" uib-pagination max-size="5" ng-model="recordData.currentPageNum" ng-change="onPageChange()" total-items="recordData.totalItems" items-per-page="recordData.itemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> </form> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="!sendEnable" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/common/dialog/dialogTagEdit.html",'<div class="modal-header clearfix"> <h3 class="modal-title">编辑标签</h3> </div> <div class="modal-body clearfix"> <div class="center-v col-xs-12 col-sm-12"> <form class="form-horizontal" name="phoneForm"> <div class="tn-setting-section row"> <div class="form-group"> <label for="tag" class="col-sm-3 control-label">重命名</label> <div class="col-sm-6"> <input type="phone" class="form-control" name="tag" placeholder="请输入新的标签名称" required ng-model="editTag"> </div> <div class="col-sm-3 text-right"> <button type="button" class="form-control btn btn-green" style="width: 100%" ng-click="ok()">确定</button> </div> </div> <div class="form-group text-center" style="margin-top: 20px"> <div> <button type="button" class="btn btn-red" ng-click="onDeleteTag()">删除这个标签</button> </div> </div> <div class="form-group text-center"> <div> <p class="text-danger">删除标签不会删除标签下的内容</p> </div> </div> </div> </form> </div> </div>'),t.put("/views/app/common/dialog/dialogTagItem.html",'<div class="modal-header clearfix"> <h3 class="modal-title">设置标签</h3> </div> <div class="modal-body clearfix"> <div class="row"> <ul class="tag-list item-tags clearfix list-style-none ul-no-rim"> <li class="tag-item" ng-repeat="tag in itemTags"> <span class="text" ng-bind="tag"></span> <span class="glyphicon glyphicon-remove" ng-click="onRemoveTag(tag)"></span> </li> <form class="form-inline"> <div class="form-group"> <input type="text" class="form-control" placeholder="添加新标签，回车确认" ng-model="newTagText" ng-keypress="onInputKeyPress($event)"> </div> </form> </ul> </div> <hr> <div class="row"> <ul class="tag-list all-tags clearfix list-style-none ul-no-rim col-xs-12"> <li class="prefix">或选择已有标签:</li> <li class="tag-item" ng-repeat="tag in allTags" ng-click="onAddTag(tag)"> <span class="text" ng-bind="tag"></span> </li> <li class="no-tag-prompt" ng-show="!allTags.length">您还没有创建标签</li> </ul> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogTagOrder.html",'<div class="modal-header clearfix"> <h3 class="modal-title">设置标签的显示顺序</h3> </div> <div class="modal-body clearfix"> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <p>点击标签可以把它设置成常用或不常用，拖动标签可以设置显示的先后顺序，修改可以重命名或者删除标签</p> </div> <div class="tn-onboard-tags col-sm-6"> <h4 class="title text-center">常用的标签</h4> <div class="tn-tag-group text-center" ui-sortable="tagSortableOpts" ng-model="onBoardTags"> <div class="tn-tag-item" ng-repeat="onBoardTag in onBoardTags"> <div class="tn-tag tn-onboard"> <label class="name" ng-bind="onBoardTag"></label> </div> <div class="tn-mask"> <a class="clickable" ng-click="onOnBoardTagClicked($index)" target="_blank"> <div class="full-fill-a"></div> </a> <label class="edit" ng-click="onEditTag(onBoardTag)">修改</label> </div> </div> </div> </div> <div class="tn-rest-tags col-sm-6"> <h4 class="title text-center">不常用标签</h4> <div class="tn-tag-group text-center" ui-sortable="tagSortableOpts" ng-model="offlineTags"> <div class="tn-tag-item" ng-repeat="offlineTag in offlineTags"> <div class="tn-tag tn-rest"> <label class="name" ng-bind="offlineTag"></label> </div> <div class="tn-mask"> <a class="clickable" ng-click="onOfflineTagClicked($index)" target="_blank"> <div class="full-fill-a"></div> </a> <label class="edit" ng-click="onEditTag(offlineTag)">修改</label> </div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogTeam.html",'<div class="modal-header clearfix"> <h3 class="modal-title">选择团队图库</h3> </div> <div class="modal-body clearfix"> <div class="team-group text-center"> <div class="team-item" ng-repeat="team in teams" ng-click="onTeamSelected(team)"> <h4 class="title text-center">{{team.display_name}}</h4> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/common/dialog/dialogUnpaidOrder.html",'<div class="modal-header"> <h3 class="modal-title">未支付订单</h3> </div> <div class="modal-body text-center tn-dialog-order-detail"> <div> <span>当前有未支付订单，无法用米点抵扣</span> </div> </div> <div class="modal-footer"> <a class="no-decoration" style="position: absolute; display: flex; margin-top: 7px;" href="javascript:void(0)" ng-click="onViewOrder()">查看我的订单</a> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-click="onPayOrder()">继续支付</button> </div>'),t.put("/views/app/common/dialog/dialogUseWallet.html",'<div class="modal-header"> <h3 class="modal-title">确认付款</h3> </div> <div class="modal-body text-center tn-dialog-order-detail"> <form class="pay-form"> <div class="pay-amount"> <span>¥</span> <span ng-bind="status.actualPayAmount">0.00</span> </div> <div> <input type="checkbox" name="useWallet" ng-model="status.useWallet" ng-click="onDeductionChanged($event)">使用米点抵扣 (余额: {{ status.leftWallet }}米点) </div> <button type="button" ng-click="onConfirm()" class="btn btn-grey">确认支付</button> </form> </div>'),t.put("/views/app/common/dialog/dialogValidateEmail.html",'<div class="modal-header"> <h3 class="modal-title">邮箱安全验证</h3> </div> <div class="modal-body clearfix"> <form class="phone-form form-horizontal" name="phoneForm"> <div class="form-group"> <label for="email" class="col-sm-3 col-xs-3 control-label">向邮箱</label> <div class="col-sm-9 col-xs-9"> <div class="phone-group"> <input type="email" class="form-control" name="email" placeholder="请输入邮箱地址" required ng-model="validateData.email" ng-disabled="true"> <button class="btn btn-success send-button" ng-disabled="phoneForm.email.$invalid || disableSend" ng-click="onSendEmail()" ng-bind="sendBtnText">发送验证邮件</button> </div> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="code" placeholder="请输入邮件中的六位验证码" required ng-model="validateData.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.code.$dirty && phoneForm.code.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入六位验证码</span> </div> </div> </div> </form> </div> <div class="modal-footer"> <a class="no-decoration" style="position: absolute; display: flex; margin-top: 7px;" href="javascript:void(0)" ng-show="validateData.hasSms" ng-click="onUseSms()">收不到邮件？</a> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="phoneForm.email.$invalid || phoneForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/dialogValidatePhone.html",'<div class="modal-header"> <h3 class="modal-title">手机安全验证</h3> </div> <div class="modal-body clearfix"> <form class="phone-form form-horizontal" name="phoneForm"> <div class="form-group"> <label for="phone" class="col-sm-3 col-xs-3 control-label">向手机</label> <div class="col-sm-9 col-xs-9"> <div class="phone-group"> <input type="phone" class="form-control" name="phone" placeholder="请输入手机号" required ng-model="validateData.phone" ng-minlength="1" ng-maxlength="16" ng-disabled="true" ng-pattern="phoneRegExp"> <button class="btn btn-success send-button" ng-disabled="phoneForm.phone.$invalid || disableSend" ng-click="onSendSms()" ng-bind="sendBtnText">发送短信</button> </div> </div> </div> <div class="form-group"> <label for="code" class="col-sm-3 col-xs-3 control-label">验证码</label> <div class="col-sm-9 col-xs-9"> <input type="text" class="form-control" name="code" placeholder="请输入六位验证码" required ng-model="validateData.code" ng-minlength="6" ng-maxlength="6" ng-pattern="/(^\\d{6})$/"> <div class="alert alert-danger" role="alert" ng-show="phoneForm.code.$dirty && phoneForm.code.$invalid" ng-cloak> <strong>有错：</strong> <span>请输入六位验证码</span> </div> </div> </div> </form> <div class="col-xs-12 col-sm-12 text-right" style="margin-top: 5px;" ng-if="!validateData.hasEmail"> <a class="no-decoration" href="mailto:support@xiumi.us">如无法接收短信请联系support@xiumi.us</a> </div> </div> <div class="modal-footer"> <a class="no-decoration" style="position: absolute; display: flex; margin-top: 7px;" ng-if="validateData.hasEmail" href="javascript:void(0)" ng-click="onUseEmail()">收不到短信？</a> <button class="btn btn-red" ng-click="cancel()">取消</button> <button class="btn btn-green" ng-disabled="phoneForm.phone.$invalid || phoneForm.code.$invalid || processing" ng-click="ok()">确定</button> </div>'),t.put("/views/app/common/dialog/notify.html",'<div class="modal-header clearfix"> <h3 class="modal-title" ng-bind="title || \'通知\'"></h3> </div> <div class="modal-body clearfix"> <h4 class="text-center tn-color-red"> <span ng-bind="message"></span> </h4> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div> '),t.put("/views/app/common/dialog/prompt.html",'<div class="modal-header clearfix"> <h3 class="modal-title">请输入</h3> </div> <div class="modal-body clearfix"> <h4 class="text-left tn-color-red"> <span ng-bind="ctrl.message"></span> </h4> <div class="form-group"> <input type="text" class="form-control" ng-model="ctrl.prompt" placeholder="{{ ctrl.options.placeholder }}" ng-keydown="ctrl.onInputKeydown($event)" tn-autofocus="true"> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ctrl.ok()">确定</button> <button class="btn btn-red" type="button" ng-click="ctrl.cancel()">取消</button> </div> '),t.put("/views/app/common/dialog/showExplorer.html",'<div class="modal-header clearfix"> <h4 class="modal-title">选择文档</h4> </div> <div class="modal-body"> <div class="show-source-bar"> <div class="show-source-group user" ng-show="!!ctrl.sources.user"> <ul class="source-group-nav nav nav-pills nav-stacked"> <li role="presentation" class="show-source-item text-right" ng-class="{ active: ctrl.activeSource == ctrl.user }"> <a href="" ng-click="ctrl.onShowSourceSelected(ctrl.user)"> 我的 <span class="glyphicon glyphicon-chevron-right"></span> </a> </li> </ul> </div> <div class="show-source-group team" ng-show="!!ctrl.sources.team"> <div class="group-head"> 团队 </div> <ul class="source-group-nav nav nav-pills nav-stacked"> <li role="presentation" class="show-source-item text-right" ng-repeat="team in ctrl.teams track by $id(team)" ng-class="{ active: ctrl.activeSource == team }"> <a href="" title="{{ team.display_name }}" ng-click="ctrl.onShowSourceSelected(team)"> {{ team.display_name }} <span class="glyphicon glyphicon-chevron-right"></span> </a> </li> </ul> </div> </div> <div class="show-list-panel"> <div class="search-panel"> <div class="col-sm-8" style="padding-right: 0px;"> <div class="input-group"> <input type="text" class="form-control" placeholder="输入标题或描述" ng-model="ctrl.searchText" ng-keydown="ctrl.onSearchPanelKeyDown($event, ctrl.searchText)"> <a class="btn glyphicon glyphicon-search" ng-click="ctrl.onSearch(ctrl.searchText)"></a> </div> </div> <div class="col-sm-4" style="padding: 5px 0px 0px 5px;"> <input type="checkbox" ng-model="ctrl.fullText"> <span>全文搜索</span> </div> </div> <div class="filter-show-types"> <ul class="show-type-nav nav nav-pills"> <li role="presentation" ng-show="!!ctrl.showTypes.booklet" ng-class="{ active: ctrl.activeShowType == \'booklet\' }"> <a href="" ng-click="ctrl.onShowTypeSelected(\'booklet\')">H5</a> </li> <li role="presentation" ng-show="!!ctrl.showTypes.tablet" ng-class="{ active: ctrl.activeShowType == \'tablet\' }"> <a href="" ng-click="ctrl.onShowTypeSelected(\'tablet\')">H5</a> </li> <li role="presentation" ng-show="!!ctrl.showTypes.paper" ng-class="{ active: ctrl.activeShowType == \'paper\' }"> <a href="" ng-click="ctrl.onShowTypeSelected(\'paper\')">图文</a> </li> </ul> </div> <div class="filter-show-tags"> <ul class="show-tag-nav nav nav-pills"> <li class="prefix"> <span ng-show="ctrl.activeSource == ctrl.user">我的标签:</span> <span ng-hide="ctrl.activeSource == ctrl.user">团队标签:</span> </li> <li class="prefix" ng-hide="ctrl.activeSource.hasTags"> <span>暂无标签</span> </li> <li role="presentation" ng-show="ctrl.activeSource.hasTags" ng-class="{ active: ctrl.activeSource.activeUnTag == false && ctrl.activeSource.activeTag == null }"> <a href="" ng-click="ctrl.onTagSelected(null)">全部</a> </li> <li role="presentation" ng-show="ctrl.activeSource.hasTags" ng-class="{ active: ctrl.activeSource.activeUnTag == true }"> <a href="" ng-click="ctrl.onUnTagSelected()">未标签</a> </li> <li role="presentation" ng-repeat="showTag in ctrl.activeSource.showTags track by $id(showTag)" ng-show="ctrl.activeSource.isForceDisplay || showTag.isOnBoard" ng-class="{ active: ctrl.activeSource.activeUnTag == false && ctrl.activeSource.activeTag == showTag.tag }"> <a href="" ng-click="ctrl.onTagSelected(showTag)">{{ showTag.tag }}</a> </li> <li role="presentation" ng-show="!ctrl.activeSource.isForceDisplay && ctrl.activeSource.hasOfflineTags"> <a href="" ng-click="ctrl.showAllTags()">&gt;&gt;</a> </li> <li role="presentation" ng-show="ctrl.activeSource.isForceDisplay && ctrl.activeSource.hasOfflineTags"> <a href="" ng-click="ctrl.showOnBoardTags()">&lt;&lt;</a> </li> </ul> </div> <div class="show-list-box container-fluid"> <div class="row"> <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 show-item" ng-repeat="show in ctrl.shows track by $id(show)"> <div class="show-card clearfix" title="{{ show.title }}" ng-class="{ selected: show.show_id == ctrl.selectedShow.show_id }" ng-click="ctrl.onShowItemSelected(show)" ng-dblclick="ctrl.onShowItemDblClicked(show)"> <div class="cover" ng-style="::{\n             \'background-image\': show.cover ? \'url(\' + (show.cover | optimizeImageType) + \')\' : \'none\' }"></div> <div class="body"> <div class="title">{{ show.title }}</div> <div class="desc" title="{{ show.desc }}">{{ show.desc }}</div> <div class="time">{{ show.saved_at | date:\'yyyy年M月d日 H:mm\' }}</div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-blue" uib-pagination max-size="5" ng-model="ctrl.pageHolder.pageCurrentNum" ng-change="ctrl.onPageChange(ctrl.pageHolder.pageCurrentNum)" total-items="ctrl.pageHolder.pageTotalItems" items-per-page="ctrl.pageHolder.pageItemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-green" type="button" ng-click="ctrl.ok()">打开</button> <button class="btn btn-red" type="button" ng-click="ctrl.cancel()">取消</button> </div>'),t.put("/views/app/common/dialog/showGoodsPreview.html",'<div class="background-mask" ng-click="ctrl.onClickOnMask()"> <iframe class="preview-frame embed-responsive-item" ng-src="{{ ctrl.showPreview.uri | unsafeResource }}" ng-class="ctrl.show.type_text"> </iframe> <div class="side-bar show-goods" stop-propagation="click"> <div class="qr-container"> <div class="seller text-left" ng-if="ctrl.option.fromPublisedPageOnDeskTop != true"> <p class="visible-xs-block"> <a class="no-decoration" ng-href="{{ ::ctrl.goods.seller.userpage_url }}" target="_blank"> <span class="seller-avatar"><img ng-src="{{ ::ctrl.goods.seller.avatar_url | optimizeImageType }}"></span> <span class="seller-name" ng-bind="::ctrl.goods.seller.nickname"></span> </a> <span class="enter-user-page pull-right"> <a class="btn btn-green" role="button" ng-href="{{ ::ctrl.goods.seller.userpage_url }}" target="_blank"> 进入主页 </a> </span> </p> <p class="hidden-xs"> <a class="no-decoration" ng-href="{{ ::ctrl.goods.seller.userpage_url }}" target="_blank"> <span class="seller-avatar"><img ng-src="{{ ::ctrl.goods.seller.avatar_url | optimizeImageType }}"></span> <span class="seller-name" ng-bind="::ctrl.goods.seller.nickname"></span> </a> <span class="enter-user-page pull-right"> <a class="btn btn-green" role="button" ng-href="{{ ::ctrl.goods.seller.userpage_url }}" target="_blank"> 进入主页 </a> </span> </p> <div class="seller-desc" ng-bind-html="ctrl.goods.seller.extended.description | toPBlock"> </div> <p class="tn-color-light-gray" ng-show="ctrl.goods.seller != null"> <span class="seller-status text-left">有{{ctrl.goods.seller.totalShowGoods}}个风格模板，被采用{{ctrl.goods.seller.totalReferenceNumber}}次</span> </p> </div> <div class="separator"> <hr> </div> <div class="title text-left"> <h4 ng-bind="ctrl.show.title"></h4> </div> <div class="desc text-left"> <p ng-bind="ctrl.show.desc"></p> </div> <div class="border" ng-if="!!ctrl.show.release_at"> <qrcode qr-data="ctrl.show.show_url" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="border" ng-if="!ctrl.show.release_at"> <qrcode qr-data="ctrl.showPreview.uri" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="row"> <div class="col-md-6 text-left"> <a class="no-decoration xiumi-normal" target="_blank" href="https://jinshuju.net/f/WbpQu7"> 投诉 </a> </div> <div class="col-md-6 text-right"> <a class="no-decoration xiumi-normal" ng-click="ctrl.onToggleFavorite()" href="javascript:void(0)"> <span class="glyphicon glyphicon-heart" aria-hidden="true" ng-class="{\'favorite-on\': ctrl.isMyFavorite == true,\'favorite-off\': ctrl.isMyFavorite == false}"></span> <span ng-bind="ctrl.isMyFavorite == true? \'取消收藏\' :\'收藏\'" style="padding-left:2px"></span> </a> </div> </div> <div class="separator"> <hr> </div> <div class="price" ng-hide="ctrl.step == \'unknown\'"> <span ng-show="ctrl.step == ctrl.STEPS.Unknown"> &nbsp; </span> <span ng-show="ctrl.step == ctrl.STEPS.Paid"> 已购买 </span> <span ng-show="ctrl.step != ctrl.STEPS.Paid && ctrl.goods.price == 0"> &nbsp; </span> <span ng-show="ctrl.step != ctrl.STEPS.Paid && ctrl.goods.price > 0 && ctrl.tplMemberStateReady == false"> 购买价格：{{ ctrl.goods.price.toFixed(2) }} 米点 </span> <span ng-show="ctrl.step != ctrl.STEPS.Paid && ctrl.goods.price > 0 && ctrl.tplMemberStateReady == true"> 会员模板，可免费使用 <br> <span ng-show="!ctrl.isEnterpriseMember && !ctrl.daysTillExpired" style="font-size:0.6em;"> 模板会员有效期至<span style="color:green">{{ctrl.membershipExpired}}</span> </span> <span ng-show="!ctrl.isEnterpriseMember && !!ctrl.daysTillExpired" style="font-size:0.6em;"> 模板会员还有<span style="color:green">{{ctrl.daysTillExpired}}</span>到期,<a class="no-decoration" href="/#/user/tpl_member" target="_blank">点此续费</a> </span> </span> </div> <div class="goods-agreement text-right"> <a class="no-decoration xiumi-normal" href="//v.xiumi.us/board/v5/2a5va/86106525" target="_blank"> 使用风格模板即表示同意本说明>> </a> </div> </div> <div class="editing-container" ng-switch="ctrl.step" ng-hide="ctrl.step == \'unknown\'"> <div ng-switch-when="no_payment"> <a class="btn btn-green editing-btn" role="button" target="_blank" ng-show="ctrl.goods.price <= 0" ng-href="{{ ctrl.option.editorOrigin }}/#/studio/shop/goodses/{{ ctrl.goods.show_goods_id }}/preview"> 去另存 </a> <a class="btn btn-green editing-btn" role="button" target="_blank" ng-show="ctrl.goods.price > 0" ng-href="{{ ctrl.option.editorOrigin }}/#/studio/shop/goodses/{{ ctrl.goods.show_goods_id }}/preview"> 去购买 </a> </div> <div ng-switch-when="not_purchased"> <button class="btn btn-green editing-btn" role="button" ng-show="ctrl.goods.price <= 0" ng-click="ctrl.onCloneShowClicked()"> 另存给自己 </button> <div ng-show="ctrl.goods.price > 0"> <a class="btn btn-green editing-btn" role="button" target="_blank" ng-show="ctrl.isTplGoods == true && ctrl.tplMemberStateReady == false" style="margin-bottom:8px" ng-click="ctrl.onRechargeClick()" href="/#/user/tpl_member"> 模板会员免费用 </a> <button class="btn btn-green editing-btn" role="button" style="margin-bottom:8px" ng-show="ctrl.isTplGoods == true && ctrl.tplMemberStateReady == true" ng-click="ctrl.onBuyTplGoodsClicked()"> 另存给自己 </button> <button class="btn btn-red editing-btn" role="button" ng-show="ctrl.isTplGoods == false || ctrl.tplMemberStateReady == false" ng-click="ctrl.onBuyGoodsClicked()"> 立即购买 </button> </div> </div> <div class="going-to-pay-panel" ng-switch-when="going_to_pay"> <p> 支付 <span class="price-hint" ng-bind="ctrl.goods.price.toFixed(2)"></span> 米点 购买该模板 </p> <div ng-show="!ctrl.canUseXmCoin"> <a class="no-decoration xiumi-red" ui-sref="user.recharge" target="_blank"> 米点不足（你的米点余额 {{ ctrl.availableCoins }}） <br> >>> 点击去充值米点 </a> <p> <br> <strong> 充值后不要忘记再到这里购买模板哦！ </strong> </p> </div> <p ng-show="!!ctrl.canUseXmCoin"> 使用米点支付（你的米点余额 {{ ctrl.availableCoins }}） </p> <div class="checkbox" ng-if="false"> <label ng-disabled="!ctrl.canUseXmCoin"> <input type="checkbox" ng-model="ctrl.useXmCoin" ng-disabled="!ctrl.canUseXmCoin"> <span ng-show="!ctrl.canUseXmCoin">米点不足（共 {{ ctrl.availableCoins }} 米点）<a href="">>>> 去充值米点</a></span> <span ng-show="ctrl.canUseXmCoin">使用米点支付（共 {{ ctrl.availableCoins }} 米点）</span> </label> </div> <p><br></p> <button class="btn btn-red editing-btn" role="button" ng-click="ctrl.onCreateGoodsOrder()" ng-disabled="!ctrl.canUseXmCoin"> <span ng-show="ctrl.canUseXmCoin">确认支付</span> <span ng-show="!ctrl.canUseXmCoin">米点不足</span> </button> </div> <div ng-switch-when="paid"> <button class="btn btn-green editing-btn" role="button" ng-click="ctrl.onCloneShowClicked()"> 另存给自己 </button> </div> </div> </div> </div>'),t.put("/views/app/common/dialog/showPreview.html",'<div class="background-mask" ng-click="onClickOnMask()"> <iframe class="preview-frame embed-responsive-item" ng-src="{{ showPreview.uri | unsafeResource }}" ng-class="show.type_text"> </iframe> <div class="side-bar" stop-propagation="click"> <uib-tabset active="activeJustified" justified="true" class="preview-container-selector" ng-if="!!option.fromPublisedPageOnDeskTop"> <uib-tab index="0" heading=""> <div class="qr-container"> <div class="border" ng-if="!!show.release_at"> <qrcode qr-data="show.show_url" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="desc" ng-if="!show.release_at"> 尚未审核，分享二维码和链接还不可用 <br> </div> </div> </uib-tab> </uib-tabset> <uib-tabset active="activeJustified" justified="true" class="preview-container-selector" ng-if="!option.fromPublisedPageOnDeskTop"> <uib-tab index="0" heading="预览"> <div> <div class="qr-container" ng-if="!(!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited)"> <div class="border"> <a ng-href="{{ _qrLink_ ? showPreview.uri : \'\' }}" target="_blank"> <qrcode qr-data="showPreview.uri" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </a> </div> <div class="desc"> 预览二维码仅供查看编辑效果，短期会失效。 </div> <div> <hr> </div> <div class="desc"> <a href="https://v.xiumi.us/board/v5/2a5va/109760747" target="_blank" class="xiumi-red"> 如何用秀米链接进行转发和分享 <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> <div class="qr-container" ng-if="!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited"> <div class="border"> <qrcode qr-data="show.show_url | showURL:customDomain.active" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="desc"> 分享二维码，扫码分享效果最佳 </div> <div class="desc"> 注意：直接发链接到微信会影响分享效果 </div> <div class="link"> <textarea class="form-control-static form-control" readonly auto-focus-on="mouseover" auto-select-on="mouseover" act-as-link href="{{ show.show_url | showURL:customDomain.active }}">{{\n                show.show_url | showURL:customDomain.active }}</textarea> <select class="custom-domain-selector form-control" ng-show="!!customDomain.domains.length" ng-model="customDomain.active" ng-options="domain.domain_name for domain in customDomain.domains"> <option value="">-- 不用企业自定义域名 --</option> </select> </div> <div class="no-change"> <p class="tn-color-red"> 审核已通过，分享内容是最新的了 </p> </div> <div class="line" ng-cloak ng-if="!!showStatus && !showStatus.isFree && !!show.release_at"> <div class="for-paper text-center"> 制作独立的秀米链接，需关注以下状态： </div> <div class="line tn-color-red" ng-cloak> <span ng-if="!showStatus.isProhibited"> <span ng-if="!showStatus.showAdv"> 无广告， <span ng-if="showStatus.usingTraffic">使用流量包</span> <span ng-if="!showStatus.usingTraffic"> 还有<span class="value" ng-bind="showStatus.remainPoints"></span>次变成带广告 <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处提前去除广告</a> </span> </span> <span ng-if="showStatus.showAdv"> <span class="value">带广告</span> <span ng-if="showStatus.usingTraffic">，流量包用尽</span> <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处去除广告</a> </span> </span> <span ng-if="showStatus.isProhibited" ng-switch="showStatus.prohibited"> <span ng-switch-when="0">内容违规被屏蔽</span> <span ng-switch-when="2">未获资质被屏蔽</span> </span> </div> </div> </div> </div> </uib-tab> <uib-tab index="1" heading="分享"> <div class="qr-container"> <div class="border" ng-if="!!show.release_at"> <qrcode qr-data="show.show_url | showURL:customDomain.active" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="desc" ng-if="!!show.release_at"> 分享二维码，扫码分享效果最佳 </div> <div class="desc" ng-if="!!show.release_at"> 注意：直接发链接到微信会影响分享效果 </div> <div class="link" ng-if="!!show.release_at"> <textarea class="form-control-static form-control" readonly auto-focus-on="mouseover" auto-select-on="mouseover" act-as-link href="{{ show.show_url | showURL:customDomain.active }}">{{\n                  show.show_url | showURL:customDomain.active }}</textarea> <select class="custom-domain-selector form-control" ng-show="!!customDomain.domains.length" ng-model="customDomain.active" ng-options="domain.domain_name for domain in customDomain.domains"> <option value="">-- 不用企业自定义域名 --</option> </select> </div> <div class="desc" ng-if="!show.release_at && !show.release_applied_at"> 尚未审核，分享二维码和链接还不可用 <br> </div> <div class="release-apply tn-color-blue" ng-show="(!!show.release_applied_at && (show.applicationJustSubmitted || (!show.forceReleaseDataAlready))) || show.directAudited"> 已进入审核，请耐心等待，再次打开本预览窗口可查询最新状态 <br> <a href="https://v.xiumi.us/board/v5/2a5va/116360806" target="_blank" class="xiumi-red"> 审核太久，如何解决？ </a> </div> <div class="has-change" ng-show="hasChange(show)"> <p class="tn-color-red" ng-if="!!show.release_at"> 内容有修改，需要再次申请审核 </p> <button class="btn btn-green" type="button" ng-click="onApplyShowReleaseClick()"> 申请审核 </button> </div> <div class="no-change" ng-if="!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited"> <p class="tn-color-red"> 审核已通过，分享内容是最新的了 </p> </div> <div class="desc" ng-if="!show.release_at && !show.release_applied_at"> <a href="https://v.xiumi.us/board/v5/2a5va/109760747" target="_blank" class="xiumi-red"> 如何用秀米链接进行转发和分享 <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="line" ng-cloak ng-if="!!showStatus && !showStatus.isFree && !!show.release_at"> <div class="for-paper text-center"> 制作独立的秀米链接，需关注以下状态： </div> <div class="line tn-color-red" ng-cloak> <span ng-if="!showStatus.isProhibited"> <span ng-if="!showStatus.showAdv"> 无广告， <span ng-if="showStatus.usingTraffic">使用流量包</span> <span ng-if="!showStatus.usingTraffic"> 还有<span class="value" ng-bind="showStatus.remainPoints"></span>次变成带广告 <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处提前去除广告</a> </span> </span> <span ng-if="showStatus.showAdv"> <span class="value">带广告</span> <span ng-if="showStatus.usingTraffic">，流量包用尽</span> <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处去除广告</a> </span> </span> <span ng-if="showStatus.isProhibited" ng-switch="showStatus.prohibited"> <span ng-switch-when="0">内容违规被屏蔽</span> <span ng-switch-when="2">未获资质被屏蔽</span> </span> </div> </div> </div> </uib-tab> </uib-tabset> <div class="editing-container" ng-if="option.enableEditingButton"> <a class="editing-btn btn btn-green" role="button" target="_blank" ng-href="{{ show | showToEditorUrl:option.editorOrigin }}" ng-bind="option.editingButtonText || \'编辑\'" ng-show="!option.copyBeforeEditing"> 编辑 </a> <a class="editing-btn btn btn-green" role="button" ng-bind="option.editingButtonText || \'复制后再编辑\'" ng-show="option.copyBeforeEditing" ng-click="onCopyAndEdit(show)"> 编辑 </a> </div> </div> </div>'),t.put("/views/app/studio/desk/booklet/multiPagesEditingPanelBooklet.html",'<div class="x5-editing-panel tn-studio-booklet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-panel-container"> <div class="tn-meta-panel" stop-propagation="mousedown" ng-controller="EditingMetaController" ng-cloak> <div class="inner-include" ng-include="::\'/views/app/studio/edit-panel/metaBooklet.html\'" ng-click="onPanelClick($event)"></div> </div> <div class="tn-editing-panel" tn-editing-dock tn-editing-show-data="showData" tn-editing-cube-index="cubeCtrl.cubeIndex" tn-atom-context="{ type: \'booklet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel" tn-solo-comp-loader="_$" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/loader-multi-pages" tn-bind-comp-index="{{ cubeCtrl.cubeIndex }}" tn-comp-role="cube"> </article> <div class="tn-page-booklet-layout-preview-box" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/booklet/posterDesignPanelBooklet.html",'<div class="x5-editing-panel tn-studio-booklet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-comp-moving-canceler" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingCancelDock.html\'" ng-cloak> </div> <div class="tn-comp-trash-receiver" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingRemoveDock.html\'" ng-cloak> </div> <div class="tn-panel-container"> <div class="tn-editing-panel" tn-editing-dock tn-editing-show-data="showData" tn-atom-context="{ type: \'booklet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel"> <div class="dock tn-page-slot" tn-cell-type="group"> <div class="tn-page-piece" tn-bind-page-mode="::PosterMeta._comp.constraint.mode"> <div class="tn-page-container tn-scrolled-page board" ng-controller="BoardPageEditingBoxController" tn-atom-dropping-sink="boardDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)"> <div class="tn-page poster-usage-page" tn-solo-comp-loader="PosterMeta" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-bind-comp-inst-path="_$" tn-bind-comp-inst-page-mode="board" tn-comp-role="page"></div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageAddTextTpl($event, 0, PosterMeta)"> <span class="glyphicon glyphicon-text-width" title="快速添加文本模板"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, 0, PosterMeta)"> <span class="glyphicon glyphicon-asterisk" title="设置页面背景"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageSaveFragment($event, 0, PosterMeta)"> <span class="glyphicon glyphicon-star" title="收藏版式"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageAssist($event, 0, PosterMeta)"> <span class="glyphicon glyphicon-eye-close" title="编辑辅助"></span> </a> </li> </ul> <div class="tn-page-slot-bottom-bar" stop-propagation="mouseup click"> </div> </div> </div> </div> </article> <div class="tn-page-booklet-layout-preview-box poster-usage-page" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page poster-usage-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/booklet/posterRightToolbarPanel.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnHelpClick()"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> </ul> <div class="tn-download-list" ng-show="!!downloadList.groups.length"> <div class="btn-group" uib-dropdown is-open="downloadList.isOpen"> <button type="button" class="btn btn-grey" uib-dropdown-toggle> <span class="glyphicon glyphicon-download-alt"></span>下载文件列表 </button> <div class="dropdown-menu" uib-dropdown-menu role="menu"> <div class="download-list-title"> 如未能自动下载，请点击下方链接 <span class="bar-item close glyphicon glyphicon-remove" title="清除并关闭" ng-click="clearDownloadList()"></span> </div> <ul class="download-group-list list-style-none ul-no-rim"> <li class="download-group-item" ng-repeat="dlGroup in downloadList.groups track by $id(dlGroup)"> <div class="download-group-title"> {{ dlGroup.time | date:\'yyyy年M月d日 H:mm\' }} </div> <div class="download-file-list"> <div class="download-file-item" ng-repeat="file in dlGroup.downloadFiles"> <a class="no-decoration" ng-href="{{ file.url }}" target="_blank"> {{ file.fileName || \'文件 \' + $index }} </a> </div> </div> </li> </ul> </div> </div> </div>'),t.put("/views/app/studio/desk/booklet/rightToolbarPanel.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnHelpClick()"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> <li> <a class="btn btn-default" role="button" href="https://jinshuju.net/f/hbbew2" target="_blank"> <span class="glyphicon glyphicon-comment"></span> <div>吐槽</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnSortPageClick()" title="页面排序"> <span class="glyphicon glyphicon-sort"></span> <div>页序</div> </a> </li> <li> <a class="btn btn-default" role="button" href="" ng-disabled="UserBlocked == true" ng-click="onApplyShowGoodsClick(status.show.info.show_id)"> <span class="glyphicon glyphicon-send"></span> <div>投稿</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnOptionClick()"> <span class="glyphicon glyphicon-cog"></span> <div>设置</div> </a> <div class="option-panel" ng-show="showOptionPanel" ng-cloak> <div class="form-group">设置</div> <div class="divider"></div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.autoSave"> 自动保存 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565700" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.pastePlain" ng-click="onPastePlainClick()"> 粘贴时清除格式 </label> </div> <div class="form-group menu-item" ng-if="false"> <label> <input type="checkbox" ng-model="editingOptions.supportPerformCellFrozen"> 允许冻结编辑单元 </label> <a class="no-decoration xiumi-white" href="" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item" ng-if="teamCount > 0"> <label> <input type="checkbox" ng-model="editingOptions.displayTeamImgLib"> 显示团队图库 </label> </div> </div> </li> </ul>'),t.put("/views/app/studio/desk/booklet/rightToolbarPanelSingleGround.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="//v.xiumi.us/board/v5/2a5va/6135158" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> </ul>'),t.put("/views/app/studio/desk/booklet/singleGroundEditingPanelBooklet.html",'<div class="x5-editing-panel tn-studio-booklet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-panel-container"> <div class="tn-single-ground-editing-prompt"> <p>一个背景组在翻页时背景会悬停不动<br>背景上可以放各种元素并设置动画，但无法点击<br> 点击顶部对勾退出背景编辑模式</p> </div> <div class="tn-editing-panel" tn-editing-dock tn-editing-show-data="showData" tn-editing-cube-index="cubeCtrl.cubeIndex" tn-atom-context="{ type: \'booklet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel" tn-solo-comp-loader="_$" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/loader-single-ground" tn-bind-comp-index="{{ cubeCtrl.cubeIndex }}" tn-comp-role="cube"> </article> <div class="tn-page-booklet-layout-preview-box" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/booklet/singlePageEditingPanelBooklet.html",'<div class="x5-editing-panel tn-studio-booklet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-comp-moving-canceler" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingCancelDock.html\'" ng-cloak> </div> <div class="tn-comp-trash-receiver" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingRemoveDock.html\'" ng-cloak> </div> <div class="tn-panel-container"> <div class="tn-editing-panel" tn-editing-dock tn-atom-context="{ type: \'booklet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel"> <div class="dock tn-page-slot" tn-cell-type="group"> <div class="tn-page-piece" tn-bind-page-mode="::targetPage._comp.constraint.mode"> <div class="tn-page-container tn-scrolled-page board" ng-controller="BoardPageEditingBoxController" tn-atom-dropping-sink="boardDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)"> <div class="tn-page mixed-usage-page" tn-solo-comp-loader="targetPage" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-bind-comp-inst-path="_$.targetPage" tn-bind-comp-inst-page-mode="board" tn-comp-role="page"></div> <div class="tn-page-editing-tip">编辑内容不要超过蓝色虚线底部</div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageAddTextTpl($event, 0, targetPage)"> <span class="glyphicon glyphicon-text-width" title="快速添加文本模板"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, 0, targetPage)"> <span class="glyphicon glyphicon-asterisk" title="设置页面背景"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageSaveFragment($event, 0, targetPage)"> <span class="glyphicon glyphicon-star" title="收藏版式"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageAssist($event, 0, targetPage)"> <span class="glyphicon glyphicon-eye-close" title="编辑辅助"></span> </a> </li> </ul> <div class="tn-page-slot-bottom-bar" stop-propagation="mouseup click"> <a class="insert-page no-decoration" href="javascript:void(0)" style="float:none" ng-click="onImportPSDPageAfter($event, 0, \'booklet\')"> <div class="inner text-center"> <span class="glyphicon glyphicon-download-alt"></span><span>&nbsp;&nbsp;</span><span>导入PSD</span> </div> </a> </div> </div> </div> </div> </article> <div class="tn-page-booklet-layout-preview-box" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/common/browserCompatiblePrompt.html",'<div class="alert alert-danger alert-dismissible" role="alert"> <button type="button" class="close" data-dismiss="alert"> <span aria-hidden="true">&times;</span> <span class="sr-only">关闭</span> </button> 请注意：秀米不兼容当前浏览器，复制粘贴会有问题，请尽快换成谷歌浏览器。 </div>'),t.put("/views/app/studio/desk/cubeBoard.html",'<div class="editing-panel" ui-view="editingPanel"></div> '),t.put("/views/app/studio/desk/deskSurface.html",'<div class="desk-sand-board tn-state-transition-animation" ui-view="deskSandBoard"></div> '),t.put("/views/app/studio/desk/helpSearchBarPanel.html",'<div class="help-mask" ng-click="closeHelp()" ng-if="showHelpPanel()"> </div> <div class="help-container" ng-if="showHelpPanel()"> <div class="search-bar"> <input type="text" name="" placeholder="输入搜索关键词,按回车确认" ng-model="searchData.key" ng-keydown="onSearch($event, searchData.key)" class="form-control" id="searchBar"> <a class="glyphicon glyphicon-remove form-control-feedback clear-search" ng-click="clearSearch()"></a> </div> <div class="help-list" tn-pull-to-refresh="" on-refresh="onLoadMore(searchData.key)" has-more="helpHits.length < pageTotalItems" trigger-threshold="10"> <div ng-repeat="help in helpHits track by $id(help)" class="help-item"> <a ng-href="{{help.URL}}" class="help-link" target="_blank"> <div ng-if="!help.highlight.title" class="form-control help-title" style="border:none;"> <span ng-bind-html="help.title"></span> </div> <div ng-if="help.highlight.title" ng-repeat="help_title in help.highlight.title" class="form-control help-title"> <span ng-bind-html="help_title | unsafe"></span> </div> <div ng-if="help.highlight.content" class="search-content"> <span ng-bind-html="help.highlight.content[0] | unsafe"></span> </div> </a> </div> <div class="help-item" ng-if="towerStatus.auth.userInfo.level >= 4 && isRecommend && towerStatus.sysInfo.settings.customerCare.enableYzfChat"> <a class="help-link" a="towerStatus.auth.userInfo.unique_uid" target="_blank" ng-href="/customerservice/dialog?uid={{ towerStatus.auth.userInfo.unique_uid || \'\' }}&c1={{ towerStatus.auth.userInfo.unique_uid || \'\' }}"> <div class="form-control help-title" style="border:none;"> <span>呼唤人工</span> </div> </a> </div> </div> </div> '),t.put("/views/app/studio/desk/matrix/multiCubesBoard.html",'<div class="x5-editing-panel tn-studio-tablet" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-cube-box"> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-cubes-list-panel"> <div class="tn-panel-container"> <div class="tn-meta-panel" stop-propagation="mousedown" ng-controller="EditingMetaController" ng-cloak> <div class="inner-include" ng-include="::\'/views/app/studio/edit-panel/metaTablet.html\'" ng-click="onPanelClick($event)"></div> </div> </div> <div class="tn-cube-box clearfix" ui-sortable="cubesCtrl.cubesSortableOpts" ng-model="showData.cubes"> <div class="cube-item" ng-repeat="cube in showData.cubes track by $id(cube)"> <div class="column-item"> <div class="cube-card"> <h5 class="cube-title" title="{{ cube._comp.title }}" ng-dblclick="cubesCtrl.onModifyCubeTitleClick($index)" ng-switch="!!cube._comp.title"> <span class="non-title" ng-switch-when="false">[ 无标题 ]</span> <span class="has-title" ng-switch-default>{{ cube._comp.title }}</span> <span class="glyphicon glyphicon-edit" ng-click="cubesCtrl.onModifyCubeTitleClick($index)"></span> </h5> <div class="cube-body"> <div class="column-item cube-desc"> <p class="desc-block"> 第 {{ $index + 1 }} 章 <br> 共 {{ cube.pages.length }} 页 </p> </div> <div class="column-item cube-preview-box" tn-atom-context="{ type: \'tablet\', inEditor: true, onceBinding: true,\n                   animationEnabled: false, animationOperator: false,\n                   linkEnabled: false, soundEnabled: false, fontEnable: false,\n                   compHandlerEnabled: false }"> <div class="cube-snap-surface tn-ground" tn-solo-comp-loader="cube.grounds[0]" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/snap-pg-fs" tn-comp-role="ground"> </div> <div class="cube-snap-surface tn-ground" tn-solo-comp-loader="cube.pages[0]" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/snap-pg-fs" tn-comp-role="page"> </div> </div> <div class="cube-actions"> <div class="sorting-prompt">拖拽，改变章节所在位置</div> <div class="cube-edit-toolbar"> <p> <button class="btn btn-default cube-edit" ng-click="cubesCtrl.onGoToEditCubeAtClick($index)"> <span class="glyphicon glyphicon-edit"></span> 编辑章节 </button> </p> <p> <button class="btn btn-default cube-new" ng-click="cubesCtrl.onInsertCubeAtClick(!!cube ? $index + 1 : 0)"> <span class="glyphicon glyphicon-file"></span> 插入章节 </button> </p> <p> <button class="btn btn-default cube-import" ng-click="cubesCtrl.onImportCubeAtClick(!!cube ? $index + 1 : 0)"> <span class="glyphicon glyphicon-save-file"></span> 导入章节 </button> </p> <p> <button class="btn btn-default cube-delete" ng-click="cubesCtrl.onDeleteCubeAtClick($index)"> <span class="glyphicon glyphicon-trash"></span> 删除章节 </button> </p> </div> </div> </div> </div> </div> <div class="column-item direction-block"> <span class="glyphicon glyphicon-chevron-right direction-icon"></span> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/matrix/multiPagesEditingPanelMatrix.html",'<div class="x5-editing-panel tn-studio-tablet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-comp-moving-canceler" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingCancelDock.html\'" ng-cloak> </div> <div class="tn-comp-trash-receiver" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingRemoveDock.html\'" ng-cloak> </div> <div class="tn-panel-container"> <div class="tn-meta-panel" stop-propagation="mousedown" ng-controller="EditingCubeMetaController as cubeMetaCtrl" ng-cloak> <div class="inner-include" ng-include="::\'/views/app/studio/edit-panel/metaCube.html\'"></div> </div> <div class="tn-editing-panel" ng-cloak> <div class="box" tn-editing-dock tn-editing-show-data="showData" tn-editing-cube-index="cubeCtrl.cubeIndex" tn-atom-context="{ type: \'tablet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel" tn-solo-comp-loader="_$" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/loader-multi-pages" tn-bind-comp-index="{{ cubeCtrl.cubeIndex }}" tn-comp-role="cube"> </article> <div class="tn-page-booklet-layout-preview-box" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/matrix/rightToolbarPanelMultiCubes.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnHelpClick()"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> <li> <a class="btn btn-default" role="button" href="" ng-click="onApplyShowGoodsClick(status.show.info.show_id)"> <span class="glyphicon glyphicon-send"></span> <div>投稿</div> </a> </li> </ul>'),t.put("/views/app/studio/desk/paper/multiPagesEditingPanelPaper.html",'<div class="x5-editing-panel tn-studio-paper text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="alert alert-info alert-dismissible tn-operate-prompt" ng-show="status.isCopyMode" ng-cloak> <button type="button" class="close" data-dismiss="alert"> <span aria-hidden="true">&times;</span> <span class="sr-only">关闭</span> </button> <div ng-hide="status.isMobile"> <p style="color: rgb(249, 110, 87);"> 先Ctrl+C ( Mac: ⌘+C ) 复制内容，然后Ctrl+V ( Mac: ⌘+V ) 粘贴到微信后台编辑器中。 </p> 如果微信后台图片粘贴总是失败，请使用同步功能，<a href="//v.xiumi.us/board/v5/2a5va/14790933" target="_blank">点击这里看教程</a> </div> <div ng-show="status.isMobile"> <p style="color: rgb(249, 110, 87);"> 复制粘贴无法在平板上使用，请使用微信同步功能，<a href="//v.xiumi.us/board/v5/2a5va/14790933" target="_blank">点击这里看教程</a> </p> </div> </div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-comp-moving-canceler" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingCancelDock.html\'" ng-cloak> </div> <div class="tn-comp-trash-receiver" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingRemoveDock.html\'" ng-cloak> </div> <div class="tn-panel-container"> <div class="tn-meta-panel" stop-propagation="mousedown" ng-controller="EditingMetaController" ng-cloak> <div class="inner-include" ng-include="::\'/views/app/studio/edit-panel/metaPaper.html\'" ng-click="onPanelClick($event)"></div> </div> <div class="tn-editing-panel" ng-cloak> <div class="box" tn-editing-dock tn-editing-show-data="showData" tn-editing-cube-index="cubeCtrl.cubeIndex" ng-show="!status.isCopyMode" tn-atom-context="{ type: \'paper\', inEditor: true, animationEnabled: false }"> <article class="dock-loader tn-paper-document-root preview-thumb-scan multi-comp-select-panel" tn-solo-comp-loader="_$" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-multi-pages" tn-bind-comp-index="{{ cubeCtrl.cubeIndex }}" tn-comp-role="cube"> </article> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> <div class="projection" ng-show="status.isCopyMode" tn-atom-context="{ type: \'paper\', inEditor: true, animationEnabled: false }" stop-propagation="mousedown mouseup mouseover keydown keyup contextmenu click dblclick"> <div class="tn-projection-print tn-scene-paper" ng-mouseenter="onProjectionMouseEnter($event)" ng-click="onProjectionClick($event)" ng-copy="onProjectionCopy($event)" ng-bind-html="transcodeHTML | unsafe"> </div> </div> </div> </div> </div> </div> </div> <section class="tn-login-layer full-fill-a" ng-show="status.wxAuth.signingIn" ng-cloak> <div class="auth-wnd wx-auth-wnd container"> <div class="title row text-center"> <img src="/images/b80cd8.xiumi_logo_40.png" alt="秀米XIUMI"> 秀米授权管理 <span class="glyphicon glyphicon-remove close-btn" ng-click="onBtnWxLoginCancel()"></span> </div> <iframe class="row embed-responsive-item" ng-src="{{ wxAuthBinding.signInFrameSrc }}"></iframe> </div> </section> <section class="tn-login-layer full-fill-a" ng-show="status.wxAuth.preview" ng-cloak> <div class="tt-preview-wnd container"> <div class="title row text-center"> 今日头条图文 <span class="glyphicon glyphicon-remove close-btn" ng-click="onBtnTtPreviewCancel()"></span> </div> <iframe class="row embed-responsive-item" ng-src="{{ ttPreviewData.previewUrl }}"></iframe> </div> </section> <section class="tn-loading-overlap tn-progress-overlap black full-fill-a" ng-show="status.sendingData" ng-cloak> <div class="progress progress-striped active"> <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{ \'width\': status.sendingProgress + \'%\' }" ng-bind="status.sendingProgress + \'%\'"> </div> </div> </section> '),t.put("/views/app/studio/desk/paper/rightToolbarPanel.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnHelpClick()"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> <li> <a class="btn btn-default" role="button" href="" ng-disabled="UserBlocked == true" ng-click="onApplyShowGoodsClick(status.show.info.show_id)"> <span class="glyphicon glyphicon-send"></span> <div>投稿</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnOptionClick()"> <span class="glyphicon glyphicon-cog"></span> <div>设置</div> </a> <div class="option-panel" ng-show="showOptionPanel" ng-cloak> <div class="form-group">设置</div> <div class="divider"></div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.autoSave"> 自动保存 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565700" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.pastePlain" ng-click="onPastePlainClick()"> 粘贴时清除格式 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565879" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.pasteWithImage" ng-click="onPastePlainClick()"> 粘贴时导入图片 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565879" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.supportPerformCellFrozen"> 允许冻结编辑组件 </label> <a class="no-decoration xiumi-white" href="https://v.xiumi.us/board/v5/2a5va/188531445" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item" ng-if="teamCount > 0"> <label> <input type="checkbox" ng-model="editingOptions.displayTeamImgLib"> 显示团队图库 </label> </div> </div> </li> </ul> <div class="tn-download-list" ng-show="!!downloadList.groups.length"> <div class="btn-group" uib-dropdown is-open="downloadList.isOpen"> <button type="button" class="btn btn-grey" uib-dropdown-toggle> <span class="glyphicon glyphicon-download-alt"></span>下载文件列表 </button> <div class="dropdown-menu" uib-dropdown-menu role="menu"> <div class="download-list-title"> 如未能自动下载，请点击下方链接 <span class="bar-item close glyphicon glyphicon-remove" title="清除并关闭" ng-click="clearDownloadList()"></span> </div> <ul class="download-group-list list-style-none ul-no-rim"> <li class="download-group-item" ng-repeat="dlGroup in downloadList.groups track by $id(dlGroup)"> <div class="download-group-title"> {{ dlGroup.time | date:\'yyyy年M月d日 H:mm\' }} </div> <div class="download-file-list"> <div class="download-file-item" ng-repeat="file in dlGroup.downloadFiles"> <a class="no-decoration" ng-href="{{ file.url }}" target="_blank"> {{ file.fileName || \'文件 \' + $index }} </a> </div> </div> </li> </ul> </div> </div> </div> '),t.put("/views/app/studio/desk/paper/rightToolbarPanelPartner.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnOptionClick()"> <span class="glyphicon glyphicon-cog"></span> <div>设置</div> </a> <div class="option-panel" ng-show="showOptionPanel" ng-cloak> <div class="form-group">设置</div> <div class="divider"></div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.autoSave"> 自动保存 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565700" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.pastePlain" ng-click="onPastePlainClick()"> 粘贴时清除格式 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565879" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.supportPerformCellFrozen"> 允许冻结编辑组件 </label> <a class="no-decoration xiumi-white" href="https://v.xiumi.us/board/v5/2a5va/188531445" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> </li> </ul>'),t.put("/views/app/studio/desk/tablet/multiPagesEditingPanelTablet.html",'<div class="x5-editing-panel tn-studio-tablet text-center tn-scroll-to" tn-desk-background="status.settings[\'studio.appearance.desk.background\']" background-align-to=".tn-editing-dock" tn-scrolled-page-box tn-editing-desk> <div class="tn-compatible-prompt" ng-include="::\'/views/app/studio/desk/common/browserCompatiblePrompt.html\'"></div> <div class="tn-editing-block"> <div class="inner"> <div class="tn-comp-moving-canceler" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingCancelDock.html\'" ng-cloak> </div> <div class="tn-comp-trash-receiver" ng-controller="EmptyController" ng-include="::\'/views/app/studio/edit-panel/compDraggingRemoveDock.html\'" ng-cloak> </div> <div class="tn-panel-container"> <div class="tn-meta-panel" stop-propagation="mousedown" ng-controller="EditingMetaController" ng-cloak> <div class="inner-include" ng-include="::\'/views/app/studio/edit-panel/metaTablet.html\'" ng-click="onPanelClick($event)"></div> </div> <div class="tn-editing-panel" ng-cloak> <div class="box" tn-editing-dock tn-editing-show-data="showData" tn-editing-cube-index="cubeCtrl.cubeIndex" tn-atom-context="{ type: \'tablet\', inEditor: true }"> <article class="dock-loader preview-thumb-scan multi-comp-select-panel" tn-solo-comp-loader="_$" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/loader-multi-pages" tn-bind-comp-index="{{ cubeCtrl.cubeIndex }}" tn-comp-role="cube"> </article> <div class="tn-page-booklet-layout-preview-box" ng-style="layoutPreview.pos" ng-show="!!layoutPreview.page"> <div class="title-bar">版式预览</div> <div class="tn-page" tn-solo-comp-loader="layoutPreview.page" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <div class="tn-page-comp-list" stop-propagation="mousedown"></div> <div class="op-dock tn-out-comp-edit-op-depot"></div> <div class="op-dock tn-operator-depot"></div> </div> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/desk/tablet/rightToolbarPanel.html",'<ul class="x5-right-toolbar list-style-none" stop-propagation="click mousedown"> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canUndo && !ueHelperStatus.undoManager.hasUndo" ng-click="onBtnUndoClick()" title="撤销 | {{ ::shortcutKey(\'Undo\') }}"> <span class="glyphicon glyphicon-share-alt flip-y"></span> <div>撤销</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-disabled="!undoStatus.canRedo && !ueHelperStatus.undoManager.hasRedo" ng-click="onBtnRedoClick()" title="重做 | {{ ::shortcutKey(\'Redo\') }}"> <span class="glyphicon glyphicon-share-alt"></span> <div>重做</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnHelpClick()"> <span class="glyphicon glyphicon-question-sign"></span> <div>帮助</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnSortPageClick()" title="页面排序"> <span class="glyphicon glyphicon-sort"></span> <div>页序</div> </a> </li> <li> <a class="btn btn-default" role="button" href="https://jinshuju.net/f/hbbew2" target="_blank"> <span class="glyphicon glyphicon-comment"></span> <div>吐槽</div> </a> </li> <li> <a class="btn btn-default" role="button" href="" ng-disabled="UserBlocked == true" ng-click="onApplyShowGoodsClick(status.show.info.show_id)"> <span class="glyphicon glyphicon-send"></span> <div>投稿</div> </a> </li> <li> <a class="btn btn-default" role="button" href="javascript:void(0)" ng-click="onBtnOptionClick()"> <span class="glyphicon glyphicon-cog"></span> <div>设置</div> </a> <div class="option-panel" ng-show="showOptionPanel" ng-cloak> <div class="form-group">设置</div> <div class="divider"></div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.autoSave"> 自动保存 </label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/23565700" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item"> <label> <input type="checkbox" ng-model="editingOptions.pastePlain" ng-click="onPastePlainClick()"> 粘贴时清除格式 </label> </div> <div class="form-group menu-item" ng-if="false"> <label> <input type="checkbox" ng-model="editingOptions.supportPerformCellFrozen"> 允许冻结编辑单元 </label> <a class="no-decoration xiumi-white" href="" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group menu-item" ng-if="teamCount > 0"> <label> <input type="checkbox" ng-model="editingOptions.displayTeamImgLib"> 显示团队图库 </label> </div> </div> </li> </ul> <div class="tn-download-list" ng-show="!!downloadList.groups.length"> <div class="btn-group" uib-dropdown is-open="downloadList.isOpen"> <button type="button" class="btn btn-grey" uib-dropdown-toggle> <span class="glyphicon glyphicon-download-alt"></span>下载文件列表 </button> <div class="dropdown-menu" uib-dropdown-menu role="menu"> <div class="download-list-title"> 如未能自动下载，请点击下方链接 <span class="bar-item close glyphicon glyphicon-remove" title="清除并关闭" ng-click="clearDownloadList()"></span> </div> <ul class="download-group-list list-style-none ul-no-rim"> <li class="download-group-item" ng-repeat="dlGroup in downloadList.groups track by $id(dlGroup)"> <div class="download-group-title"> {{ dlGroup.time | date:\'yyyy年M月d日 H:mm\' }} </div> <div class="download-file-list"> <div class="download-file-item" ng-repeat="file in dlGroup.downloadFiles"> <a class="no-decoration" ng-href="{{ file.url }}" target="_blank"> {{ file.fileName || \'文件 \' + $index }} </a> </div> </div> </li> </ul> </div> </div> </div> '),t.put("/views/app/studio/desk/viewportZoomingPanel.html",'<div class="tn-viewport-zooming-panel btn-group" role="group"> <button class="btn btn-default zoom-out" type="button" ng-click="onBtnZoomOutClicked()"> <span class="glyphicon glyphicon-zoom-out"></span> </button> <div class="dropup zooming-selector"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-dblclick="onBtnZoomItemClicked(100)"> {{ zoomValue }}% </button> <ul class="dropdown-menu"> <li> <a href="" ng-click="onBeginDeskBGClicked()">设置桌面</a> </li> <li> <a href="" ng-click="onEraseDeskBGClicked()">清除桌面</a> </li> <li role="separator" class="divider"></li> <li ng-repeat="zoom in zoomValueList"> <a href="" ng-click="onBtnZoomItemClicked(zoom)">{{ zoom }}%</a> </li> </ul> </div> <div class="tn-view-zoom-warning"> <div class="alert alert-danger" role="alert"> 浏览器页面有缩放，会造成字号设置不正确， 按 {{ ::shortcutKey(\'ZoomResume\') }} 恢复页面。</div> </div> <button class="btn btn-default zoom-in" type="button" ng-click="onBtnZoomInClicked()"> <span class="glyphicon glyphicon-zoom-in"></span> </button> </div> <div class="tn-desk-background-mask" ng-show="status.editingDeskBackground" ng-click="onCancelDeskBGClicked()"> <div class="background-prompt text-right" stop-propagation="click"> <p> 点击图库图片，更换秀米桌面 </p> <div class="form-group"> <select class="form-control bg-repeat-select" ng-options="entry.name for entry in deskBackground.fillEntries" ng-model="deskBackground.currentFill" ng-change="onDeskBGFillModeChanged()"> </select> </div> <p class="text-center"> <button class="btn btn-default background-apply" ng-click="onApplyDeskBGClicked()">应用</button> </p> </div> </div>'),t.put("/views/app/studio/desk/wxarticles/articlesPush.html",'<script type="text/ng-template" id="in-page/articleTemplateBrowser-articleItem.html"> <div class="wxarticle-card">\n    <div class="wxarticle-card-head">\n      更新时间： {{ card.content.update_time * 1000 | date:\'yyyy-MM-dd HH:mm:ss\' }}\n    </div>\n    <div class="wxarticle-article-list">\n      <div class="wxarticle-article-item" ng-repeat="article in card.content.news_item">\n        <a ng-href={{article.url}} target="blank">\n          <img alt="" referrerPolicy="no-referrer" ng-src="{{article.thumb_url}}">\n          <span ng-bind="article.title">\n          </span>\n        </a>\n      </div>\n    </div>\n    <div class="wxarticle-card-footer">\n      <div class="wxarticle-action" ng-if="mother.cur_author.verifyTypeInfo == 0" ng-click="mother.previewArticle(card)" ng-cloak>\n        <p>\n          预览\n        </p>\n      </div>\n      <div class="wxarticle-action" ng-if="mother.cur_author.verifyTypeInfo == 0" ng-click="mother.sendArticle(card)" ng-cloak>\n        <p>\n          群发\n        </p>\n      </div>\n      <div class="wxarticle-action" ng-click="mother.deleteArticle(card)" ng-cloak>\n        <p>\n          删除\n        </p>\n      </div>\n    </div>\n  </div> <\/script> <script type="text/ng-template" id="in-page/articleTemplateBrowser-published-articleItem.html"> <div class="wxarticle-card">\n    <div class="wxarticle-card-head">\n      更新时间： {{ card.content.update_time * 1000 | date:\'yyyy-MM-dd HH:mm:ss\' }}\n    </div>\n    <div class="wxarticle-article-list">\n      <div class="wxarticle-article-item" ng-repeat="article in card.content.news_item">\n        <a ng-href={{article.url}} target="blank">\n          <img alt="" referrerPolicy="no-referrer" ng-src="{{article.thumb_url}}">\n          <span ng-bind="article.title">\n          </span>\n        </a>\n      </div>\n    </div>\n  </div> <\/script> <div class="wxarticles-editing-panel wxarticles-panel-left" ng-if="switchType == \'list\'" ng-cloak> <div class="wxarticle-container"> <div class="wxarticle-header"> <span>认证号可以微信预览和定时群发；如果已经是认证号但看不到群发按钮，请重新授权一下</span> </div> <div class="form-group col-sm-12"> <div class="btn-group toggle-btn col-sm-offset-5 col-sm-4" ng-click="onSwitchArticles()"> <label class="btn btn-success col-sm-4 ng-pristine ng-valid" ng-model="inner.articleType" uib-btn-radio="\'draft\'">草稿箱</label> <label class="btn btn-success col-sm-4 ng-pristine ng-valid" ng-model="inner.articleType" uib-btn-radio="\'published\'">已发布</label> </div> </div> <div ng-show="inner.articleType == \'draft\'"> <div class="deckgrid tn-wxarticle-browser-deckgrid clearfix wxarticles-deckgrid" deckgrid source="wxDrafts.articles" cardtemplate="in-page/articleTemplateBrowser-articleItem.html"> </div> </div> <div ng-show="inner.articleType == \'published\'"> <div class="deckgrid tn-wxarticle-browser-deckgrid clearfix wxarticles-deckgrid" deckgrid source="wxPublisheds.articles" cardtemplate="in-page/articleTemplateBrowser-published-articleItem.html"> </div> </div> <div class="loading-indicator col-sm-12 col-xs-12 text-center" ng-include="::\'/views/app/home/studio/loadingMore.html\'"> </div> </div> </div> <section class="tn-login-layer full-fill-a" ng-show="status.wxAuth.signingIn" ng-cloak> <div class="auth-wnd wx-auth-wnd container"> <div class="title row text-center"> <img src="/images/b80cd8.xiumi_logo_40.png" alt="秀米XIUMI"> 秀米授权管理 <span class="glyphicon glyphicon-remove close-btn" ng-click="onBtnWxLoginCancel()"></span> </div> <iframe class="row embed-responsive-item" ng-src="{{ wxAuthBinding.signInFrameSrc }}"></iframe> </div> </section> <div class="wxarticles-editing-panel wxarticles-panel-left wxarticles-panel-right" ng-if="switchType == \'record\'" ng-cloak> <div class="wxarticle-container"> <div class="wxarticle-header"> </div> <div> <table class="record-table table table-striped col-sm-12"> <tr> <th>公众号</th> <th>标题</th> <th>发送时间</th> <th>设置时间</th> <th>状态</th> <th>失败原因</th> </tr> <tr ng-repeat="record in records track by record.id"> <td class="overflow-text"> <img ng-src="{{ record.AuthInfo.headImg }}" width="55px" height="55px"> <span ng-bind="record.AuthInfo.nickName"></span> </td> <td ng-bind="record.title"></td> <td ng-bind="record.sendTime | date:\'yyyy-MM-dd HH:mm\'"></td> <td ng-bind="record.createdAt | date:\'yyyy-MM-dd HH:mm\'"></td> <td> <span ng-bind="record.errcode ? record.errcode !=0 ? \'失败\' : \'成功\' : \'未发送\'"></span> <a href="javascript:void(0);" style="margin-left: 1em;" ng-if="!record.errcode" ng-click="sendCancel(record)">取消群发</a> </td> <td ng-bind="record.errcode !=0 ? record.errmsg : \'--\'"></td> </tr> </table> </div> </div> </div> '),t.put("/views/app/studio/desk/wxDeskSurface.html",'<div class="editing-panel tn-state-transition-animation" ui-view="editingPanel"></div> '),t.put("/views/app/studio/desk/wxpack/multiPagesEditingPanelArticle.html",'<div class="x5-editing-panel tn-studio-paper text-center tn-scroll-to" tn-scrolled-page-box> <div class="alert alert-danger alert-dismissible tn-compatible-prompt" role="alert"> <button type="button" class="close" data-dismiss="alert"> <span aria-hidden="true">&times;</span> <span class="sr-only">关闭</span> </button> 请注意：秀米不兼容当前浏览器，请尽快换成谷歌浏览器。 </div> <div class="alert alert-info alert-dismissible tn-operate-prompt" ng-show="status.isCopyMode" ng-cloak> <button type="button" class="close" data-dismiss="alert"> <span aria-hidden="true">&times;</span> <span class="sr-only">关闭</span> </button> <p style="color: rgb(249, 110, 87);"> Ctrl+C ( Mac: ⌘C ) 复制模板到剪贴板，然后Ctrl+V ( Mac: ⌘V ) 粘贴到微信的图文消息编辑器中 <br> 为保证正确拷贝，请使用同一个浏览器打开秀米与微信后台 </p> 使用秀米同步功能比复制粘贴更快捷方便，<a href="//v.xiumi.us/board/v5/2a5va/14790933" target="_blank">点击这里看教程</a> <br> 如果复制秀米内容到微信之外的第三方平台，请保留图片在图库，或者保存好图文不要删除，否则图片可能会失效。 </div> <div class="tn-wxpack-editing-block"> <div class="inner"> <div class="tn-panel-container"> <div class="x3-paper-wrapper col-xs-12 col-sm-12 col-md-12" ng-controller="WxpackBasicController" ng-cloak> <div class="wxpack-notify x3-package sim-weixin-context x3-paper-dock editing" ui-sortable="pieceSortableOpts" ng-model="pieces"> <div class="full-fill-a x3-slice-placeholder" ng-if="pieces.length == 0"> <div class="full-fill-r center-v"> <div class="inner"> 先授权公众号<br> 再从左边的图文库里选择图文，自由组合<br> 也可以点击底部按钮，直接转载其它微信图文<br> 最后点击顶部按钮，同步到公众号后台草稿箱<br> </div> </div> </div> <div class="x3-slice-plate clearfix" ng-repeat="piece in pieces"> <span class="bar-item move glyphicon glyphicon-move" ng-cloak> </span> <span class="bar-item delete glyphicon glyphicon-trash" ng-click="removePiece($event, $index)" ng-cloak> </span> <div class="article-container"> <div ng-class="$index === 0 ? \'header-first\' : \'header\'"> <div class="thumb"> <div class="bg-image" ng-click="onCoverEditingStart($event, $index)" ng-style="{\'background-image\': \'url(\' + piece.thumb + \')\'}"> <div class="inner"> <span class="center" ng-bind="piece.thumbEditing ? \'\' : \'点击更换封面\'"></span> </div> </div> <div class="hover" ng-show="piece.thumbEditing"> <div class="inner" ng-bind-html="$index === 0 ? (\'“我的图库”中<br>选择图片<br>建议尺寸<br>900X383\' | unsafe) : (\'“我的图库”中<br>选择图片<br>建议尺寸<br>200X200\' | unsafe)"></div> </div> </div> <div class="title"> <div class="inner" ng-bind="piece.title"></div> </div> </div> <div class="desc" ng-bind="piece.description" ng-show="pieces.length === 1"></div> <div class="misc"> <label class="show-cover" ng-hide="true"> 正文显示封面 <input type="checkbox" ng-model="piece.showThumb"> </label> <div class="author-container"> <div class="name">作者</div> <input type="text" class="author" ng-model="piece.wx_author" placeholder="请输入作者"> </div> <div class="link-container"> <div class="name">链接</div> <input type="text" class="link" ng-model="piece.wx_link" placeholder="请输入原文链接"> </div> </div> </div> <div class="slice-html-container" ng-if="piece.version === 1"> </div> <div class="slice-html-container" ng-if="piece.version === 5"> </div> </div> </div> <div class="wxpack-reprint" ng-click="onBtnAddWXArticle()"> <span class="inner">点此转载其它微信图文</span> </div> <iframe class="v5-render-frame" src="/studio/v5/paperloader"></iframe> <iframe class="v2-render-frame" src="/studio/paperloader"></iframe> <div class="x3-content-prompt" ng-bind="box.prompt"></div> </div> </div> </div> </div> </div> <section class="tn-login-layer full-fill-a" ng-show="status.wxAuth.signingIn" ng-cloak> <div class="auth-wnd wx-auth-wnd container"> <div class="title row text-center"> <img src="/images/b80cd8.xiumi_logo_40.png" alt="秀米XIUMI"> 微信公众号登录 <span class="glyphicon glyphicon-remove close-btn" ng-click="onBtnWxLoginCancel()"></span> </div> <iframe class="row embed-responsive-item" ng-src="{{ wxAuthBinding.signInFrameSrc }}"></iframe> </div> </section> <section class="tn-loading-overlap tn-progress-overlap black full-fill-a" ng-show="status.sendingData" ng-cloak> <div class="progress progress-striped active"> <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{ \'width\': status.sendingProgress + \'%\' }" ng-bind="status.sendingProgress + \'%\'"> </div> </div> </section> '),t.put("/views/app/studio/dialogs/adminDialogTemplateCreation.html",'<div class="modal-header clearfix"> <h3 class="modal-title">创建 \'{{ ctrl.templateData.category }}\' 模板</h3> </div> <div class="modal-body clearfix"> <form class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">Atom ID</label> <div class="col-sm-10"> <input class="form-control" type="text" placeholder="atom_id" ng-model="ctrl.templateData.atom_id"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">Category</label> <div class="col-sm-10"> <select class="form-control" ng-model="ctrl.templateData.category" ng-change="ctrl.onMetaCategoryChanged(ctrl.templateData.category)"> <option>booklet-cp</option> <option>booklet-pg</option> <option>booklet-lt</option> <option>paper-cp</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">Display Name</label> <div class="col-sm-10"> <input class="form-control" type="text" placeholder="display_name" ng-model="ctrl.templateData.display_name"> </div> </div> <div class="form-group" style="background-color: #424a58;"> <div class="col-sm-12 meta-preview" ng-switch="ctrl.templateData.category"> <div class="tn-tpl-list capture-tpl tn-tpl-container-comp" ng-switch-when="paper-cp" ng-class="{ \'usage-layout\': ctrl.templateData.atom_tpl_id.indexOf(\'paper-cp:layout\') == 0 }"> <div class="tn-tpl-item tn-tpl-comp tn-lighting-box tn-scene-paper tpl-view-td-large tpl-comp-view-td" tn-atom-context="{ type: \'paper\', inEditor: true, onceBinding: false, fontEnable: true }"> <section class="tn-tpl-comp-box lighting-hover"> <div class="wrapper" disable-tn-group-flex-box="block"> <div class="tn-tpl-comp-item" ng-repeat="cp in ctrl.templateData.matrix" tn-solo-comp-loader="cp"> </div> </div> </section> </div> </div> <div class="tn-tpl-list capture-tpl tn-tpl-container-comp" ng-switch-when="booklet-cp" ng-class="{ \'usage-layout\': ctrl.templateData.atom_tpl_id.indexOf(\'paper-cp:layout\') == 0 }"> <div class="tn-tpl-item tn-tpl-comp tn-lighting-box tn-scene-booklet tpl-view-td-large tpl-comp-view-td" tn-atom-context="{ type: \'booklet\', inEditor: true, onceBinding: false, linkEnabled: false, fontEnable: true, animationOperator: true }"> <section class="tn-tpl-comp-box lighting-hover"> <div class="wrapper"> <div class="tn-tpl-comp-item" ng-repeat="cp in ctrl.templateData.matrix" tn-solo-comp-loader="cp"> </div> </div> </section> </div> </div> <div class="tn-tpl-list capture-tpl tn-tpl-container-page" ng-switch-when="booklet-pg"> <div class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box tpl-pg-view-td" tn-atom-context="{ type: \'booklet\', inEditor: true, onceBinding: false, linkEnabled: false, fontEnable: true, animationOperator: true }" ng-switch="(!!ctrl.templateData.thumb_uri)"> <section class="tn-tpl-page-box lighting-hover" ng-switch-when="true"> <div class="tn-tpl-page-item tn-page tn-tpl-thumb-bind-box" ng-style="{ backgroundImage: \'url(\' + ctrl.templateData.thumb_uri + \')\' }"> </div> </section> <section class="tn-tpl-page-box lighting-hover" ng-switch-default ng-click="ctrl.onTemplatePlayAnimationClick($event)"> <div class="tn-tpl-page-item tn-page" tn-solo-comp-loader="ctrl.templateData.matrix" tn-comp-role="page"> </div> </section> </div> </div> <div class="tn-tpl-list capture-tpl tn-tpl-container-page-layout" ng-switch-when="booklet-lt"> <div class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box tpl-pg-view-td" tn-atom-context="{ type: \'booklet\', inEditor: true, onceBinding: false, linkEnabled: false, fontEnable: true, animationOperator: true }" ng-switch="(!!ctrl.templateData.thumb_uri)"> <section class="tn-tpl-page-box lighting-hover" ng-switch-when="true"> <div class="tn-tpl-page-item tn-page tn-tpl-thumb-bind-box" ng-style="{ backgroundImage: \'url(\' + ctrl.templateData.thumb_uri + \')\' }"> </div> </section> <section class="tn-tpl-page-box lighting-hover" ng-switch-default ng-click="ctrl.onTemplatePlayAnimationClick($event)"> <div class="tn-tpl-page-item tn-page" tn-solo-comp-loader="ctrl.templateData.matrix" tn-comp-role="page"> </div> </section> </div> </div> </div> </div> <div class="form-group"> <div class="col-sm-12 text-right"> <hr> <button class="btn btn-green" type="button" ng-click="ctrl.ok()" ng-disabled="ctrl.templateCreating"> 创建 </button> <button class="btn btn-red" type="button" ng-click="ctrl.cancel()" ng-disabled="ctrl.templateCreating"> 取消 </button> <hr> </div> </div> <div class="form-group meta"> <label class="col-sm-2 control-label">Meta Content</label> <div class="col-sm-10"> <textarea class="form-control monospace" rows="50" ng-model="ctrl.templateData.meta" ng-change="ctrl.onMetaChanged()"></textarea> </div> </div> </form> </div>'),t.put("/views/app/studio/dialogs/colorPaletteExport.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导出当前分组颜色</h3> </div> <div class="modal-body clearfix"> <div class="row input form-group text-center"> <div class="col-xs-12 col-sm-12 col-md-12"> <textarea class="form-control text-left" ng-model="palette" readonly auto-focus-on="mouseover" auto-select-on="mouseover">\n      </textarea> </div> </div> <div class="row text-center hint"> 提示：将颜色代码导出复制，可以在另一个分组里面导入，<br> 也可以复制给其他用户。 </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok($event)">关闭</button> </div>'),t.put("/views/app/studio/dialogs/colorPaletteImport.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="导入"> <h3 class="row text-center">导入颜色到当前分组</h3> <div class="row input form-group text-center"> <div class="col-xs-12 col-sm-12 col-md-12"> <textarea class="form-control text-left" ng-model="palette" placeholder="粘贴或输入颜色列表，以分号分隔">\n          </textarea> </div> </div> <div class="row text-center hint"> “如何让我们生活中的颜色与颜色更美地调和，<br>有人思考这些问题，并为此而工作，很好” </div> </uib-tab> <uib-tab index="1" heading="导出"> <h3 class="row text-center">导出当前分组颜色</h3> <div class="row input form-group text-center"> <div class="col-xs-12 col-sm-12 col-md-12"> <textarea class="form-control text-left" ng-model="palette" readonly auto-focus-on="mouseover" auto-select-on="mouseover">\n          </textarea> </div> </div> <div class="row text-center hint"> 提示：将颜色代码导出复制，可以在另一个分组里面导入，<br> 也可以复制给其他用户。 </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok($event)">确定</button> <button class="btn btn-red" type="button" ng-click="cancel($event)">取消</button> </div>'),t.put("/views/app/studio/dialogs/colorPaletteImportExport.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="导入" select="onSelectImport()"> <h3 class="row text-center">导入颜色到当前分组</h3> <div class="row input form-group text-center"> <div class="col-xs-12 col-sm-12 col-md-12"> <textarea class="form-control text-left" ng-model="palette.importPalette" placeholder="粘贴或输入颜色列表，以分号分隔">\n          </textarea> </div> </div> <div style="color:darkgray" class="row text-center hint"> “如何让我们生活中的颜色与颜色更美地调和，<br>有人思考这些问题，并为此而工作，很好” </div> </uib-tab> <uib-tab index="1" heading="导出" select="onSelectExport()"> <h3 class="row text-center">导出当前分组颜色</h3> <div class="row input form-group text-center"> <div class="col-xs-12 col-sm-12 col-md-12"> <textarea class="form-control text-left" ng-model="palette.exportPalette" readonly auto-focus-on="mouseover" auto-select-on="mouseover">\n          </textarea> </div> </div> <div class="row text-center hint"> 提示：将颜色代码导出复制，可以在另一个分组里面导入，<br> 也可以复制给其他用户。 </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer clearfix" ng-switch="currentTabIndex"> <div ng-switch-when="0"> <button class="btn btn-green" type="button" ng-click="ok($event)">确定</button> <button class="btn btn-red" type="button" ng-click="cancel($event)">取消</button> </div> <div ng-switch-default> <button class="btn btn-red" type="button" ng-click="cancel($event)">关闭</button> </div> </div>'),t.put("/views/app/studio/dialogs/deleteResources.html",'<div class="modal-header clearfix"> <h3 class="modal-title">批量删除公众号图片</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div style="text-align: center; padding: 5px 10px;"> <p> 批量删除公众号后台素材库里的图片，删除不会影响公众号已经推送的图文以及保存的图文素材，同步遇到素材库已满的错误时可使用此功能。 </p> </div> <div class="form-group"> <label class="col-sm-3 control-label">选择公众号：</label> <div class="col-sm-8"> <select class="form-control" ng-options="author as author.user for author in wxAuthors | filter: {authType: \'weixin\'}" ng-model="currentAuthor"> </select> </div> </div> <div class="col-xs-12 col-sm-12 col-md-12" style="padding: 1.5em 0;"> <label class="col-xs-12 col-sm-3" style="line-height: 2em;">删除范围：</label> <div class="col-xs-12 col-sm-9"> <input type="radio" name="rdbRange" ng-model="range" value="30"><span style="padding: 0 0.5em;">一个月前</span> <input type="radio" name="rdbRange" ng-model="range" value="180"><span style="padding: 0 0.5em;">半年前</span> <input type="radio" name="rdbRange" ng-model="range" value="365"><span style="padding: 0 0.5em;">一年前</span> </div> </div> <div class="col-xs-12 col-sm-12 text-center" style="height: 1em;padding: 1em;"> <div ng-if="isDeleting" ng-cloak> 已扫描：<span ng-bind="currentCount"></span> </div> <div ng-if="!isInitial && !isDeleting" ng-cloak> 共删除图片素材：<span ng-bind="deletedCount"></span> 张 </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="submit()" ng-disabled="!currentAuthor">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/deleteWxAuth.html",'<div class="modal-header clearfix"> <h3 class="modal-title">解除公众号授权</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div style="text-align: center; padding: 5px 10px;"> <h3> <p> 将解除该公众号的授权： </p> </h3> <h4> <p> {{ wxauth.user }} </p> </h4> </div> </div> <div class="row"> <div style="text-align: center; padding: 5px 10px;"> <p> 如需彻底解除，点击确定后，再到公众号后台-&gt;公众号设置-&gt;授权管理，</p><p>取消秀米第三方平台的授权。 </p> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="submit()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/dialogCollectImages.html",'<div class="modal-header clearfix"> <h3 class="modal-title">收集图片</h3> </div> <div class="modal-body clearfix"> <form class="form-horizontal"> <div class="form-group"> <div class="col-sm-12 text-center"> <label class="radio-inline"> <input type="radio" name="collectTo" ng-model="image.to" ng-value="\'lib\'"> 收集到图库 </label> <label class="radio-inline"> <input type="radio" name="collectTo" ng-model="image.to" ng-value="\'local\'"> 收集到本地 </label> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div> '),t.put("/views/app/studio/dialogs/dialogEditWatermark.html",'<div class="dialog-edit-watermark modal-body clearfix" ng-mousedown="onDialogMouseDown($event)"> <div class="col-xs-12 col-sm-12 clearfix general-opt"> <div> <label class="control-label">水印名称</label> <input class="form-control" type="text" ng-model="status.watermarkName"> </div> <div> <label class="control-label">水印类型</label> <label class="control-label"> <input ng-model="status.watermarkType" type="radio" value="image" ng-click="onWatermarkTypeChanged()"> 图片 </label> <label class="control-label"> <input ng-model="status.watermarkType" type="radio" value="text" ng-click="onWatermarkTypeChanged()"> 文字 </label> </div> </div> <div class="col-xs-12 col-sm-12"> <div class="clearfix opt" ng-show="status.watermarkType == \'text\'"> <div class="preview"> <div class="source-image-placeholder" ng-style="{ width: status.sourceImage.previewSize.width, height: status.sourceImage.previewSize.height }"> </div> <div class="watermark-text" ng-click="onWatermarkClick()" ng-style="{ color: status.textWatermark.color, opacity: (status.textWatermark.opacity / 100) }"> <p>{{ status.textWatermark.text }}</p> </div> </div> <div> <div style="display: inline-block;"> <div> <label class="control-label">水印文字</label> <input class="form-control" type="text" ng-model="status.textWatermark.text" autofocus> </div> <div style="margin-top: 10px;"> <label class="control-label">透明设置</label> <input class="form-control" type="number" min="1" max="100" ng-model="status.textWatermark.opacity" autofocus> <label class="control-label">(1-100)</label> </div> </div> <div style="margin-right: 10%; float: right; margin-top: -2px;"> <label class="control-label">文字颜色</label> <span class="op-theme-color-sec" tn-color-selector="status.textWatermark.color" is-container-open="status.isDialogOpen"> </span> </div> </div> </div> <div class="clearfix opt" ng-show="status.watermarkType == \'image\'"> <div class="preview"> <div class="source-image-placeholder" ng-style="{ width: status.sourceImage.previewSize.width, height: status.sourceImage.previewSize.height }"></div> <div class="watermark-image" ng-click="onWatermarkClick()"> <img ng-src="{{ (status.imageWatermark.imageUrl == undefined) ? \'\' : ((status.imageWatermark.imageUrl.indexOf(\'blob:\') >= 0) ? status.imageWatermark.imageUrl : (status.imageWatermark.imageUrl + \'?x-oss-process=style/xmwebp\')) }}"> </div> </div> <label class="col-sm-3 control-label">图片内容</label> <div class="col-sm-6"> <input id="watermarkFileUploadInput" type="file" class="form-control" accept="image/jpeg, image/png" file-model="status.watermarkFile" file-change="onUploadWatermarkFile()" ng-cloak> <a role="button" ng-disabled="!authStatus.userInfo" alias-as="#watermarkFileUploadInput" alias-event="click"> 添加水印图片 </a> </div> </div> <div style="text-align: right; padding-top: 15px;"> <button class="btn btn-green" type="button" ng-click="onOk()">确定</button> <button class="btn btn-red" type="button" ng-click="onCancel()">取消</button> </div> </div> </div>'),t.put("/views/app/studio/dialogs/dialogExportPaper.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" ng-attr-heading="{{ inner.showType == \'paper\' ? \'生成长图\' : \'生成图片\' }}" active="inner.isExportImage"> <div class="row" ng-switch="inner.showType"> <h3 class="col-sm-12 text-center" ng-switch-when="paper">长图参数</h3> <h3 class="col-sm-12 text-center" ng-switch-default>图片参数</h3> <div class="col-sm-12"> <p><br></p> </div> </div> <div class="row" ng-if="status.auth.userInfo.level < 4"> <div class="col-sm-12 text-center"> <p>等级会员VIP可选择高清和超清，<a href="/#/user/upgrade" target="_blank">点此升级</a></p> <p><br></p> </div> </div> <form class="form-horizontal"> <div class="form-group"> <label class="col-sm-4 control-label">图片质量：</label> <div class="col-sm-8"> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="1"> 标清 </label> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="2" ng-disabled="status.auth.userInfo.level < 4"> 高清 </label> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="4" ng-disabled="status.auth.userInfo.level < 4"> 超清 </label> </div> </div> <div class="form-group" ng-if="inner.showType == \'paper\'"> <label class="col-sm-4 control-label">分页：</label> <div class="col-sm-8"> <label class="radio-inline"> <input type="radio" name="imageMultiPage" ng-model="image.multiPage" ng-value="false"> 单页 </label> <label class="radio-inline"> <input type="radio" name="imageMultiPage" ng-model="image.multiPage" ng-value="true" ng-change="onImageMultiPageChanged()"> 多页  </label> <label class="radio-inline"> </label> </div> </div> <div class="form-group" ng-if="false" ng-if="inner.showType == \'paper\'"> <label class="col-sm-4 control-label">每页高度：</label> <div class="col-xs-12 col-sm-4"> <div class="input-group"> <input class="form-control" type="number" name="imagePageHeight" ng-model="image.pageHeight" min="0"> <div class="input-group-addon">像素</div> </div> </div> </div> <div class="form-group" ng-if="!!image.multiPage" ng-if="inner.showType == \'paper\'"> <label class="col-sm-4 control-label">页面宽高比：</label> <div class="col-xs-12 col-sm-4"> <div class="input-group"> <input class="form-control" type="number" name="imagePageRatioX" ng-model="image.pageRatioX" min="1"> <div class="input-group-addon">:</div> <input class="form-control" type="number" name="imagePageRatioY" ng-model="image.pageRatioY" min="1"> </div> </div> </div> <div class="form-group" ng-switch="inner.showType"> <label class="col-sm-4 control-label" ng-switch-when="paper">每页尺寸：</label> <label class="col-sm-4 control-label" ng-switch-default>图片尺寸：</label> <div class="col-sm-8"> <p class="form-control-static"> <span>宽 {{ mathRound(image.pageWidth * image.quality) }} 像素</span> <span ng-if="image.multiPage">x 高 {{ mathRound(image.pageWidth * image.pageRatioY / image.pageRatioX * image.quality) }} 像素</span> </p> </div> </div> <div class="form-group" ng-if="inner.showType == \'paper\'"> <label class="col-sm-4 control-label">边距：</label> <div class="col-sm-8"> <label class="checkbox-inline"> <input type="checkbox" name="imagePadding" ng-model="image.keepPadding"> 保留边距 </label> </div> </div> </form> </uib-tab> <uib-tab index="1" heading="生成PDF" active="inner.isExportPDF" ng-if="inner.showType == \'paper\'"> <div class="row"> <h3 class="col-sm-12 text-center">PDF参数</h3> <div class="col-sm-12"> <p><br></p> </div> </div> <form class="form-horizontal"> <div class="form-group"> <label class="col-sm-4 control-label">分页：</label> <div class="col-sm-8"> <label class="radio-inline"> <input type="radio" name="pdfMultiPage" ng-model="pdf.multiPage" ng-value="false"> 单页 </label> <label class="radio-inline"> <input type="radio" name="pdfMultiPage" ng-model="pdf.multiPage" ng-value="true"> 多页 </label> </div> </div> <div class="form-group" ng-if="!!pdf.multiPage"> <label class="col-sm-4 control-label">每页高度：</label> <div class="col-xs-12 col-sm-4"> <div class="input-group"> <input class="form-control" type="number" name="pdfPageHeight" ng-model="pdf.pageHeight" min="0"> <div class="input-group-addon">像素</div> </div> </div> </div> </form> </uib-tab> </uib-tabset> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div> </div>'),t.put("/views/app/studio/dialogs/dialogExportPoster.html",'<div class="modal-header clearfix"> <h3 class="modal-title">保存图片</h3> </div> <div class="modal-body clearfix"> <div class="row" ng-if="status.auth.userInfo.level < 4"> <div class="col-sm-12 text-center"> <p>等级会员VIP可选择高清和超清，<a href="/#/user/upgrade" target="_blank">点此升级</a></p> <p><br></p> </div> </div> <form class="form-horizontal"> <div class="form-group"> <label class="col-sm-4 control-label">图片质量：</label> <div class="col-sm-8"> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="1"> 标清 </label> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="2" ng-disabled="status.auth.userInfo.level < 4"> 高清 </label> <label class="radio-inline"> <input type="radio" name="imageQuality" ng-model="image.quality" ng-value="4" ng-disabled="status.auth.userInfo.level < 4"> 超清 </label> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div> '),t.put("/views/app/studio/dialogs/dialogImagePaperCreator.html",'<div class="modal-header clearfix"> <h3 class="modal-title">生成贴纸图文</h3> </div> <div class="modal-body clearfix"> <div class="alert-info"> <p> 贴纸图文会保留正文，将模板转为图片，这样复制到其它平台（如知乎、百家号等等）就可以保留模板效果。<br> Ctrl+C ( Mac: ⌘C ) 复制，再Ctrl+V ( Mac: ⌘V ) 粘贴到各平台编辑器。更多帮助请<a style="color:#f96e57" href="//v.xiumi.us/board/v5/2a5va/45090897" target="_blank">点击这里</a> </p> </div> <div class="copied-content-container"> <div class="copied-content-print tn-scene-paper" ng-mouseenter="onCopiedContentEnter($event)" ng-click="onCopiedContentClick($event)" ng-copy="onCopiedContentCopy($event)" ng-bind-html="copiedContent | unsafe"> </div> </div> <div class="loading-indicator" ng-show="state.fetching"> <div class="loading ng-scope"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div>'),t.put("/views/app/studio/dialogs/dialogImportAudioCard.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导入音频卡片</h3> </div> <div class="modal-body clearfix"> <div class="setting-hint"> <span>输入一个含有音频卡片的图文链接，或者新建一个图文，步骤如下：</span> </div> <div class="setting-hint"> <span>1.公众号后台新建一个图文，进入公众号编辑器</span> </div> <div class="setting-hint"> <span>2.编辑器顶部选择音频，选择素材库，然后搜索需要添加的音频，加入编辑区</span> </div> <div class="setting-hint"> <span>3.保存，回到后台草稿箱管理页面，点击刚刚新建图文的标题，浏览器会打开它的临时链接</span> </div> <div class="setting-hint"> <span>4.复制上述临时链接地址到输入框，然后确认。</span> </div> <form class="form-horizontal setting-form" name="urlForm"> <div class="form-group"> <label class="col-sm-2 control-label">图文地址</label> <div class="col-sm-10"> <input class="form-control" type="url" name="url" required placeholder="请输入公众号图文链接地址" ng-model="inner.url"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="urlForm.url.$invalid" ng-click="ok()">确认</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogImportMusicCard.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导入音乐卡片</h3> </div> <div class="modal-body clearfix"> <div class="setting-hint"> <span>输入一个含有音乐卡片的图文链接，或者新建一个图文，步骤如下：</span> </div> <div class="setting-hint"> <span>1.公众号后台新建一个图文，进入公众号编辑器</span> </div> <div class="setting-hint"> <span>2.编辑器顶部选择音频，选择音乐，然后搜索需要添加的音乐，加入编辑区</span> </div> <div class="setting-hint"> <span>3.保存，回到后台素材管理页面，点击刚刚新建图文的标题，浏览器会打开它的临时链接</span> </div> <div class="setting-hint"> <span>4.复制上述临时链接地址到输入框，然后确认。</span> </div> <form class="form-horizontal setting-form" name="urlForm"> <div class="form-group"> <label class="col-sm-2 control-label">图文地址</label> <div class="col-sm-10"> <input class="form-control" type="url" name="url" required placeholder="请输入公众号图文链接地址" ng-model="inner.url"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="urlForm.url.$invalid" ng-click="ok()">确认</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogImportProfileCard.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导入公众号名片</h3> </div> <div class="modal-body clearfix"> <div class="setting-hint"> <span>输入一个含有公众号名片的图文链接，或者新建一个图文，步骤如下：</span> </div> <div class="setting-hint"> <span>1.公众号后台新建一个图文，进入公众号编辑器</span> </div> <div class="setting-hint"> <span>2.编辑器顶部选择公众号，然后搜索需要添加的公众号，加入编辑区</span> </div> <div class="setting-hint"> <span>3.保存，回到后台素材管理页面，点击刚刚新建图文的标题，浏览器会打开它的临时链接</span> </div> <div class="setting-hint"> <span>4.复制上述临时链接地址到输入框，然后确认。</span> </div> <div class="setting-hint"> <span>提示：导入成功后建议加入“我的收藏”。</span> </div> <form class="form-horizontal setting-form" name="urlForm"> <div class="form-group"> <label class="col-sm-2 control-label">图文地址</label> <div class="col-sm-10"> <input class="form-control" type="url" name="url" required placeholder="请输入公众号图文链接地址" ng-model="inner.url"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="urlForm.url.$invalid" ng-click="ok()">确认</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogImportVideoCard.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导入视频号卡片</h3> </div> <div class="modal-body clearfix"> <div class="setting-hint"> <span>输入一个含有视频号的图文链接，或者新建一个图文，步骤如下：</span> </div> <div class="setting-hint"> <span>1.公众号后台新建一个图文，进入公众号编辑器</span> </div> <div class="setting-hint"> <span>2.编辑器顶部选择视频号，然后搜索需要添加的视频号，加入编辑区</span> </div> <div class="setting-hint"> <span>3.保存，回到后台素材管理页面，点击刚刚新建图文的标题，浏览器会打开它的临时链接</span> </div> <div class="setting-hint"> <span>4.复制上述临时链接地址到输入框，然后确认。</span> </div> <form class="form-horizontal setting-form" name="urlForm"> <div class="form-group"> <label class="col-sm-2 control-label">图文地址</label> <div class="col-sm-10"> <input class="form-control" type="url" name="url" required placeholder="请输入公众号图文链接地址" ng-model="inner.url"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="urlForm.url.$invalid" ng-click="ok()">确认</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogImportVideoTx.html",'<div class="modal-header clearfix"> <h3 class="modal-title">导入公众号视频</h3> </div> <div class="modal-body clearfix"> <div class="setting-hint"> <span>输入一个含有公众号视频的图文链接，或者新建一个图文，步骤如下：</span> </div> <div class="setting-hint"> <span>1.公众号后台新建一个图文，进入公众号编辑器</span> </div> <div class="setting-hint"> <span>2.编辑器顶部选择视频，然后从素材库选择或者输入视频链接，加入编辑区</span> </div> <div class="setting-hint"> <span>3.保存，回到后台草稿箱管理页面，点击刚刚新建图文的标题，浏览器会打开它的临时链接</span> </div> <div class="setting-hint"> <span>4.复制上述临时链接地址到输入框，然后确认。</span> </div> <div class="setting-hint"> <span>提示：导入成功后建议加入“我的收藏”。</span> </div> <form class="form-horizontal setting-form" name="urlForm"> <div class="form-group"> <label class="col-sm-2 control-label">图文地址</label> <div class="col-sm-10"> <input class="form-control" type="url" name="url" required placeholder="请输入公众号图文链接地址" ng-model="inner.url"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="urlForm.url.$invalid" ng-click="ok()">确认</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogImportWxArticleLink.html",'<div class="modal-header clearfix"> <h3 class="modal-title">请输入要导入的微信图文链接</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-12"> <p>导入非本人微信图文请与原公众号联系授权</p> </div> </div> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="articleUrlInput" type="url" ng-model="state.articleLink" ng-keydown="articleLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="粘贴或输入微信图文链接，请注意不是微信图文编辑页面的链接"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">导入</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogLoading.html",'<div class="tn-dialog-loading-body text-center"> <div class="tn-prompt-text"> {{ $ctrl.promptText }} </div> <div class="lds-ellipsis"> <div></div><div></div><div></div><div></div> </div> </div>'),t.put("/views/app/studio/dialogs/dialogMultiCompCopy.html",'<div class="modal-header clearfix"> <h3 class="modal-title">复制部分排版到微信</h3> </div> <div class="modal-body clearfix"> <div class="alert-info"> <p style="color: rgb(249, 110, 87);"> Ctrl+C ( Mac: ⌘C ) 复制模板到剪贴板，然后Ctrl+V ( Mac: ⌘V ) 粘贴到微信的图文消息编辑器中 <br> 为保证正确复制，请使用同一个浏览器打开秀米与微信后台 </p> </div> <div class="copied-content-container"> <div class="copied-content-print tn-scene-paper" ng-mouseenter="onCopiedContentEnter($event)" ng-click="onCopiedContentClick($event)" ng-copy="onCopiedContentCopy($event)" ng-bind-html="copiedContent | unsafe"> </div> </div> </div>'),t.put("/views/app/studio/dialogs/dialogOpenShowHistory.html",'<div class="modal-header clearfix"> <h3 class="modal-title">打开历史记录</h3> </div> <div class="modal-body clearfix"> <p>历史记录可用于内容回溯或者灾难恢复，早期的历史记录会被定期清理，请留意。</p> <div class="show-history-list-panel ng-scope" tn-scroll-touch="onBoxScroll($event)"> <button class="btn show-history-item" ng-repeat="item in showHistoryItems" ng-cloak> <div> <div class="show-history-time show-editor ng-binding" ng-bind="::item.editor" ng-if="item.editor.length > 0" ng-dblclick="selectShowHistoryItem($index)"></div> <div class="show-history-time" ng-bind="::item.created_at | date:\'yyyy年M月d日 H:mm\'" ng-dblclick="selectShowHistoryItem($index)"></div> <a class="btn show-preview-btn" ng-click="selectShowHistoryItem($index, true)">恢复</a> <a class="btn show-preview-btn" ng-click="previewShowHistoryItem($index)" ng-if="status.showType == \'paper\'">预览</a> </div> </button> </div> <div class="show-preview-panel" ng-show="previewHtml.length > 0"> <div class="content-panel"> <div ng-class="{ \'tn-scene-paper\': (scene.indexOf(\'flw.vertical.one-page\') == 0) }" ng-bind-html="previewHtml | unsafe"></div> </div> </div> <div class="no-history" ng-show="(showHistoryItems.length == 0) && state.noMore">无历史记录</div> <div class="loading-indicator text-center" ng-include="::\'/views/app/home/studio/loadingMore.html\'"> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogPreviewPoster.html",'<div class="background-mask" ng-click="onClickOnMask()"> <div class="box"> <iframe class="preview-frame embed-responsive-item" ng-style="viewPort.boxSize" ng-src="{{ showPreview.uri | showURL:null:viewStyle.colorScheme | unsafeResource }}"> </iframe> </div> </div>'),t.put("/views/app/studio/dialogs/dialogReplaceText.html",'<div class="modal-header clearfix"> <h3 class="modal-title">替换文字内容</h3> </div> <div class="modal-body clearfix"> <div class="row input form-group"> <div class="col-sm-12"> <div class="btn-group toggle-btn"> <label class="radio-inline"> <input type="radio" ng-model="inner.replaceScope" value="all">全文替换 </label> <label class="radio-inline"> <input type="radio" ng-model="inner.replaceScope" value="current">替换选中部分 </label> </div> </div> </div> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-left" name="findText" type="text" ng-model="findText" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="待匹配内容"> <br> <input class="form-control text-left" name="replaceText" type="text" ng-model="replaceText" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="替换内容"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()" ng-disabled="disableDoReplace()">替换</button> </div>'),t.put("/views/app/studio/dialogs/dialogScanImageInfringement.html",'<div class="modal-header clearfix"> <h3 class="modal-title">检测图片来源权属</h3> </div> <div class="modal-body clearfix" ng-cloak> <div> <div class="no-image-infringement" ng-show="!state.doneScan && !state.fetching">无检测结果</div> <p ng-show="state.doneScan && (imageInfringementItems.length > 0)">检测到以下图片有来源权属</p> <div class="image-infringement-list-panel ng-scope" ng-show="state.doneScan && imageInfringementItems.length > 0"> <button ng-if="item.code != 0" class="btn image-infringement-item" ng-repeat="item in imageInfringementItems"> <div class="infringement-panel"> <img ng-src="{{ item.imgLink }}"> <div class="infringement-links" ng-if="item.code == 1"> <div ng-repeat="infringementLink in item.infringementLinks"> <a class="btn infringement-link" ng-if="::(!!infringementLink.page)" ng-href="{{ ::infringementLink.page}}" target="_blank">{{ \'权属来源\' + ($index + 1) }}</a> <a class="btn infringement-link" ng-if="::(!!infringementLink.src)" ng-href="{{ ::infringementLink.src}}" target="_blank">{{ \'查看图片\' }}</a> </div> </div> <div ng-if="item.code < 0">无法确定来源</div> </div> </button> </div> <div class="no-image-infringement" ng-show="state.fetching">正在检索图片......</div> <div class="no-image-infringement" ng-show="state.doneScan && (imageInfringementItems.length == 0)">未找到有来源权属的图片</div> <div class="loading-indicator text-center" ng-include="::\'/views/app/home/studio/loadingMore.html\'"></div> <p ng-show="state.doneScan" class="tudun-text" ng-cloak>以上图片来源检索结果由<a href="http://www.unknown.com/" target="_blank">计易数据</a>为您提供，不对图片权属进行实质审查，仅供参考不具有法律效力。</p> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="start()" ng-disabled="state.fetching || state.doneScan">开始检测</button> <button class="btn btn-green" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/dialogSetMap.html",'<div class="modal-header clearfix"> <h3 class="modal-title">设置地图</h3> </div> <div class="modal-body clearfix"> <div style="position:relative;display:inline-block;overflow:hidden;height:500px;" tn-map-selector ng-model="mapPoints"> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-gray" type="button" ng-click="cancel()">取消</button> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div>'),t.put("/views/app/studio/dialogs/dialogSetProfileCard.html",'<div class="modal-header clearfix"> <h3 class="modal-title">设置公众号</h3> </div> <div class="modal-body clearfix"> <div class="text-center setting-hint"> <span> 公众号编号务必填写正确，其他信息只供在秀米本地浏览，以公众号信息为准 </span> </div> <form class="form-horizontal setting-form" name="dataForm"> <div class="form-group"> <label class="col-sm-2 control-label">编号</label> <div class="col-sm-10"> <input class="form-control" type="text" name="id" required placeholder="请输入公众号编号，以==结尾" ng-model="inner.profile.id" ng-pattern="/^\\w*==$/"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">名称</label> <div class="col-sm-10"> <input class="form-control" type="text" placeholder="请输入公众号名称" ng-model="inner.profile.nickname"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">描述</label> <div class="col-sm-10"> <input class="form-control" type="text" placeholder="请输入公众号描述" ng-model="inner.profile.signature"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">图标</label> <div class="col-sm-10"> <input class="form-control" type="text" placeholder="请输入图标链接" ng-model="inner.profile.headimg"> </div> </div> </form> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> <button class="btn btn-green" type="button" ng-disabled="dataForm.id.$invalid" ng-click="ok()">确认</button> </div>'),t.put("/views/app/studio/dialogs/dialogSetupCubeTransition.html",'<div class="modal-header clearfix"> <h3 class="modal-title">章节转场设置</h3> </div> <div class="modal-body clearfix"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">效果</label> <div class="col-sm-10"> <select class="form-control menu-style-input" ng-model="ctrl.currentTransition" ng-options="transition.name for transition in ctrl.cubeTransitions"> </select> </div> </div> <div class="form-group" ng-show="ctrl.showApplyTransitionToAll"> <div class="col-md-offset-2 col-md-10"> <div class="checkbox"> <label> <input type="checkbox" ng-model="ctrl.applyTransitionToAll">向后应用到所有页 </label> </div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-gray" type="button" ng-click="ctrl.cancel()">取消</button> <button class="btn btn-green" type="button" ng-click="ctrl.ok()">确定</button> </div>'),t.put("/views/app/studio/dialogs/dialogSetupPageTransition.html",'<div class="modal-header clearfix"> <h3 class="modal-title">翻页设置</h3> </div> <div class="modal-body clearfix"> <div class="page-trans-panel" stop-propagation="mousedown mouseup mousemove" ng-switch="inner.type"> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="control-label col-md-2" style="padding-right:0px">效果</label> <div class="col-md-10"> <select class="form-control menu-style-input" ng-model="inner.currentTransition" ng-options="tran.name for tran in transList"> </select> </div> </div> <div class="form-group" ng-show="inner.showApplyAll"> <div class="col-md-offset-2 col-md-10"> <div class="checkbox"> <label> <input type="checkbox" ng-model="inner.applyTransitionToAll">向后应用到所有页 </label> </div> </div> </div> </div> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="control-label col-md-2" style="padding-right:0px">操作</label> <div class="col-md-10"> <select class="form-control menu-style-input" ng-model="inner.type"> <option value="transition">滑动（默认）</option> <option value="autoturning">自动翻页</option> <option value="disabled">禁止滑动</option> </select> </div> </div> </div> <div class="form-horizontal" ng-switch-when="transition"> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <div class="checkbox"> <label> <input type="checkbox" ng-model="inner.applyTransitionModeToAll">向后应用到所有页 </label> </div> </div> </div> </div> <div class="form-horizontal" ng-switch-when="autoturning"> <div class="form-group form-inline"> <div class="col-md-10 col-md-offset-2"> <label class="control-label auto-duration-label"> <span>时间间隔</span> </label> <input class="form-control menu-style-input duration-input" placeholder="0.5" type="number" max="86400.0" min="0.0" step="0.1" ng-model="inner.autoDuration"> <label class="control-label auto-duration-label"> <span>秒</span> </label> </div> </div> <div class="form-group"> <div class="col-md-offset-2 col-md-10"> <div class="checkbox"> <label> <input type="checkbox" ng-model="inner.applyAutoTurningPageToAll">向后应用到所有页 </label> </div> </div> </div> </div> <div class="form-horizontal" ng-switch-when="disabled"> <div class="form-group form-inline"> <label class="control-label col-md-10 col-md-offset-2 text-muted">页面无法滑动，需要设置元素的页面跳转进行翻页 </label> </div> </div> <div class="form-horizontal type-selection" style="margin-top:10px;"> <div class="form-group"> <label class="control-label col-md-2" style="padding-right:0px"></label> <div class="col-md-10"> <label style="margin-top:4px;"> <input type="checkbox" ng-model="inner.circularTurning"> 循环翻页 </label> <br><label class="text-muted">最后一页可以翻页回到首页</label> </div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-gray" type="button" ng-click="cancel()">取消</button> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div>'),t.put("/views/app/studio/dialogs/dialogSetWatermark.html",'<div class="modal-body clearfix"> <uib-tabset> <uib-tab index="0" heading="我的水印" select="refreshWatermarkList()"> </uib-tab> <uib-tab index="1" heading="团队水印" select="onCategoryTeamsSelect()" active="status.teamTabActive"> <form class="form-horizontal team-selection"> <div class="form-group"> <label class="col-sm-3 control-label">选择团队：</label> <div class="col-sm-8"> <select class="form-control" ng-options="team as team.display_name for team in status.myTeams.teams track by team.team_id" ng-model="status.myTeams.selectedTeam" ng-change="refreshWatermarkList(status.myTeams.selectedTeam)"> </select> </div> </div> </form> </uib-tab> </uib-tabset> <table class="table table-striped vertical-middle"> <thead> <tr> <th>名称</th> <th>水印内容</th> <th style="width: auto;"></th> </tr> </thead> <tbody> <tr ng-repeat="watermark in status.watermarks"> <td> <span ng-bind="watermark.content.name"></span> </td> <td> <span ng-show="watermark.content.type == \'text\'" ng-bind="watermark.content.text"></span> <img class="image-icon" ng-show="watermark.content.type == \'image\'" ng-src="{{ watermark.content.imageUrl + \'?x-oss-process=style/xmwebp\' }}"> </td> <td> <a class="btn btn-green" role="button" title="编辑水印" ng-click="onEditWatermark($index)" style="float: right;" ng-hide="status.disableWatermarkEditing"> <span class="glyphicon glyphicon-edit edit-icon"></span> 编辑 </a> <a class="btn btn-danger" role="button" title="删除水印" ng-click="onDelWatermark($index)" style="float: right; margin-right: 5px;" ng-hide="status.disableWatermarkEditing"> <span class="glyphicon glyphicon-trash"></span> 删除 </a> </td> </tr> </tbody> </table> <div style="margin-top: 20px;"> <a class="btn btn-green" ng-click="onAddWatermark()" style="float: right;" ng-hide="status.disableWatermarkEditing"> <span class="glyphicon glyphicon-plus"></span> 添加水印 </a> </div> </div>'),t.put("/views/app/studio/dialogs/dialogStrawColorFromImage.html",'<div class="background-mask" ng-click="ctrl.onClickOnMask($event)"></div> <div class="straw-color-box"> <div class="cross-origin-image" ng-show="ctrl.status.imageReady == \'un-support\'"> <h3 class="text-danger text-center">外链图片不支持</h3> </div> <div class="original-image-panel" stop-propagation="click mousedown mouseup pointerdown pointerup" ng-show="ctrl.status.imageReady == \'ready\'" ng-style="{\'left\': ctrl.inner.workView.left, \'top\': ctrl.inner.workView.top, \'width\': ctrl.inner.workView.width, \'height\': ctrl.inner.workView.height}"> <div class="surface" ng-style="{\'left\': ctrl.inner.imageLocation.left, \'top\': ctrl.inner.imageLocation.top, \'width\': ctrl.inner.image.width, \'height\': ctrl.inner.image.height}" hm-recognizer-options="{{ctrl.status.bhoHaMv}}" hm-panstart="ctrl.onHaMovePanStart" hm-panend="ctrl.onHaMovePanEnd" hm-pan="ctrl.onHaMovePan"> <img ng-src="{{ctrl.status.imageSrc | unsafe }}"> </div> </div> <div class="straw-canvas-panel" stop-propagation="click mousedown mouseup pointerdown pointerup" ng-show="ctrl.status.imageReady == \'ready\'" ng-style="{\'left\': ctrl.inner.workView.left, \'top\': ctrl.inner.workView.top, \'width\': ctrl.inner.workView.width, \'height\': ctrl.inner.workView.height}"> <canvas class="op-canvas" width="{{ctrl.inner.workView.width}}px" height="{{ctrl.inner.workView.height}}px" ng-mouseleave="ctrl.onLeaveOpCanvas($event)" ng-mouseenter="ctrl.onEnterOpCanvas($event)" ng-click="ctrl.onClickOpCanvas($event)" hm-recognizer-options="{{ctrl.status.bhoHaMv}}" hm-panstart="ctrl.onHaMovePanStart" hm-panend="ctrl.onHaMovePanEnd" hm-pan="ctrl.onHaMovePan"></canvas> <canvas class="color-view-canvas" width="100px" height="100px" ng-show="ctrl.status.showStrawView"></canvas> </div> <div class="straw-side-bar" stop-propagation="click mousedown mouseup pointerdown pointerup" ng-show="ctrl.status.imageReady == \'ready\'" ng-style="{\'left\': ctrl.inner.workView.left, \'top\': ctrl.inner.workView.top + ctrl.inner.workView.height + 10, \'width\': ctrl.inner.workView.width}"> <div class="preview-color" ng-style="{\'background-color\': ctrl.status.color}"></div> <div class="bar-item color-info"> <span class="color-val" ng-bind="ctrl.status.color"></span> </div> <div class="bar-item"> <select class="form-control" ng-model="ctrl.status.currentGroup" ng-change="ctrl.onColorGroupChanged(ctrl.status.currentGroup)" ng-options="gpItem.groupName for gpItem in ctrl.inner.colorGroups"> </select> </div> <div class="bar-item text-right"> <button class="btn btn-success" ng-click="ctrl.onAddColor()">加入调色板</button> <button class="btn btn-danger" ng-click="ctrl.onClickOnMask($event)" style="margin-left:10px">关闭</button> </div> </div> </div> '),t.put("/views/app/studio/dialogs/dialogUploadDocx.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified"> <uib-tab index="0" heading="导入Word文档" active="tabStatus.docx" select="onTabSelect(\'docx\')" ng-if="importType == \'file\'"> <div class="center-v col-xs-12 col-sm-12"> <div class="alert-info"> <p> 只支持(.docx)文件，Word格式会被清除。 </p> <p> 支持从电脑拖放文件</p> </div> <div class="select-doc-panel"> <input id="lefile" type="file" style="display:none" tn-upload-file="" on-file-uploaded="onFileUploaded(fileArr)" accept=".docx"> <a class="btn btn-green choose-doc" onclick="$(\'input[id=lefile]\').click();">选择文档</a> </div> </div> </uib-tab> <uib-tab index="1" heading="导入Excel" active="tabStatus.excel" select="onTabSelect(\'excel\')" ng-if="importType == \'file\'"> <div class="center-v col-xs-12 col-sm-12"> <div class="alert-info"> <p> 只支持(.xlsx)文件，导入第一个工作表的表格和数据。</p> <p> 支持从电脑拖放文件</p> </div> <div class="select-doc-panel"> <input id="excelFileUploadInput" type="file" style="display:none" tn-upload-file="" on-file-uploaded="onExcelFileUploaded(fileArr)" accept=".xlsx" ng-cloak> <a class="btn btn-green choose-doc" role="button" onclick="$(\'input[id=excelFileUploadInput]\').click();">选择Excel</a> </div> </div> </uib-tab> <uib-tab index="2" heading="导入公众号图文" active="tabStatus.wx" select="onTabSelect(\'wx\')" ng-if="importType == \'wx\'"> <div class="center-v col-xs-12 col-sm-12"> <div ng-if="status.auth.userInfo.level < 4" class="alert-info"> <p> 导入公众号图文对等级会员VIP开放，<a href="/#/user/upgrade" target="_blank">点此升级。</a><br>导入不支持SVG互动代码，请留意。 </p> </div> <div ng-if="status.auth.userInfo.level >= 4" class="alert-info"> <p> 导入不支持SVG互动代码，请留意。 </p> </div> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input ng-disabled="status.auth.userInfo.level < 4" class="form-control text-center" name="articleUrlInput" type="url" ng-model="wxTab.articleLink" ng-keydown="wxTab.articleLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="粘贴或输入公众号图文链接，请注意不是公众号后台编辑页面的链接"> </div> </div> <div class="wx-tab-footer"> <button class="btn btn-green" type="button" ng-click="wxTab.ok()">导入</button> <button class="btn btn-red" type="button" ng-click="wxTab.cancel()">关闭</button> </div> </div> </uib-tab> <uib-tab index="3" heading="从授权公众号导入" active="tabStatus.wxArticle" select="onTabSelect(\'wxArticle\')" ng-if="importType == \'wx\'"> <div class="text-center center-v col-xs-12 col-sm-12" ng-if="wxAuthors.length == 0"> <div class="alert-info"> <p> 你还没有授权过公众号 </p> </div> </div> <div ng-if="wxAuthors.length > 0"> <form class="form-horizontal team-selection"> <div class="form-group"> <label class="col-sm-3 control-label">选择公众号：</label> <div class="col-sm-8"> <select class="form-control" ng-options="author as author.user for author in wxAuthors | filter: {authType: \'weixin\'}" ng-model="wxArticleTab.currentAuthor" ng-change="wxArticleTab.loadArticle(wxArticleTab.currentAuthor)"> </select> </div> </div> </form> <div class="form-group col-sm-12"> <div class="btn-group toggle-btn col-sm-offset-4 col-sm-4" ng-click="onSwitchArticles()"> <label class="btn btn-success ng-pristine ng-valid" ng-model="wxArticleTab.articleType" uib-btn-radio="\'draft\'" ng-change="">草稿箱</label> <label class="btn btn-success ng-pristine ng-valid" ng-model="wxArticleTab.articleType" uib-btn-radio="\'published\'" ng-change="">已发布</label> </div> </div> <div class="row ng-scope wxarticle-list-panel" tn-scroll-to-bottom="wxArticleTab.fetchMore()"> <div ng-if="wxArticleTab.articleType == \'draft\'"> <div class="news-item" ng-repeat="news_item in wxArticleTab.news.news_items track by $id(news_item)" ng-cloak> <button class="entry wx-news-thumbnail text-center" ng-click="wxArticleTab.onNewsClicked(news_item)" ng-dblclick="wxArticleTab.onNewsDbClicked(news_item)"> <div class="wx-news-cover"> <img referrerpolicy="no-referrer" ng-src="{{ news_item.thumb_url }}"> </div> <div class="wx-news-desc"> <div class="news-title" ng-bind="::news_item.title"></div> </div> </button> </div> </div> <div ng-if="wxArticleTab.articleType == \'published\'"> <div class="news-item" ng-repeat="news_item in wxArticleTab.publishedNews.news_items track by $id(news_item)" ng-cloak> <button class="entry wx-news-thumbnail text-center" ng-click="wxArticleTab.onNewsClicked(news_item)" ng-dblclick="wxArticleTab.onNewsDbClicked(news_item)"> <div class="wx-news-cover"> <img referrerpolicy="no-referrer" ng-src="{{ news_item.thumb_url }}"> </div> <div class="wx-news-desc"> <div class="news-title" ng-bind="::news_item.title"></div> </div> </button> </div> </div> </div> <div class="wx-tab-footer"> <button class="btn btn-green" type="button" ng-click="wxArticleTab.ok()" ng-disabled="!wxArticleTab.currentNews">导入</button> <button class="btn btn-red" type="button" ng-click="wxArticleTab.cancel()">关闭</button> </div> </div> </uib-tab> </uib-tabset> <div class="loading-indicator" ng-show="isProcessing"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div>'),t.put("/views/app/studio/dialogs/dialogUploadPsd.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified"> <uib-tab index="0" heading="导入PSD" active="tabStatus.psd" select="onTabSelect(\'psd\')"> <div class="center-v col-xs-12 col-sm-12" ng-switch="inner.layout"> <div class="content-desc" ng-switch-when="paper-free"> <p>导入须知</p> <p>1. 导入会自动调整宽高比并且清除当前内容</p> <p>2. PSD文件不能超过<span class="emp">30M</span>，图层数目不能超过<span class="emp">30个</span>，图层大小不能超过<span class="emp">5M</span></p> <p>3. 必须使用<span class="emp">RGB/8</span>通道模式</p> <p>4. 为保证图片质量，建议导入前尽量将效果合并到图层中</p> <div class="checkbox"> <label><input type="checkbox" ng-model="inner.Text2Image"><span class="text-warning">将文字转成图片，请保证有相应的字体授权</span></label> </div> </div> <div class="content-desc" ng-switch-default> <p>导入须知</p> <p>1. 建议单页PSD尺寸为<span class="emp">750 * 1126px</span></p> <p>2. PSD文件不能超过<span class="emp">30M</span>，图层数目不能超过<span class="emp">30个</span>，图层大小不能超过<span class="emp">5M</span></p> <p>3. 必须使用<span class="emp">RGB/8</span>通道模式</p> <p>4. 为保证图片质量，建议导入前尽量将效果合并到图层中</p> <div class="checkbox"> <label><input type="checkbox" ng-model="inner.Text2Image"><span class="text-warning">将文字转成图片，请保证有相应的字体授权</span></label> </div> </div> </div> <div class="col-sm-12 col-md-12 select-doc-panel text-center"> <input id="imageFileUploadInput" type="file" class="form-control" accept=".psd" file-model="inner.imageFile" file-change="uploadImageFiles()" ng-cloak> <a class="btn btn-green" role="button" ng-disabled="inner.uploading" alias-as="#imageFileUploadInput" alias-event="click">{{imageFileUploadButtonTitle}}</a> </div> </uib-tab> <uib-tab index="1" heading="导入在线Psd文档" active="tabStatus.url" select="onTabSelect(\'url\')" ng-if="false"> <div class="center-v col-xs-12 col-sm-12"> <div class="alert-info" style="margin:1.2em 0em"> <p>在线Psd导入须知</p> <p>上传须知</p> <p>1 建议上传单页PSD尺寸为748 * 1024px</p> <p>2 为保证上传速度，PSD文件大小最好不要超过30M，图层不能超过30个，且每个图层不能超过5M</p> <p>3 必须使用RGB/8通道模式</p> <p>4 为保证图片质量，建议上传前尽量将效果合并到图层中</p> </div> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="articleUrlInput" type="url" ng-model="online.psdUrl" ng-keydown="wxTab.articleLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="粘贴或输入在线Psd文件的链接"> </div> </div> <div class="wx-tab-footer"> <button class="btn btn-green" type="button" ng-click="wxTab.ok()" ng-disabled="!wxTab.enableWx">导入</button> <button class="btn btn-red" type="button" ng-click="wxTab.cancel()">关闭</button> </div> </div> </uib-tab> </uib-tabset> <div class="loading-indicator text-center" ng-show="isProcessing"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div>'),t.put("/views/app/studio/dialogs/dialogUseOtherBgm.html",'<div class="modal-header clearfix"> <h3 class="modal-title">引用外链</h3> </div> <div class="modal-body clearfix"> <div class="center-v col-xs-12 col-sm-12"> <form class="form-horizontal" name="phoneForm"> <div class="tn-setting-section row"> <div class="form-group col-sm-12"> <input type="text" class="form-control" name="name" placeholder="请输入名称" required ng-model="audName"> </div> <div class="form-group col-sm-12"> <input type="text" class="form-control" name="link" placeholder="请输入链接" required ng-model="audUrl"> </div> </div> </form></div>  </div>  <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="!audName || !audUrl" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/dialogVideoPreview.html",'<div class="modal-header clearfix"> <h3 class="modal-title">视频预览</h3> </div> <div class="modal-body clearfix"> <div class="text-center video-name"> <span>{{videoName}}</span> </div> <video ng-src="{{videoSrc}}" autoplay controls> 对不起，您的浏览器不支持视频预览！ </video> </div> <div class="modal-footer clearfix"> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/fragmentTagSelector.html",'<div class="modal-header clearfix"> <h3 class="modal-title">收藏标签选择</h3> </div> <div class="modal-body clearfix"> <div class="selected-room col-sm-6"> <h4 class="title text-center">常用的标签</h4> <div class="tn-tpl-room-group text-center" ui-sortable="roomSortableOpts" ng-model="selectedRooms"> <div class="tn-tpl-room-item" ng-repeat="room in selectedRooms track by room.tag"> <div class="inner" ng-bind="room.tag" ng-click="onSelectedRoomItemClicked($index)"></div> </div> </div> </div> <div class="rest-room col-sm-6"> <h4 class="title text-center">不常用标签</h4> <div class="tn-tpl-room-group text-center" ui-sortable="roomSortableOpts" ng-model="restRooms"> <div class="tn-tpl-room-item" ng-repeat="room in restRooms track by room.tag"> <div class="inner" ng-bind="room.tag" ng-click="onRestRoomItemClicked($index)"></div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/imageTagSelector.html",'<div class="modal-header clearfix"> <h3 class="modal-title">图库标签选择</h3> </div> <div class="modal-body clearfix"> <div class="selected-room col-sm-6"> <h4 class="title text-center">常用的标签</h4> <div class="tn-tpl-room-group text-center" ui-sortable="roomSortableOpts" ng-model="selectedRooms"> <div class="tn-tpl-room-item" ng-repeat="room in selectedRooms track by room.tag"> <div class="inner" ng-bind="room.tag" ng-click="onSelectedRoomItemClicked($index)"></div> </div> </div> </div> <div class="rest-room col-sm-6"> <h4 class="title text-center">不常用标签</h4> <div class="tn-tpl-room-group text-center" ui-sortable="roomSortableOpts" ng-model="restRooms"> <div class="tn-tpl-room-item" ng-repeat="room in restRooms track by room.tag"> <div class="inner" ng-bind="room.tag" ng-click="onRestRoomItemClicked($index)"></div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/itemTagEdit.html",'<div class="modal-header clearfix"> <h3 class="modal-title">设置标签</h3> </div> <div class="modal-body clearfix"> <div class="row"> <ul class="tag-list item-tags clearfix list-style-none ul-no-rim"> <li class="tag-item" ng-repeat="tag in itemTags"> <span class="text" ng-bind="tag"></span> <span class="glyphicon glyphicon-remove" ng-click="onRemoveTag(tag)"></span> </li> <form class="form-inline"> <div class="form-group"> <input type="text" class="form-control" placeholder="添加新标签，回车确认" ng-model="newTagText" ng-keypress="onInputKeyPress($event)"> </div> </form> </ul> </div> <hr> <div class="row"> <ul class="tag-list all-tags clearfix list-style-none ul-no-rim col-xs-12"> <li class="prefix">或选择已有标签:</li> <li class="tag-item" ng-repeat="tag in allTags" ng-click="onAddTag(tag)"> <span class="text" ng-bind="tag"></span> </li> <li class="no-tag-prompt" ng-show="!allTags.length">您还没有创建标签</li> </ul> </div> </div>'),t.put("/views/app/studio/dialogs/mixedUsagePagePreview.html",'<div class="background-mask" ng-click="onClickOnMask()"> <div class="box"> <div class="preview-frame embed-responsive-item" ng-style="viewPort" ng-bind-html="transcodeHTML | unsafe" stop-propagation="click"> </div> </div> </div>'),t.put("/views/app/studio/dialogs/pageSorter.html",'<div class="modal-header clearfix"> <h3 class="modal-title">拖动调整页面顺序</h3> </div> <div class="modal-body clearfix"> <div class="container col-sm-12"> <div class="tn-group-set-list text-center" ui-sortable="pageSortableOpts" ng-model="groupSetList" ng-cloak> <div class="tn-group-set-item" ng-repeat="groupSet in groupSetList track by groupSet.groundBeginIndex" ng-class="{ \'in-group\': groupSet.pages.length > 1 }"> <div class="tn-page-item" ng-repeat="pgItem in groupSet.pages track by pgItem.pageIndex"> <div class="tn-page-title"> <label class="title" ng-if="!pgItem.pageData._comp.title" ng-cloak>第{{ pgItem.pageIndex + 1 }}页</label> <label class="title" ng-if="pgItem.pageData._comp.title" ng-bind="pgItem.pageData._comp.title" ng-cloak></label> </div> </div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/patternFragmentShowSelector.html",'<div class="modal-body clearfix"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="我的样刊" select="onCategorySelect(\'myShows\')"> <div class="row show-list-panel text-center" ng-if="!data.myShows.showList.length"> 还没有图文样刊，<a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/52968265" target="_blank">点此查看如何使用</a> </div> <div class="row show-list-panel ng-scope" tn-scroll-touch="onBoxScroll($event, \'myShows\')"> <div class="show-item" ng-repeat="sh in data.myShows.showList track by $id(sh)" ng-class="::sh.type_text" ng-cloak> <button class="entry show-thumbnail text-center" ng-class="::{ \'locked\': sh.right_no_advert, \'locking\': sh.mask_on_locking }" ng-click="onShowClicked(sh)" ng-dblclick="onShowDblClicked(sh)"> <div class="show-cover" ng-style="::{ \'background-image\': sh.cover ? \'url(\' + sh.cover + \')\' : \'none\' }"></div> <div class="show-desc"> <div class="show-title" ng-bind="::sh.title"></div> <div class="show-time" ng-bind="::sh.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </button> </div> </div> <div class="loading-indicator text-center" ng-show="data.myShows.needLoadMore" ng-include="::\'/views/app/home/studio/loadingMore.html\'"> </div> </uib-tab> <uib-tab index="1" heading="团队样刊" select="onCategoryTeamsSelect(\'myTeams\')"> <form class="form-horizontal team-selection"> <div class="form-group"> <label class="col-sm-3 control-label">选择团队：</label> <div class="col-sm-8"> <select class="form-control" ng-options="team as team.display_name for team in data.myTeams.teams track by team.team_id" ng-model="data.myTeams.selectedTeam" ng-change="onTeamChanged(data.myTeams.selectedTeam)"> </select> </div> </div> </form> <div class="row show-list-panel text-center" ng-if="!data.myTeams.showList.length"> 还没有团队样刊，<a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/52968265" target="_blank">点此查看如何使用</a> </div> <div class="row show-list-panel ng-scope" tn-scroll-touch="onBoxScroll($event, \'myTeams\')"> <div class="show-item" ng-repeat="sh in data.myTeams.showList track by $id(sh)" ng-class="::sh.type_text" ng-cloak> <button class="entry show-thumbnail text-center" ng-class="::{ \'locked\': sh.right_no_advert, \'locking\': sh.mask_on_locking }" ng-click="onShowClicked(sh)" ng-dblclick="onShowDblClicked(sh)"> <div class="show-cover" ng-style="::{ \'background-image\': sh.cover ? \'url(\' + sh.cover + \')\' : \'none\' }"></div> <div class="show-desc"> <div class="show-title" ng-bind="::sh.title"></div> <div class="show-time" ng-bind="::sh.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </button> </div> </div> <div class="loading-indicator text-center" ng-show="data.myTeams.needLoadMore" ng-include="::\'/views/app/home/studio/loadingMore.html\'"> </div> </uib-tab> <uib-tab index="2" heading="系统样刊" select="onCategorySelect(\'protoShows\')"> <div class="row show-list-panel text-center"> 系统样刊提供了几篇预设的一键排版范例，可以快速使用。 </div> <div class="row show-list-panel ng-scope" tn-scroll-touch="onBoxScroll($event, \'protoShows\')"> <div class="show-item" ng-repeat="sh in data.protoShows.showList track by $id(sh)" ng-class="::sh.type_text" ng-cloak> <button class="entry show-thumbnail text-center" ng-class="::{ \'locked\': sh.right_no_advert, \'locking\': sh.mask_on_locking }" ng-click="onShowClicked(sh)" ng-dblclick="onShowDblClicked(sh)"> <div class="show-cover" ng-style="::{ \'background-image\': sh.cover ? \'url(\' + sh.cover + \')\' : \'none\' }"></div> <div class="show-desc"> <div class="show-title" ng-bind="::sh.title"></div> <div class="show-time" ng-bind="::sh.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </button> </div> </div> <div class="loading-indicator text-center" ng-show="data.protoShows.needLoadMore" ng-include="::\'/views/app/home/studio/loadingMore.html\'"> </div> </uib-tab> </uib-tabset> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> <button class="btn btn-red" type="button" ng-click="cancel()">取消</button> </div>'),t.put("/views/app/studio/dialogs/sendPreviewWxUser.html",'<div class="modal-header clearfix"> <h3 class="modal-title">发送预览至个人微信</h3> </div> <div class="modal-body clearfix"> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="previewUsersInput" type="text" ng-model="authorConfig.wxSyncPreviewAudiences" ng-keydown="previewUsersKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="请输入接收预览的微信号"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="preview()">预览</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/sendWxArticles.html",'<div class="modal-header clearfix"> <h3 class="modal-title">群发微信图文</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-12"> <p>立即群发后无法撤回，请谨慎选择；也可以设置定时群发，后续可以随时取消。</p> <p>图文被判定为转载时将停止发送，请留意；原创图文请到公众号后台开启原创标。</p> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" ng-click="sendWxArticles()">立即群发</button> <button class="btn btn-primary" ng-click="sendWxArticlesDelay()">定时群发</button> </div>'),t.put("/views/app/studio/dialogs/sendWxArticlesDelay.html",'<div class="modal-header clearfix"> <h3 class="modal-title">定时群发微信图文</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-12"> <label class="col-xs-12 col-sm-3" style="line-height: 2em;">群发时间：</label> <div class="col-xs-6 col-sm-3"> <select class="col-xs-12 col-sm-12 form-control" ng-options="date.label for date in sendDateOptions" ng-model="sendDate" ng-change="onChangeDate()"></select> </div> <div class="col-xs-6 col-sm-5"> <div uib-timepicker ng-model="sendTime" ng-change="changed()" hour-step="1" minute-step="1" show-meridian="false" show-spinners="false"></div> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" ng-click="send()">定时群发</button> </div>'),t.put("/views/app/studio/dialogs/showPreview.html",'<div class="background-mask" ng-click="onClickOnMask()" ng-class="show.type_text"> <div class="box"> <div class="side-bar" stop-propagation="click" ng-cloak> <uib-tabset active="activeJustified" justified="true" class="preview-container-selector"> <uib-tab index="0" heading="预览"> <div> <div class="qr-container" ng-if="!(!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited)"> <div class="border"> <a ng-href="{{ (_qrLink_ ? showPreview.uri : \'\') | showURL:null:viewStyle.colorScheme }}" target="_blank"> <qrcode qr-data="showPreview.uri | showURL:null:viewStyle.colorScheme" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </a> </div> <div class="desc"> 预览二维码仅供查看编辑效果，短期会失效。 </div> <div> <hr> </div> <div class="desc"> <a href="https://v.xiumi.us/board/v5/2a5va/109760747" target="_blank" class="xiumi-red"> 如何用秀米链接进行转发和分享 <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> <div class="qr-container" ng-if="!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited"> <div class="border"> <qrcode qr-data="show.show_url | showURL:customDomain.active" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="desc"> 分享二维码，扫码分享效果最佳 </div> <div class="desc"> 注意：直接发链接到微信会影响分享效果 </div> <div class="link"> <textarea class="form-control-static form-control" readonly auto-focus-on="mouseover" auto-select-on="mouseover" act-as-link href="{{ show.show_url | showURL:customDomain.active }}">{{\n                  show.show_url | showURL:customDomain.active }}</textarea> <select class="custom-domain-selector form-control" ng-show="!!customDomain.domains.length" ng-model="customDomain.active" ng-options="domain.domain_name for domain in customDomain.domains"> <option value="">-- 不用企业自定义域名 --</option> </select> </div> <div class="no-change"> <p class="tn-color-red"> 审核已通过，分享内容是最新的了 </p> </div> </div> <div class="fee-container" ng-if="!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited && !show.right_freeshow" ng-cloak> <div class="text-center"> 制作独立的秀米链接，需关注以下状态： </div> <div class="line tn-color-red" ng-cloak> <span ng-if="!showStatus.isProhibited"> <span ng-if="!showStatus.showAdv"> 无广告， <span ng-if="showStatus.usingTraffic">使用流量包</span> <span ng-if="!showStatus.usingTraffic"> 还有<span class="value" ng-bind="showStatus.remainPoints"></span>次变成带广告 <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处提前去除广告</a> </span> </span> <span ng-if="showStatus.showAdv"> <span class="value">带广告</span> <span ng-if="showStatus.usingTraffic">，流量包用尽</span> <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处去除广告</a> </span> </span> <span ng-if="showStatus.isProhibited" ng-switch="showStatus.prohibited"> <span ng-switch-when="0">内容违规被屏蔽</span> <span ng-switch-when="2">未获资质被屏蔽</span> </span> </div> </div> <div class="editing-container" ng-if="show.type_text == \'paper\' && !(!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited)"> <div class="btn-group btn-group-justified toggle-btn"> <button class="btn btn-default" style="width: 50%;" role="button" uib-btn-radio="\'light\'" ng-model="viewStyle.colorScheme"> 默认 </button> <button class="btn btn-default" style="width: 50%;" role="button" uib-btn-radio="\'dark\'" ng-model="viewStyle.colorScheme"> 深色 </button> </div> </div> </div> </uib-tab> <uib-tab index="1" heading="分享"> <div class="qr-container"> <div class="border" ng-if="!!show.release_at"> <qrcode qr-data="show.show_url | showURL:customDomain.active" qr-size="160" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </div> <div class="desc" ng-if="!!show.release_at"> 分享二维码，扫码分享效果最佳 </div> <div class="desc" ng-if="!!show.release_at"> 注意：直接发链接到微信会影响分享效果 </div> <div class="link" ng-if="!!show.release_at"> <textarea class="form-control-static form-control" readonly auto-focus-on="mouseover" auto-select-on="mouseover" act-as-link href="{{ show.show_url | showURL:customDomain.active }}">{{\n                show.show_url | showURL:customDomain.active }}</textarea> <select class="custom-domain-selector form-control" ng-show="!!customDomain.domains.length" ng-model="customDomain.active" ng-options="domain.domain_name for domain in customDomain.domains"> <option value="">-- 不用企业自定义域名 --</option> </select> </div> <div class="desc" ng-if="!show.release_at && !show.release_applied_at"> 尚未审核，分享二维码和链接还不可用 <br> </div> <div class="release-apply tn-color-blue" ng-show="(!!show.release_applied_at && (show.applicationJustSubmitted || (!show.forceReleaseDataAlready))) || show.directAudited"> 已进入审核，请耐心等待，再次打开本窗口可查询最新状态<br> <a class="for-paper" href="https://v.xiumi.us/board/v5/2a5va/116360806" target="_blank" class="xiumi-red"> 审核太久，如何解决？ </a> </div> <div class="has-change" ng-show="hasChange(show)"> <p class="tn-color-red" ng-if="!!show.release_at"> 内容有修改，需要再次申请审核 </p> <button class="btn btn-green" type="button" ng-click="onApplyShowReleaseClick()"> 申请审核 </button> </div> <div class="no-change" ng-if="!hasChange(show) && (!show.release_applied_at || (!show.applicationJustSubmitted && show.forceReleaseDataAlready)) && !show.directAudited"> <p class="tn-color-red"> 审核已通过，分享内容是最新的了 </p> </div> <div class="desc" ng-if="!show.release_at && !show.release_applied_at"> <hr> <a href="https://v.xiumi.us/board/v5/2a5va/109760747" target="_blank" class="xiumi-red"> 如何用秀米链接进行转发和分享 <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> <div class="fee-container" ng-if="!show.right_freeshow && !!show.release_at" ng-cloak> <div class="text-center"> 制作独立的秀米链接，需关注以下状态： </div> <div class="line tn-color-red" ng-cloak> <span ng-if="!showStatus.isProhibited"> <span ng-if="!showStatus.showAdv"> 无广告， <span ng-if="showStatus.usingTraffic">使用流量包</span> <span ng-if="!showStatus.usingTraffic"> 还有<span class="value" ng-bind="showStatus.remainPoints"></span>次变成带广告 <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处提前去除广告</a> </span> </span> <span ng-if="showStatus.showAdv"> <span class="value">带广告</span> <span ng-if="showStatus.usingTraffic">，流量包用尽</span> <br> <a href="/#/shows/{{ show.show_id }}/adv" target="_blank">点击此处去除广告</a> </span> </span> <span ng-if="showStatus.isProhibited" ng-switch="showStatus.prohibited"> <span ng-switch-when="0">内容违规被屏蔽</span> <span ng-switch-when="2">未获资质被屏蔽</span> </span> </div> </div> </uib-tab> </uib-tabset> <div class="editing-container" ng-if="show.type_text != \'paper\'"> <div class="btn-group btn-group-justified toggle-btn"> <button class="btn btn-default" style="width: 50%;" role="button" uib-btn-radio="\'default\'" ng-model="viewPort.device" ng-change="onDeviceViewChanged()"> 默认 </button> <button class="btn btn-default" style="width: 50%;" role="button" uib-btn-radio="\'large\'" ng-model="viewPort.device" ng-change="onDeviceViewChanged()"> 大屏 </button> </div> </div> </div> <iframe class="preview-frame embed-responsive-item" ng-style="viewPort.boxSize" ng-src="{{ showPreview.uri | showURL:null:viewStyle.colorScheme | unsafeResource }}"> </iframe> </div> </div> '),t.put("/views/app/studio/dialogs/submitImageLink.html",'<ul class="nav nav-tabs"> <li role="presentation" ng-class="{ active: dialogTag == \'wxarticle\' }"><a href="javascript:void(0);" ng-click="dialogTag = \'wxarticle\'">导入微信图片</a></li> <li role="presentation" ng-class="{ active: dialogTag == \'outlink\' }"><a href="javascript:void(0);" ng-click="dialogTag = \'outlink\'">导入外链图片</a></li> </ul> <div ng-if="dialogTag == \'wxarticle\'" ng-cloak> <div class="modal-header clearfix"> <h3 class="modal-title">提交微信图文链接</h3> </div> <div class="modal-body clearfix"> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="wxarticleUrlInput" type="url" ng-model="inputData.wxarticleLink" ng-keydown="wxarticleLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" ng-disabled="collectingImg" placeholder="粘贴或输入微信图文链接，自动导入图文中的所有图片"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-disabled="collectingImg" ng-click="wxarticleSubmit()">{{ collectingImg ? "导入中" : "添加" }}</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div> </div> <div ng-if="dialogTag == \'outlink\'" ng-cloak> <div class="modal-header clearfix"> <h3 class="modal-title">提交图片链接</h3> </div> <div class="modal-body clearfix"> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="imageUrlInput" type="url" ng-model="inputData.imageLink" ng-keydown="imageLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="粘贴或输入图片链接"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="imageSubmit()">添加</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div> </div>'),t.put("/views/app/studio/dialogs/submitWXArticleLink.html",'<div class="modal-header clearfix"> <h3 class="modal-title">请输入要转载的微信图文链接</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-12"> <p>转载微信图文请与原公众号联系授权</p> </div> </div> <div class="row input form-group"> <div class="col-xs-12 col-sm-12 col-md-12"> <input class="form-control text-center" name="articleUrlInput" type="url" ng-model="articleLink" ng-keydown="articleLinkKeyDown($event)" auto-focus-on="mouseover" auto-select-on="mouseover" placeholder="粘贴或输入微信图文链接，请注意不是微信图文编辑页面的链接"> </div> </div> </div> <div class="modal-footer clearfix"> <button class="btn btn-green" type="button" ng-click="ok()">添加</button> <button class="btn btn-red" type="button" ng-click="cancel()">关闭</button> </div>'),t.put("/views/app/studio/dialogs/templateBrowserPage.html",'<div class="modal-header clearfix"> <div class="modal-title row"> <div class="col-xs-8"> <h4>页面模板库</h4> </div> <div class="col-xs-4 text-right right-top-block"> <button class="btn btn-green" type="button" ng-click="ok()">确定</button> </div> </div> </div> <div class="modal-body clearfix"> <div class="row"> <p class="prompt col-sm-12"> 拖动标签可以设置自己的常用类型，点击标签可以浏览模板 </p> </div> <div class="row"> <div class="selected-room col-sm-12"> <div class="tn-tpl-room-item-box clearfix" ui-sortable="roomSortableOpts" ng-model="selectedRooms"> <div class="tn-tpl-room-item" ng-repeat="room in selectedRooms track by room.tag"> <div class="inner" ng-bind="room.name" ng-class="{ \'active\': room.tag == activeRoom.tag }" ng-click="onRoomItemSelected(room)"></div> </div> </div> </div> <div class="rest-room col-sm-12"> <div class="tn-tpl-room-item-box clearfix" ui-sortable="roomSortableOpts" ng-model="restRooms"> <div class="tn-tpl-room-item" ng-repeat="room in restRooms track by room.tag"> <div class="inner" ng-bind="room.name" ng-class="{ \'active\': room.tag == activeRoom.tag }" ng-click="onRoomItemSelected(room)"></div> </div> </div> </div> </div> <div class="row"> <p class="prompt col-sm-12 text-center"> <br> 点击模板可以预览动效 </p> </div> <div class="row" ng-show="!!activeRoom && !onScreenItems.length" ng-cloak> <p class="prompt col-sm-12 text-center"> <br> 加载中... </p> </div> <div class="preview-container page" ng-class="{ \'present-tpl-id\': !!__show_template_id }" tn-atom-context="{ type: \'booklet\', inReader: true, linkEnabled: false, animationOperator: true }"> <ul class="tn-tpl-list tn-tpl-container-page"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box col-xs-6 col-sm-3 col-md-2" ng-repeat="item in onScreenItems track by $id(item)" title="{{ ::item.display_name }}"> <div class="wrapper" ng-click="onPageItemPlayAnimationClick($event, item)"> <div class="tn-tpl-page-outer"> <section class="tn-tpl-page-box lighting-hover"> <div class="tn-tpl-page-item tn-page" tn-solo-comp-loader="item.matrix" tn-comp-role="page"> </div> </section> </div> <div class="tn-tpl-id">[{{ ::item.template_id }}] {{ ::item.atom_tpl_id }}</div> </div> <div class="action-box text-center"> <button class="action-item btn btn-grey" ng-click="onPageItemInsertPageClick($event, item)"> <span class="glyphicon glyphicon-plus"></span> 添加页面 </button> </div> </li> </ul> </div> <div class="row" ng-show="!!onScreenItems.length" ng-cloak> <div class="col-sm-12 text-center"> <ul class="pagination" uib-pagination max-size="5" ng-model="inner.currentPageNum" ng-change="onViewPageChange()" total-items="inner.totalItems" items-per-page="inner.itemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> </div> '),t.put("/views/app/studio/dialogs/templateCompsBrowser.html",'<div class="modal-body clearfix"> <a href="javascript:void(0)" class="btn browser-close-button" role="button" ng-click="browser.cancel()"> <span class="glyphicon glyphicon-remove"></span> </a> <div class="row"> <div class="tn-tpl-tag-lv1 col-sm-6" ng-repeat="tagLv1 in browser.tagLv1List track by tagLv1.tag_id"> <div class="tn-tpl-tag-lv1-block clearfix"> <div class="tn-tpl-tag-lv1-name"> {{ tagLv1.tag_name }} </div> <div class="tn-tpl-tag-lv0" ng-repeat="tagLv0 in tagLv1.childTags track by tagLv0.tag_id"> <div class="tn-tpl-tag-lv0-name" ng-class="{ \'active\': tagLv0.tag_id == browser.filterSysTag.tag_id }" ng-click="browser.onTagSelected(tagLv0)"> {{ tagLv0.tag_name }} </div> </div> </div> </div> <div class="tn-tpl-search-block col-sm-6"> <div class="tn-tpl-tag-lv1-block clearfix text-center"> <div class="tn-tpl-tag-lv1-name"> 搜索 </div> <div class="tn-tpl-search-bar" ng-class="{ \'has-search-text\': !!browser.searchText }"> <input class="form-control search-text" type="text" placeholder="用空格分割多个搜索词，可以组合搜索" auto-focus-on="mouseover" ng-model="browser.searchText" tn-text-input-done="browser.onSearchChange(browser.searchText)"> <div class="right-overlap-buttons"> <a class="btn xiumi-normal clear-text" title="清除文字" ng-click="browser.searchText = \'\'"> <span class="glyphicon glyphicon-remove"></span> </a><a class="btn xiumi-normal go-search" title="搜索" ng-click="browser.onSearchChange(browser.searchText)"> <span class="glyphicon glyphicon-search"></span> </a> </div> </div> </div> </div> <div class="tn-tpl-filters col-sm-12" ng-cloak> <button type="button" class="tn-tpl-sort-btn btn btn-sm btn-glass-borderless" ng-model="browser.userSort" uib-btn-checkbox btn-checkbox-true="\'ASC\'" btn-checkbox-false="\'DESC\'" ng-change="browser.onSortingChange(browser.userSort)" ng-switch="browser.userSort"> <span class="" ng-switch-when="ASC"><span class="glyphicon glyphicon-sort-by-attributes"></span> 正序，旧模板在前</span> <span class="" ng-switch-when="DESC"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span> 倒序，新模板在前</span> </button> <div class="tn-tpl-filter-tags clearfix text-center"> <div class="tn-tpl-tag-lv1-name"> 标签 </div> <div class="tn-tpl-tag-lv0 sys-tag" ng-show="!!browser.filterSysTag"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterTagOff(browser.filterSysTag)"> {{ browser.filterSysTag.tag_name }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0 search" ng-show="!!browser.filterSearch"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterSearchOff()"> {{ browser.filterSearch }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0" ng-repeat="tag in browser.filterTags"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterTagOff(tag)"> {{ tag.tag_name }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0" ng-show="!browser.filterSysTag && !browser.filterSearch && !browser.filterTags.length"> <div class="tn-tpl-tag-lv0-name disabled"> 全部 </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <hr> </div> <div class="col-sm-12 prompt-hint text-center"> <div class="hint-inner prompt"> 点击模板，直接使用或者收藏 </div> </div> </div> <div class="row" ng-show="browser.templates.length > 0" ng-cloak> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-red" uib-pagination max-size="5" ng-model="browser.pageCurrentNum" ng-change="browser.onPageChange(browser.pageCurrentNum)" total-items="browser.templatesCount" items-per-page="browser.pageItemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> <div class="row" ng-show="!browser.templates.length && !!browser.templatesFetching" ng-cloak> <p class="prompt col-sm-12 text-center"> <br> 加载中... </p> </div> <div class="row" ng-show="!browser.templates.length && !browser.templatesFetching" ng-cloak> <p class="prompt col-sm-12 text-center"> <br> - 无 - </p> </div> <script type="text/ng-template" id="in-page/templateCompsBrowser-compItem.html"> <div class="tn-tpl-item tn-lighting-box"\n         title="{{ ::card | tpl2TitleName }}"\n         ng-class="::card | tpl2BoxClasses"\n         tn-feature-toggle="::card.feature_requires_text"\n         feature-matched-class="comp-feature-matched"\n         feature-not-matched-class="comp-feature-not-matched"\n         ng-switch="::card | tpl2PresentType:false">\n      <div class="tn-tpl-comp-box lighting-hover" ng-switch-when="tn-tpl-comp"\n           context-menu="mother.browser.compItemMenuOptions" context-menu-on="click">\n        <div class="wrapper"\n             DISABLE-tn-group-flex-box="block">\n          <div class="tn-tpl-comp-item tn-tpl-item-instance"\n               ng-repeat="cp in ::(!card.matrix.length ? [ card.matrix ] : card.matrix)"\n               tn-solo-comp-loader="cp">\n          </div>\n        </div>\n      </div>\n      <div class="tn-tpl-comp-box lighting-hover" ng-switch-when="tn-tpl-material"\n           context-menu="mother.browser.compItemMenuOptions" context-menu-on="click">\n        <div class="wrapper"\n             context-menu="mother.browser.compItemMenuOptions">\n          <div class="tn-tpl-comp-item tn-tpl-item-instance tn-tpl-material-bind-box">\n            <img class="tn-tpl-comp-item-cover" ng-src="{{ ::card.material.file_uri | optimizeImageType }}"/>\n            \x3c!--<span class="glyphicon glyphicon-picture"></span>--\x3e\n            <a href="https://www.fotor.com.cn/?hmsr=xiumi&hmpl=&hmcu=&hmkw=&hmci=" target="_blank"\n               ng-if="::card.material.provider_text == \'fotor\'">\n              <span class="logo fotor"><img src="/images/app/studio/icon-mat-prov-logo-fotor.svg" alt="fotor"></span>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="tn-tpl-page-box lighting-hover" ng-switch-when="tn-tpl-page"\n           context-menu="mother.browser.compItemMenuOptions" context-menu-on="click">\n        <div class="tn-tpl-page-item tn-page tn-tpl-item-instance"\n             tn-solo-comp-loader="card.matrix"\n             tn-comp-role="page">\n        </div>\n      </div>\n      \x3c!-- tpl id --\x3e\n      <div class="tn-tpl-id">[{{ ::card.template_id }}] {{ ::card.atom_tpl_id }}</div>\n    </div>\n    \x3c!-- tags block --\x3e\n    <div class="tn-tpl-item-tags-block">\n      <span class="tn-tpl-item-tag" ng-repeat="tag in card.tags"\n            ng-click="mother.browser.onFilterTagOn(tag)">\n        {{ tag.tag_name }}\n      </span>\n    </div> <\/script> <div class="preview-container comp" ng-class="{ \'present-tpl-id\': !!__show_template_id }" tn-atom-context="{ type: \'paper\', inEditor: true, onceBinding: true,\n       animationEnabled: false, linkEnabled: false, soundEnabled: false, compHandlerEnabled: true }"> <div class="deckgrid tn-comp-tpl-browser-deckgrid tn-tpl-list tn-tpl-container-comp large-tpl" deckgrid source="browser.templates" cardtemplate="in-page/templateCompsBrowser-compItem.html"> </div> </div> <div class="row" ng-show="browser.templates.length > 0" ng-cloak> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-red" uib-pagination max-size="5" ng-model="browser.pageCurrentNum" ng-change="browser.onPageChange(browser.pageCurrentNum)" total-items="browser.templatesCount" items-per-page="browser.pageItemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> </div> '),t.put("/views/app/studio/dialogs/templateLayoutsBrowser.html",'<div class="modal-body clearfix"> <a href="javascript:void(0)" class="btn browser-close-button" role="button" ng-click="browser.cancel()"> <span class="glyphicon glyphicon-remove"></span> </a> <div class="row"> <div class="tn-tpl-tag-lv1 col-sm-6" ng-repeat="tagLv1 in browser.tagLv1List track by tagLv1.tag_id"> <div class="tn-tpl-tag-lv1-block clearfix"> <div class="tn-tpl-tag-lv1-name"> {{ tagLv1.tag_name }} </div> <div class="tn-tpl-tag-lv0" ng-repeat="tagLv0 in tagLv1.childTags track by tagLv0.tag_id"> <div class="tn-tpl-tag-lv0-name" ng-class="{ \'active\': tagLv0.tag_id == browser.filterSysTag.tag_id }" ng-click="browser.onTagSelected(tagLv0)"> {{ tagLv0.tag_name }} </div> </div> </div> </div> <div class="tn-tpl-search-block col-sm-6"> <div class="tn-tpl-tag-lv1-block clearfix text-center"> <div class="tn-tpl-tag-lv1-name"> 搜索 </div> <div class="tn-tpl-search-bar" ng-class="{ \'has-search-text\': !!browser.searchText }"> <input class="form-control search-text" type="text" placeholder="用空格分割多个搜索词，可以组合搜索" auto-focus-on="mouseover" ng-model="browser.searchText" tn-text-input-done="browser.onSearchChange(browser.searchText)"> <div class="right-overlap-buttons"> <a class="btn xiumi-normal clear-text" title="清除文字" ng-click="browser.searchText = \'\'"> <span class="glyphicon glyphicon-remove"></span> </a><a class="btn xiumi-normal go-search" title="搜索" ng-click="browser.onSearchChange(browser.searchText)"> <span class="glyphicon glyphicon-search"></span> </a> </div> </div> </div> </div> <div class="tn-tpl-filters col-sm-12" ng-cloak> <button type="button" class="tn-tpl-sort-btn btn btn-sm btn-glass-borderless" ng-model="browser.userSort" uib-btn-checkbox btn-checkbox-true="\'ASC\'" btn-checkbox-false="\'DESC\'" ng-change="browser.onSortingChange(browser.userSort)" ng-switch="browser.userSort"> <span class="" ng-switch-when="ASC"><span class="glyphicon glyphicon-sort-by-attributes"></span> 正序，旧模板在前</span> <span class="" ng-switch-when="DESC"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span> 倒序，新模板在前</span> </button> <div class="tn-tpl-filter-tags clearfix text-center"> <div class="tn-tpl-tag-lv1-name"> 标签 </div> <div class="tn-tpl-tag-lv0 sys-tag" ng-show="!!browser.filterSysTag"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterTagOff(browser.filterSysTag)"> {{ browser.filterSysTag.tag_name }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0 search" ng-show="!!browser.filterSearch"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterSearchOff()"> {{ browser.filterSearch }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0" ng-repeat="tag in browser.filterTags"> <div class="tn-tpl-tag-lv0-name active" ng-click="browser.onFilterTagOff(tag)"> {{ tag.tag_name }} <span class="glyphicon glyphicon-remove"></span> </div> </div> <div class="tn-tpl-tag-lv0" ng-show="!browser.filterSysTag && !browser.filterSearch && !browser.filterTags.length"> <div class="tn-tpl-tag-lv0-name disabled"> 全部 </div> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <hr> </div> <div class="col-sm-12 prompt-hint text-center"> <div class="hint-inner prompt"> 点击模板可以预览动效 </div> </div> </div> <div class="row" ng-show="browser.templates.length > 0" ng-cloak> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-red" uib-pagination max-size="5" ng-model="browser.pageCurrentNum" ng-change="browser.onPageChange(browser.pageCurrentNum)" total-items="browser.templatesCount" items-per-page="browser.pageItemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> <div class="row" ng-show="!browser.templates.length && !!browser.templatesFetching" ng-cloak> <p class="prompt col-sm-12 text-center"> <br> 加载中... </p> </div> <div class="row" ng-show="!browser.templates.length && !browser.templatesFetching" ng-cloak> <p class="prompt col-sm-12 text-center"> <br> - 无 - </p> </div> <div class="preview-container page" ng-class="{ \'present-tpl-id\': !!__show_template_id }" tn-atom-context="{ type: \'booklet\', inReader: true, linkEnabled: false, animationOperator: true }"> <ul class="tn-tpl-list tn-tpl-container-page-layout"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box col-xs-6 col-sm-3 col-md-2" ng-repeat="tpl in browser.templates track by tpl.template_id" title="{{ ::tpl | tpl2TitleName }}"> <div class="wrapper" ng-click="browser.onTemplatePlayAnimationClick($event, tpl)"> <div class="tn-tpl-page-outer"> <section class="tn-tpl-page-box lighting-hover"> <div class="tn-tpl-page-item tn-page tn-tpl-item-instance" tn-solo-comp-loader="tpl.matrix" tn-comp-role="page"> </div> </section> </div> <div class="tn-tpl-id">[{{ ::tpl.template_id }}] {{ ::tpl.atom_tpl_id }}</div> </div> <div class="tn-tpl-item-tags-block"> <span class="tn-tpl-item-tag" ng-repeat="tag in tpl.tags" ng-click="browser.onFilterTagOn(tag)"> {{ tag.tag_name }} </span> </div> <div class="action-box text-center"> <button class="action-item btn btn-grey" ng-click="browser.onTemplateInsertClick($event, tpl)"> <span class="glyphicon glyphicon-ok"></span> 应用版式 </button> </div> </li> </ul> </div> <div class="row" ng-show="browser.templates.length > 0" ng-cloak> <div class="col-sm-12 text-center"> <ul class="pagination tn-pagination-red" uib-pagination max-size="5" ng-model="browser.pageCurrentNum" ng-change="browser.onPageChange(browser.pageCurrentNum)" total-items="browser.templatesCount" items-per-page="browser.pageItemsPerPage" boundary-links="true" force-ellipses="true" first-text="«" last-text="»" previous-text="‹" next-text="›"> </ul> </div> </div> </div> '),t.put("/views/app/studio/dialogs/wxArticleUrl.html",'<div class="modal-header clearfix"> <h3 class="modal-title">公众号素材预览链接</h3> </div> <div class="modal-body clearfix"> <div class="row"> <div style="text-align: center; padding: 0px 10px;"> <p> {{ wxarticle.title }} </p> </div> <div class="form-group"> <div class="qr-container"> <div class="border"> <a ng-href="{{ wxarticle.url }}" target="blank"> <qrcode qr-data="wxarticle.url" qr-size="140" qr-foreground="#6c6d6f" qr-background="white"></qrcode> </a> </div> <div class="desc"> 此为公众号素材预览链接<br>可用于推送前预览效果 </div> </div> </div> </div> </div> '),t.put("/views/app/studio/edit-panel/compDraggingCancelDock.html",'<div class="tn-comp-dragging-receiver tn-comp-container-dragging-cancel" tn-atom-dropping-sink="cancelDroppingSinkOpts" on-atom-drop="onAtomDropToCancel($droppingParams)"> <div class="prompt"> 取消 </div> </div>'),t.put("/views/app/studio/edit-panel/compDraggingRemoveDock.html",'<div class="tn-comp-dragging-receiver tn-comp-container-dragging-remove" tn-atom-dropping-sink="trashDroppingSinkOpts" on-atom-drop="onAtomDropToTrash($droppingParams)"> <div class="prompt"> 删除 </div> </div>'),t.put("/views/app/studio/edit-panel/metaBooklet.html",'<div class="top-group meta-group clearfix"> <div class="left-part-booklet"> <ul class="nav"> <li role="presentation" ng-class="{active: isCoverIconSelected}" ng-click="onIconSelected(\'cover\')"> <button href>封面</button> </li> <li role="presentation" ng-class="{active: isLoadingIconSelected}" ng-click="onIconSelected(\'loading\')"> <button href>加载</button> </li> </ul> <div class="image-panel"> <div class="image" ng-click="onCoverEditingStart($event)" ng-style="{\'background-image\': \'url(\' + (showData.cover || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') + \')\'}" ng-show="isCoverIconSelected"> </div> <div class="image" ng-click="onCoverEditingStart($event)" ng-style="{\'background-image\': \'url(\' + (showData.loadingIcon || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') + \')\'}" ng-show="isLoadingIconSelected"> </div> <div class="mask" ng-show="status.editingCover"> <div class="inner">点击图库换图<br>按Del键删除图片<br>图片不小于<br>300X300</div> </div> </div> </div> <div class="right-part-booklet"> <input type="text" class="form-control" placeholder="请输入场景秀的标题" ng-model="showData.title" tn-text-input-done="onTitleChanged(showData.title)" tn-text-input-begin="onTextPropInputBegin(\'title\')"> <textarea class="form-control" placeholder="微信分享时的摘要，点击左侧图片改封面" ng-model="showData.desc" tn-text-input-done="onDescChanged(showData.desc)" tn-text-input-done-for="blur" tn-text-input-begin="onTextPropInputBegin(\'desc\')"></textarea> </div> </div> <div class="audio-group meta-group clearfix"> <div class="form-group"> <button type="button" class="form-control btn btn-default" ng-bind="selectBgmHint || showData.backgroundMusic.name || \'点击选择音乐\'" ng-click="onBgmEditingStart()" ng-blur="onBgmEditingBlur()"></button> </div> </div> <div class="tags-group meta-group clearfix" ng-show="!!status.show.info" ng-cloak> <ul class="nav nav-pills col-xs-12"> <li role="presentation" ng-repeat="tag in tags track by $id(tag)"> <label class="tag-item" ng-bind="tag"></label> </li> <li class="add-tag"> <a class="btn btn-default" role="button" ng-click="onTagShowClicked()"> 设置标签 </a> </li> </ul> </div> '),t.put("/views/app/studio/edit-panel/metaCube.html",'<div class="top-group meta-group clearfix"> <div class="form-horizontal"> <div class="form-group"> <div class="col-sm-12"> <h3 class="text-center tn-color-light-gray" title="合集的标题，可在合集页面修改" ng-if="!showData.title"> [ 当前合集无标题 ] </h3> <h3 class="text-center tn-color-gray" title="合集的标题，可在合集页面修改" ng-if="!!showData.title"> {{ showData.title }} </h3> </div> </div> <div class="form-group"> <div class="col-sm-12"> <h5 class="text-center tn-color-gray" title="编辑其他章节，请回到合集页面"> 第 {{ cubeCtrl.cubeIndex + 1 }} 章 / 共 {{ showData.cubes.length }} 章 </h5> </div> </div> <div class="form-group"> <div class="col-sm-12"> <input type="text" class="form-control" placeholder="请输入章节标题" ng-model="cubeCtrl.cubeData._comp.title" tn-text-input-done="cubeMetaCtrl.onTitleChanged(cubeCtrl.cubeIndex, cubeCtrl.cubeData, cubeCtrl.cubeData._comp.title)" tn-text-input-begin="cubeMetaCtrl.onTextPropInputBegin(\'title\')"> </div> </div> </div> </div> '),t.put("/views/app/studio/edit-panel/metaPaper.html",'<div class="top-group meta-group clearfix"> <div class="left-part"> <div class="image tn-lighting-box" ng-class="{ \'crop-thumb\': cropThumb()}" ng-click="onCoverEditingStart($event)" ng-style="{\'background-image\': \'url(\' + ((showData.cover | optimizeImageType) || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') + \')\'}"> <section class="inner-image-box lighting-hover"> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> </div> <div class="mask" ng-show="status.editingCover"> <section class="inner-image-box lighting-hover" style="position:absolute; width:100%"> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> <div class="inner">点击图库换图<br></div> </div> </div> <div class="right-part"> <input type="text" class="form-control" placeholder="请输入图文的标题" ng-model="showData.title" tn-text-input-done="onTitleChanged(showData.title)" tn-text-input-begin="onTextPropInputBegin(\'title\')"> <textarea class="form-control" placeholder="微信分享时的摘要，点击左侧图片改封面" ng-model="showData.desc" tn-text-input-done="onDescChanged(showData.desc)" tn-text-input-done-for="blur" tn-text-input-begin="onTextPropInputBegin(\'desc\')"></textarea> </div> </div> <div class="wxpack-group meta-group clearfix" ng-show="(wxHasWeixin() || isQQOEM) && !status.showFeatures.CustomHeader" ng-cloak> <div class="form-group author-part"> <input type="text" class="form-control author" placeholder="请输入作者" ng-model="showData.wx_author" tn-text-input-done="onWxAuthorChanged(showData.wx_author)" tn-text-input-begin="onTextPropInputBegin(\'wx_author\')"> </div> <div class="form-group link-part"> <input type="text" class="form-control link" placeholder="请输入原文链接" ng-model="showData.wx_link" tn-text-input-done="onWxLinkChanged(showData.wx_link)" tn-text-input-begin="onTextPropInputBegin(\'wx_link\')"> </div> </div> <div class="audio-group meta-group clearfix" ng-show="status.showFeatures.Audio"> <div class="btn-group"> <button type="button" class="btn btn-default" style="width: 80%" ng-bind="selectBgmHint || showData.backgroundMusic.name || \'点击选择音乐\'" ng-click="onBgmEditingStart()" ng-blur="onBgmEditingBlur()"></button> <button type="button" class="btn btn-default" style="width: 10%" ng-click="onBgmEditingClip()" ng-disabled="showData.backgroundMusic == \'\' || !showData.backgroundMusic"><span class="glyphicon glyphicon-edit"></span></button> <button type="button" class="btn btn-default" style="width: 10%" ng-click="onBgmEditingClear()" ng-disabled="showData.backgroundMusic == \'\' || !showData.backgroundMusic"><span class="glyphicon glyphicon-trash"></span></button> </div> </div> <div class="target-context-group meta-group text-left clearfix"> <div class="btn-group toggle-btn toggle-green-gray"> <label class="btn btn-default toggle-off" ng-model="showData.targetContext" uib-btn-radio="\'wechat\'" ng-change="onTargetContextChange(showData.targetContext)">关闭</label> <label class="btn btn-default toggle-on" ng-model="showData.targetContext" uib-btn-radio="\'xiumi\'" ng-change="onTargetContextChange(showData.targetContext)">开启</label> </div> <span>开启音乐视频等增强模式</span> <a class="no-decoration xiumi-normal" href="//v.xiumi.us/board/v5/2a5va/41930313" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="meta-group text-left" ng-show="status.showFeatures.CustomHeader"> <div class="checkbox"> <label> <input type="checkbox" ng-checked="!showData.displaySystemTitle" ng-click="onShowSystemTitleChanged(!showData.displaySystemTitle)"> <span>使用自定义标题</span> <a class="no-decoration xiumi-normal" href="//v.xiumi.us/board/v5/2a5va/18810786" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </label> </div> </div> <div class="meta-group text-left" ng-show="status.showFeatures.CustomPageMargins"> <div class="checkbox"> <label> <input type="checkbox" ng-checked="!_o$.displaySystemPageMargins" ng-click="onShowSystemPageMarginsChanged(!_o$.displaySystemPageMargins)"> <span>两边不留白</span> <a class="no-decoration xiumi-normal" href="//v.xiumi.us/board/v5/2a5va/346057501" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </label> </div> </div> <div class="tags-group meta-group clearfix" ng-show="!!status.show.info" ng-cloak> <ul class="nav nav-pills col-xs-12"> <li role="presentation" ng-repeat="tag in tags track by $id(tag)"> <label class="tag-item" ng-bind="tag"></label> </li> <li class="add-tag"> <a class="btn btn-default" role="button" ng-click="onTagShowClicked()"> 设置标签 </a> </li> </ul> </div> <div class="thumb-crop-img" ng-show="cropImageMask"> <div class="thumb-crop-dark-mask" ng-click="onClickMask($event)" style="z-index: 2000;"> </div> <div class="crop-panel" ng-show="true" ng-style="{\'left\': \'50%\', \'top\': locViewPort.top, \'width\': \'374px\'}"> <div class="surface"> <img class="crop-image" ng-src="{{ coverSrc }}" style="width: 100%" tn-img-crop="cropOpts"> </div> </div> <div class="crop-attr-menu form-group" ng-show="true" ng-style="{\'top\': locViewPort.top, \'left\': \'374px\'}"> <div class="form-group attr-txt">外链图片不支持</div> <div class="form-group crop-ratio"> <div> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="2.35_1" ng-model="cropOpts.cropRatio" ng-change="onCropRatioChanged()">首图 (2.35:1) </label> </div> <div> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="1_1" ng-model="cropOpts.cropRatio" ng-change="onCropRatioChanged()">次图 (1:1) </label> </div> <div> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="3.35_1" ng-model="cropOpts.cropRatio" ng-change="onCropRatioChanged()">双图 (3.35:1) </label> </div> </div> <div class="form-group"> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickApplyCrop($event)">确认</button> </div> </div> </div>'),t.put("/views/app/studio/edit-panel/metaTablet.html",'<div class="top-group meta-group clearfix"> <div class="left-part-booklet"> <ul class="nav"> <li role="presentation" ng-class="{active: isCoverIconSelected}" ng-click="onIconSelected(\'cover\')"> <button href>封面</button> </li> <li role="presentation" ng-class="{active: isLoadingIconSelected}" ng-click="onIconSelected(\'loading\')"> <button href>加载</button> </li> </ul> <div class="image-panel"> <div class="image tn-lighting-box" ng-class="{ \'crop-thumb\': cropThumb()}" ng-click="onCoverEditingStart($event)" ng-style="{\'background-image\': \'url(\' + ((showData.cover | optimizeImageType) || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') + \')\'}" ng-show="isCoverIconSelected"> <section class="inner-image-box lighting-hover"> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> </div> <div class="image tn-lighting-box" ng-click="onCoverEditingStart($event)" ng-style="{\'background-image\': \'url(\' + ((showData.loadingIcon | optimizeImageType) || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') + \')\'}" ng-show="isLoadingIconSelected"> <section class="inner-image-box lighting-hover"> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> </div> <div class="mask tn-lighting-box" ng-show="status.editingCover"> <section class="inner-image-box lighting-hover" ng-if="isCoverIconSelected" style="position:absolute; width:100%"> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> <section class="inner-image-box lighting-hover" ng-if="isLoadingIconSelected" style="position:absolute; width:100%"> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onDeleteCover($event)"></span> </section> <div class="inner" ng-if="isCoverIconSelected">点击图库换图<br></div> <div class="inner" ng-if="isLoadingIconSelected">点击图库换图<br>图片不小于<br>300X300</div> </div> </div> </div> <div class="right-part-booklet"> <input type="text" class="form-control" placeholder="请输入H5的标题" ng-model="showData.title" tn-text-input-done="onTitleChanged(showData.title)" tn-text-input-begin="onTextPropInputBegin(\'title\')"> <textarea class="form-control" placeholder="微信分享时的摘要，点击左侧图片改封面" ng-model="showData.desc" tn-text-input-done="onDescChanged(showData.desc)" tn-text-input-done-for="blur" tn-text-input-begin="onTextPropInputBegin(\'desc\')"></textarea> </div> </div> <div class="audio-group meta-group clearfix"> <div class="btn-group"> <button type="button" class="btn btn-default" style="width: 80%" ng-bind="selectBgmHint || showData.backgroundMusic.name || \'点击选择音乐\'" ng-click="onBgmEditingStart()" ng-blur="onBgmEditingBlur()"></button> <button type="button" class="btn btn-default" style="width: 10%" ng-click="onBgmEditingClip()" ng-disabled="showData.backgroundMusic == \'\' || !showData.backgroundMusic"><span class="glyphicon glyphicon-edit"></span></button> <button type="button" class="btn btn-default" style="width: 10%" ng-click="onBgmEditingClear()" ng-disabled="showData.backgroundMusic == \'\' || !showData.backgroundMusic"><span class="glyphicon glyphicon-trash"></span></button> </div> </div> <div class="catalogue-group meta-group text-left" ng-show="_o$.actingType === \'matrix\'"> <div class="form-group"> <label> <input type="checkbox" ng-checked="!!_o$.displaySystemCatalogue" ng-click="onShowSystemCatalogueChanged(!_o$.displaySystemCatalogue)"> 显示目录 </label> </div> </div> <div class="form-inline meta-group text-left" ng-if="false"> <div class="form-group"> <label> <input type="checkbox" ng-model="showData.displayCoverPage" ng-change="onShowCoverPageChanged(showData.displayCoverPage)"> 显示封面 </label> </div> </div> <div class="tags-group meta-group clearfix" ng-show="!!status.show.info" ng-cloak> <ul class="nav nav-pills col-xs-12"> <li role="presentation" ng-repeat="tag in tags track by $id(tag)"> <label class="tag-item" ng-bind="tag"></label> </li> <li class="add-tag"> <a class="btn btn-default" role="button" ng-click="onTagShowClicked()"> 设置标签 </a> </li> </ul> </div> <div class="thumb-crop-img" ng-show="cropImageMask"> <div class="thumb-crop-dark-mask" ng-click="onClickMask($event)" style="z-index: 2000;"> </div> <div class="crop-panel" ng-show="true" ng-style="{\'left\': \'50%\', \'top\': locViewPort.top, \'width\': \'374px\'}"> <div class="surface"> <img class="crop-image" ng-src="{{ coverSrc }}" style="width: 100%" tn-img-crop="cropOpts"> </div> </div> <div class="crop-attr-menu form-group" ng-show="true" ng-style="{\'top\': locViewPort.top, \'left\': \'374px\'}"> <div class="form-group attr-txt">H5封面按1:1裁剪</div> <div class="form-group"> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickApplyCrop($event)">确认</button> </div> </div> </div>'),t.put("/views/app/studio/edit-panel/opDockBlock.html",'<div class="op-dock-item" ng-repeat="(opName, opView) in opList"> <div class="op-loader" tn-mount-op="opName"></div> </div> '),t.put("/views/app/studio/edit-panel/tnPageCompList.html",'<div class="comp-assist-menu" ng-show="panelState.isOpen" ng-style="panelState.pose"> <div class="comp-assist-header text-left"> <div class="checkbox" style="margin-top: 0px;"> <label> <input type="checkbox" ng-model="panelState.globOptions.showPageGrid"> 显示网格 </label> </div> <div class="checkbox"> <label> <input type="checkbox" ng-model="panelState.globOptions.dockToPageGrid" ng-disabled="!panelState.globOptions.showPageGrid"> 智能吸附 </label> </div> </div> <div class="divider"></div> <div class="comp-assist-content"> <div class="op-label-panel"> <div class="op-btn-panel"> <span class="btn-title">冻结</span> <span class="btn-title">隐藏</span> </div> <div class="op-comps-panel"> <span class="btn-title">组件</span> </div> </div> <tn-comp-outline-tree outline-tree-model="panelState.pageComps" outline-item-active-state-changed="onOutlineItemActiveStateChanged" outline-item-data-attr-changed="outlineItemDataAttrChanged" outline-item-clicked="outlineItemClicked" page-path="panelState.pagePath"> </tn-comp-outline-tree> </div> </div>'),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/cube-fs.html",'<ul class="dock booklet tn-ground-slot tn-view-grounds" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-surface tn-ground tn-show-ground" tn-comp-role="ground" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_paper-cp:sys/pg-fs"> </li> </ul> <ul class="dock booklet tn-page-slot tn-view-pages" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-surface tn-page tn-show-page" tn-comp-role="page" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_paper-cp:sys/pg-fs"> </li> </ul> '),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/gd-fs.html",'<ul class="tn-layer-slot page-view-port-box" tn-cell-type="group" tn-bind-cell="layers" tn-child-position="absolute"> <li class="tn-layer" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/ly-fs" tn-comp-role="layer"></li> </ul> '),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/loader-multi-pages.html",' <ul class="dock tn-ground-slot tn-fly-away-workaround-ios13" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-ground-piece" ng-repeat="chd in (cell.items || cell) track by $index" tn-bind-page-mode="::chd._comp.constraint.mode"> <div class="tn-ground-container"> <div class="tn-ground" tn-page-cache-gatherer="grounds:{{ $index }}" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/gd-fs" tn-comp-role="ground"></div> </div> </li> </ul> <ul class="dock tn-page-slot" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-page-piece" ng-repeat="chd in (cell.items || cell) track by $id(chd)" tn-bind-page-mode="::chd._comp.constraint.mode" ng-class="{ \'page-in-group\': (_pgSetState = getPageSetState($index)).isInGroup,\n        \'page-in-group-first\': _pgSetState.isFirst,\n        \'page-in-group-last\': _pgSetState.isLast }"> <div class="tn-page-set-box"> <div class="face" title="背景组 可统一编辑背景页"></div> <a class="xiumi-normal" ui-sref="{{ $state.current.name | toStateCubeSingleGround }}({ ground_index: $index })"> <div class="ground-face"> <span class="glyphicon glyphicon-edit"></span><span>编辑本组背景</span> </div> </a> </div> <div class="tn-page-container tn-scrolled-page board" ng-controller="BoardPageEditingBoxController" tn-atom-dropping-sink="boardDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)"> <div class="tn-page-vessel"> <div class="tn-ground-box" tn-page-cache-presenter="grounds:{{ $index | pageIndexToGroundIndex:_$.grounds }}"></div> <div class="tn-page" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageAddTextTpl($event, $index, chd)"> <span class="glyphicon glyphicon-text-width" title="快速添加文本模板"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageRefreshAnimation($event, $index, chd)"> <span class="glyphicon glyphicon-play-circle" title="动态预览"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, $index, chd)"> <span class="glyphicon glyphicon-asterisk" title="设置页面背景"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageAssist($event, $index, chd)"> <span class="glyphicon glyphicon-eye-close" title="编辑辅助"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageSaveFragment($event, $index, chd)"> <span class="glyphicon glyphicon-star" title="收藏版式"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDuplicate($event, $index, chd)"> <span class="glyphicon glyphicon-duplicate" title="复制页面"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDelete($event, $index, chd)"> <span class="glyphicon glyphicon-trash" title="删除页面"></span> </a> </li> </ul> <ul class="tn-menu tn-page-num-bar" stop-propagation="click mousedown mouseup"> <li ng-class="{ \'disabled\': $first }"> <a href="javascript:void(0)" ng-click="onPageMoveUp($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-up" title="向上移动页面"></span> </a> </li> <li> <span class="tn-menu page-num" ng-bind="$index + 1"></span> </li> <li ng-class="{ \'disabled\': $last }"> <a href="javascript:void(0)" ng-click="onPageMoveDown($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-down" title="向下移动页面"></span> </a> </li> </ul> </div> <div class="tn-menu tn-page-appendix-bar"> <button type="button" class="btn btn-default flipping-effect" uib-dropdown-toggle ng-click="onClickFlippingEffect($index, chd)"> <span class="glyphicon glyphicon-road"></span><span>&nbsp;</span><span>翻页效果</span> </button> <button type="button" class="btn btn-default add-new-page-in-group" ng-click="onClickAddForePageAfter($index, chd, \'booklet\')"> <span class="glyphicon glyphicon-plus"></span><span>&nbsp;</span><span>组内添加一页</span> </button> </div> </li> </ul> '),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/loader-single-ground.html",' <ul class="dock tn-page-slot" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-page-piece" tn-bind-page-mode="::_$.grounds[groundCtrl.groundIndex]._comp.constraint.mode"> <div class="tn-page-container tn-scrolled-page board" ng-controller="BoardPageEditingBoxController" tn-atom-dropping-sink="boardDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)"> <div class="tn-page-vessel"> <div class="tn-page" tn-solo-comp-loader="_$.grounds[groundCtrl.groundIndex]" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-bind-comp-inst-path="_$.grounds:{{ groundCtrl.groundIndex }}" tn-bind-comp-inst-page-mode="board" tn-comp-role="page"></div> </div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageAddTextTpl($event, groundCtrl.groundIndex, _$.grounds[groundCtrl.groundIndex])"> <span class="glyphicon glyphicon-text-width" title="快速添加文本模板"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageRefreshAnimation($event, groundCtrl.groundIndex, _$.grounds[groundCtrl.groundIndex])"> <span class="glyphicon glyphicon-play-circle" title="动态预览"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, groundCtrl.groundIndex, _$.grounds[groundCtrl.groundIndex])"> <span class="glyphicon glyphicon-asterisk" title="设置页面背景"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageAssist($event, groundCtrl.groundIndex, _$.grounds[groundCtrl.groundIndex])"> <span class="glyphicon glyphicon-eye-close" title="编辑辅助"></span> </a> </li> </ul> <div class="tn-menu tn-page-appendix-bar" stop-propagation="click mousedown mouseup" style="position:absolute;width:100%" ng-show="canSetGroundTransition"> <button type="button" class="btn btn-default flipping-effect" uib-dropdown-toggle ng-click="onClickFlippingEffect($event, groundCtrl.groundIndex, showData.grounds[groundCtrl.groundIndex])"> <span class="glyphicon glyphicon-road"></span><span>&nbsp;</span><span>背景翻页效果</span> </button> </div> </div> </li> </ul>'),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/ly-fs.html",'<ul class="tn-comp-slot" tn-cell-type="group" tn-bind-cell="comps" tn-child-position="absolute"> <li class="tn-comp-top-level" tn-sub-comp-loader=""></li> </ul>'),t.put("/views/app/studio/edit-tpls/booklet-cp/sys-edit/pg-fs.html",'<ul class="tn-layer-slot page-view-port-box" tn-cell-type="group" tn-bind-cell="layers" tn-child-position="absolute"> <li class="tn-layer" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/ly-fs" tn-comp-role="layer"></li> <div class="viewport-border-box"> <span class="view-port-border view-port-top"></span> <span class="view-port-border view-port-bottom"></span> <span class="view-port-border view-port-left"></span> <span class="view-port-border view-port-right"></span> </div> <div class="guide-line-box" ng-show="globOptions.showPageGrid"> <span class="tn-page-grid tn-page-grid-ver" ng-repeat="guidePos in towerStatus.context.viewport.boardPage.guidesV" ng-style="{ \'left\': guidePos + \'px\' }"> </span> <span class="tn-page-grid tn-page-grid-hor" ng-repeat="guidePos in towerStatus.context.viewport.boardPage.guidesH" ng-style="{ \'top\': guidePos + \'px\' }"> </span> </div> </ul> '),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/cube-fs.html",'<ul class="dock booklet tn-ground-slot tn-view-grounds" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-surface tn-ground tn-show-ground" tn-comp-role="ground" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_paper-cp:sys/pg-flw"> </li> </ul> <ul class="dock booklet tn-page-slot tn-view-pages" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-surface tn-page tn-show-page" tn-comp-role="page" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_paper-cp:sys/pg-flw"> </li> </ul> '),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/loader-flow-paper-fragment.html",'<ul class="tn-slice-slot" tn-cell-type="group" tn-bind-cell="slices" tn-child-position="static"> <li class="tn-comp-top-level" tn-sub-comp-loader=""></li> </ul>'),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/loader-flow-paper-proj.html",'<ul class="dock paper tn-page-slot" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-page tn-show-page" tn-sub-comp-loader="" tn-comp-role="page" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/pg-flw"></li> </ul>'),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/loader-multi-pages.html",' <ul class="dock tn-ground-slot tn-fly-away-workaround-ios13" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-ground-piece" ng-repeat="chd in (cell.items || cell) track by $index" tn-bind-page-mode="::chd._comp.constraint.mode"> <div class="tn-ground-container"> <div class="tn-ground" tn-page-cache-gatherer="grounds:{{ $index }}" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/gd-fs" tn-comp-role="ground"></div> </div> </li> </ul> <ul class="dock tn-page-slot" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-page-piece" ng-repeat="chd in (cell.items || cell) track by $id(chd)" tn-bind-page-mode="::chd._comp.constraint.mode"> <div class="tn-page-container tn-scrolled-page flow" ng-class="[ \'tn-editing-mode-\' + actingEditingMode, { \'display-system-page-margins\': !!_o$.displaySystemPageMargins } ]" ng-controller="FlowPageEditingBoxController" tn-atom-dragging-source="flowDraggingSourceOpts" tn-atom-dropping-sink="flowDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)"> <div class="tn-page-vessel"> <div class="tn-page" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/pg-flw" tn-comp-role="page"></div> </div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageEditingModeToggle($event, $index, cnd)" ng-switch="preferEditingMode"> <span class="glyphicon glyphicon-th-large" title="打开布局模式，深度排版" ng-switch-when="preview"></span> <span class="glyphicon glyphicon-th" title="关闭布局模式，快速排版" ng-switch-when="layout"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, $index, chd)"> <span class="glyphicon glyphicon-asterisk" title="设置全文属性"></span> </a> </li> <li ng-include="::\'/views/app/studio/edit-tpls/paper-cp/sys-edit/toolbar/statistics.html\'"> </li> <li> <div class="btn-group page-assist-on-toolbar"> <a href="javascript:void(0)" ng-click="onPageAssist($event)"> <span class="glyphicon glyphicon-eye-open" title="编辑辅助"></span> </a> <div class="tn-paper-aux-comps-tree-assistant" stop-propagation="mousedown"></div> </div> </li> </ul> </div> </li> </ul> '),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/ly-flw.html",'<ul class="tn-comp-slot" tn-cell-type="group" tn-bind-cell="comps" tn-child-position="static"> <li class="tn-comp-top-level" tn-sub-comp-loader=""></li> </ul> <div class="tn-page-container-bottom-block"> <div class="tn-quick-input-block quick-input" ng-if="!!comp._qiBlock.items.length" tn-cell-type="group" tn-bind-cell="_qiBlock"> <div class="tn-quick-input-comp" tn-sub-comp-loader="" tn-bind-comp-inst-page-mode="flow" tn-comp-role="__quick_input__" tn-comp-enter-editing="onQuickInputEnterEditing()" tn-comp-exit-editing="onQuickInputExitEditing()"></div> </div> <div class="global-format"> <a class="no-decoration xiumi-normal" href="" ng-click="onGlobalFormatClicked($event)">基础格式</a><span>：</span><span ng-bind="globalFormatContext.formatDescription"></span> </div> </div>'),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/pg-flw.html",'<ul class="tn-layer-slot" tn-cell-type="group" tn-bind-cell="layers" tn-child-position="absolute"> <li class="tn-layer" tn-comp-role="layer" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/ly-flw"> </li> </ul>'),t.put("/views/app/studio/edit-tpls/paper-cp/sys-edit/toolbar/statistics.html",'<a href="javascript:void(0)" ng-click="onPageContentStatistics($event)"> <span class="glyphicon glyphicon-stats" title="全文统计"></span> </a> <div class="statistics-tool-panel" ng-show="statisticsShow"> <div class="text-left"> <span>全文字数： {{statisticsRes.wordCount}}</span> </div> <div class="text-left"> <span>阅读时间： {{statisticsRes.readingEstimation}}分钟</span> </div> <div class="text-left link-count"> <span>链接数目： {{statisticsRes.linkUsageCount}}</span> </div> <div class="text-left image-count"> <span>图片数目： {{statisticsRes.imgUrls.length}}</span> </div> <div class="text-left image-flag"> <span>图库使用： {{statisticsRes.imgLibCount}}</span> <div class="wx-checkbox"> <input type="checkbox" id="checkbox" ng-model="imageStaticDisplayFlag" ng-disabled="true"> <label for="checkbox"></label> </div> </div> </div>'),t.put("/views/app/studio/edit-tpls/tablet-cp/sys-edit/loader-multi-pages.html",' <ul class="dock tn-ground-slot tn-fly-away-workaround-ios13" tn-cell-type="group" tn-bind-cell="grounds" tn-child-position="absolute"> <li class="tn-ground-piece" ng-repeat="chd in (cell.items || cell) track by $index" tn-bind-page-mode="::chd._comp.constraint.mode"> <div class="tn-ground-container"> <div class="tn-ground" tn-page-cache-gatherer="grounds:{{ $index }}" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/gd-fs" tn-comp-role="ground"></div> </div> </li> </ul> <ul class="dock tn-page-slot" tn-cell-type="group" tn-bind-cell="pages" tn-child-position="absolute"> <li class="tn-page-piece" ng-repeat="chd in (cell.items || cell) track by $id(chd)" tn-bind-page-mode="::chd._comp.constraint.mode" ng-class="{ \'page-in-group\': (_pgSetState = getPageSetState($index)).isInGroup,\n        \'page-in-group-first\': _pgSetState.isFirst,\n        \'page-in-group-last\': _pgSetState.isLast }" ng-switch="pageMode"> <div class="tn-page-set-box"> <div class="face" title="背景组 可统一编辑背景页"></div> <a class="xiumi-normal" ui-sref="{{ $state.current.name | toStateCubeSingleGround }}({ ground_index: $index })"> <div class="ground-face"> <span class="glyphicon glyphicon-edit"></span><span>编辑本组背景</span> </div> </a> </div> <div class="tn-page-container tn-scrolled-page flow" ng-class="\'tn-editing-mode-\' + actingEditingMode" ng-controller="FlowPageEditingBoxController" tn-atom-dragging-source="flowDraggingSourceOpts" tn-atom-dropping-sink="flowDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)" ng-switch-when="flow"> <div class="tn-page-vessel"> <div class="tn-ground-box" tn-page-cache-presenter="grounds:{{ $index | pageIndexToGroundIndex:_$.grounds }}"></div> <div class="tn-page" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/pg-flw" tn-comp-role="page"></div> </div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageRefreshAnimation($event, $index, chd)"> <span class="glyphicon glyphicon-play-circle" title="动态预览"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditingModeToggle($event, $index, chd)" ng-switch="preferEditingMode"> <span class="glyphicon glyphicon-th-large" title="打开布局模式，深度排版" ng-switch-when="preview"></span> <span class="glyphicon glyphicon-th" title="关闭布局模式，快速排版" ng-switch-when="layout"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, $index, chd)"> <span class="glyphicon glyphicon-asterisk" title="设置全文属性"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDuplicate($event, $index, chd)"> <span class="glyphicon glyphicon-duplicate" title="复制页面"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDelete($event, $index, chd)"> <span class="glyphicon glyphicon-trash" title="删除页面"></span> </a> </li> </ul> <ul class="tn-menu tn-page-num-bar" stop-propagation="click mousedown mouseup"> <li ng-class="{ \'disabled\': $first }"> <a href="javascript:void(0)" ng-click="onPageMoveUp($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-up" title="向上移动页面"></span> </a> </li> <li> <span class="tn-menu page-num" ng-bind="$index + 1"></span> </li> <li ng-class="{ \'disabled\': $last }"> <a href="javascript:void(0)" ng-click="onPageMoveDown($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-down" title="向下移动页面"></span> </a> </li> </ul> </div> <div class="tn-page-container tn-scrolled-page board" ng-controller="BoardPageEditingBoxController" tn-atom-dropping-sink="boardDroppingSinkOpts" on-atom-drop="onAtomDropOnPage($droppingParams)" ng-switch-when="board"> <div class="tn-page-vessel"> <div class="tn-ground-box" tn-page-cache-presenter="grounds:{{ $index | pageIndexToGroundIndex:_$.grounds }}"></div> <div class="tn-page" tn-solo-comp-loader="chd" tn-bind-comp-tpl-id="edit_booklet-cp:sys-edit/pg-fs" tn-comp-role="page"></div> </div> <ul class="tn-menu tn-page-toolbar booklet" stop-propagation="click mousedown mouseup"> <li> <a href="javascript:void(0)" ng-click="onPageAddTextTpl($event, $index, chd)"> <span class="glyphicon glyphicon-text-width" title="快速添加文本模板"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageRefreshAnimation($event, $index, chd)"> <span class="glyphicon glyphicon-play-circle" title="动态预览"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageEditPageProps($event, $index, chd)"> <span class="glyphicon glyphicon-asterisk" title="设置页面背景"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageAssist($event, $index, chd)"> <span class="glyphicon glyphicon-eye-close" title="编辑辅助"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageSaveFragment($event, $index, chd)"> <span class="glyphicon glyphicon-star" title="收藏版式"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDuplicate($event, $index, chd)"> <span class="glyphicon glyphicon-duplicate" title="复制页面"></span> </a> </li> <li> <a href="javascript:void(0)" ng-click="onPageDelete($event, $index, chd)"> <span class="glyphicon glyphicon-trash" title="删除页面"></span> </a> </li> </ul> <ul class="tn-menu tn-page-num-bar" stop-propagation="click mousedown mouseup"> <li ng-class="{ \'disabled\': $first }"> <a href="javascript:void(0)" ng-click="onPageMoveUp($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-up" title="向上移动页面"></span> </a> </li> <li> <span class="tn-menu page-num" ng-bind="$index + 1"></span> </li> <li ng-class="{ \'disabled\': $last }"> <a href="javascript:void(0)" ng-click="onPageMoveDown($event, $index, chd)"> <span class="glyphicon glyphicon-chevron-down" title="向下移动页面"></span> </a> </li> </ul> </div> <div ng-switch-when="board" class="frozen-tip" ng-if="hasFrozen(chd)"> <span>当前页面包含冻结元素，点击右边栏小眼睛图标，解除后可以操作</span> </div> <div class="tn-menu tn-page-appendix-bar"> <div class="page-title-item" ng-click="onEditPageTitle($event, $index, chd)"> <label class="title" ng-if="!editingTitleData[$index].isEditingTitle && !chd._comp.title" ng-cloak>第{{ $index + 1 }}页</label> <label class="title" ng-if="!editingTitleData[$index].isEditingTitle && chd._comp.title" ng-bind="chd._comp.title" ng-cloak></label> <input type="text" class="form-control text-center" ng-model="editingTitleData[$index].editingTitle" ng-if="editingTitleData[$index].isEditingTitle" ng-blur="endEditPageTitle($event, $index, chd, editingTitleData[$index].editingTitle)" ng-cloak> </div> <button type="button" class="btn btn-default flipping-effect" ng-click="onClickFlippingEffect($index, chd)"> <span class="glyphicon glyphicon-road"></span><span>&nbsp;</span><span>翻页设置</span> </button> <div class="btn-group" uib-dropdown> <button id="single-button" type="button" class="btn btn-default add-new-page-in-group" uib-dropdown-toggle> <span class="glyphicon glyphicon-plus"></span><span>&nbsp;</span><span>组内添加一页</span> </button> <ul class="op-bar-menu format-panel" uib-dropdown-menu role="menu" aria-labelledby="single-button"> <li role="menuitem"> <a href="" ng-click="onClickAddForePageAfter($index, chd, \'booklet\')">添加固定页</a></li> <li role="menuitem"> <a href="" ng-click="onClickAddForePageAfter($index, chd, \'tablet\')">添加长图文</a> </li> </ul> </div> </div> </li> </ul> <div class="tn-page-slot-bottom-bar" stop-propagation="mouseup click"> <a class="insert-page no-decoration" href="javascript:void(0)" ng-click="onPageInsertAfter($event, comp.pages.length - 1, \'booklet\')"> <div class="inner text-center"> <span class="glyphicon glyphicon-plus"></span><span>&nbsp;&nbsp;</span><span>添加固定页</span> </div> </a> <a class="insert-page no-decoration" href="javascript:void(0)" ng-click="onPageInsertAfter($event, comp.pages.length - 1, \'tablet\')"> <div class="inner text-center"> <span class="glyphicon glyphicon-plus"></span><span>&nbsp;&nbsp;</span><span>添加长图文</span> </div> </a> <a class="insert-page no-decoration" href="javascript:void(0)" ng-click="onImportPSDPageAfter($event, comp.pages.length - 1, \'booklet\')"> <div class="inner text-center"> <span class="glyphicon glyphicon-download-alt"></span><span>&nbsp;&nbsp;</span><span>导入PSD</span> </div> </a> <a class="insert-page no-decoration" href="javascript:void(0)" ng-click="onImportPaperShowAfter($event, comp.pages.length - 1, \'tablet\')"> <div class="inner text-center"> <span class="glyphicon glyphicon-download-alt"></span><span>&nbsp;&nbsp;</span><span>导入图文</span> </div> </a> </div> '),t.put("/views/app/studio/edit-tpls/tablet-cp/sys-edit/ly-flw.html",'<ul class="tn-comp-slot" tn-cell-type="group" tn-bind-cell="comps" tn-child-position="static"> <li class="tn-comp-top-level" tn-sub-comp-loader=""></li> </ul> <div class="tn-quick-input-block quick-input" ng-if="!!comp._qiBlock.items.length" tn-cell-type="group" tn-bind-cell="_qiBlock"> <div class="tn-quick-input-comp" tn-sub-comp-loader="" tn-bind-comp-inst-page-mode="flow" tn-comp-role="__quick_input__" tn-comp-enter-editing="onQuickInputEnterEditing()" tn-comp-exit-editing="onQuickInputExitEditing()"></div> </div>'),t.put("/views/app/studio/edit-tpls/tablet-cp/sys-edit/pg-flw.html",'<ul class="tn-layer-slot" tn-cell-type="group" tn-bind-cell="layers" tn-child-position="absolute"> <li class="tn-layer" tn-comp-role="layer" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/ly-flw"> </li> </ul>'),t.put("/views/app/studio/edit-tpls/tablet-cp/sys-edit/snap-ly-fs.html",'<ul class="tn-comp-slot" tn-cell-type="group" tn-bind-cell="comps" tn-child-position="absolute"> <li class="tn-comp-top-level" tn-sub-comp-loader=""></li> </ul>'),t.put("/views/app/studio/edit-tpls/tablet-cp/sys-edit/snap-pg-fs.html",'<ul class="tn-layer-slot" tn-cell-type="group" tn-bind-cell="layers" tn-child-position="absolute"> <li class="tn-layer" tn-sub-comp-loader="" tn-bind-comp-tpl-id="edit_tablet-cp:sys-edit/snap-ly-fs" tn-comp-role="layer"></li> </ul> '),t.put("/views/app/studio/headbar/authBlock.html",'<div class="usr-message-box" uib-dropdown is-open="messageBoxOpen" ng-show="!!status.userMsg.totalCount" on-toggle="onBoxToggle(open)" ng-controller="MessageBoxController" ng-cloak> <script type="text/ng-template" id="in-page/message-group-template.html"> <div class="panel panel-default">\n      <div class="panel-heading">\n        <h4 class="panel-title">\n          <a href tabindex="0" class="accordion-toggle"\n             ng-click="toggleOpen()" uib-accordion-transclude="heading">\n            <span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">\n              {{heading}}\n            </span>\n          </a>\n        </h4>\n      </div>\n      <div class="panel-collapse collapse" uib-collapse="!isOpen">\n        <div class="panel-body" ng-transclude></div>\n      </div>\n    </div> <\/script> <a class="no-decoration message-box-toggle" href ng-class="{ \'has-unread\': !!status.userMsg.unreadCount }" uib-dropdown-toggle ng-cloak> <img class="icon-message" src="/images/app/depot/9f6c1e.icon-msg-gray.png" title="您的消息列表" alt="您的消息列表"> <span class="new-message-count" ng-bind="status.userMsg.unreadCount > 9 ? \'n\' : status.userMsg.unreadCount"></span> </a> <div class="dropdown-menu" uib-dropdown-menu stop-propagation="click"> <div class="loading-prompt text-center" ng-if="status.userMsg.fetching"> 加载中... </div> <uib-accordion close-others="false"> <div uib-accordion-group class="panel-default" template-url="in-page/message-group-template.html" ng-repeat="item in status.userMsg.messages"> <uib-accordion-heading> <div class="message-title-box" ng-click="onItemTitleClick(item)"> <span class="message-title" ng-bind="::item.title"></span> <span class="new-message-tag" ng-show="item.state == 0">new</span> </div> </uib-accordion-heading> <div class="message-body" ng-include="::item.body.type | messageType2TemplateURL"> </div> </div> </uib-accordion> <div class="no-new-message-prompt" ng-if="!status.userMsg.messages.length" ng-cloak> 没有新消息 </div> <div class="turn-to-message-list"> <a class="xiumi-red no-decoration" href="/#/user/messages" target="_blank">查看全部消息 >>></a> </div> </div> </div> <span class="usr-loading" ng-show="status.auth.loadingUserInfo" ng-cloak>正在登录...</span> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-click="onSignInClick($event)" ng-show="!status.auth.loadingUserInfo && !status.auth.userInfo"> 登录 </a> <div class="usr-info" uib-dropdown ng-show="!status.auth.loadingUserInfo && status.auth.userInfo" ng-cloak> <div class="user-info-toggle" uib-dropdown-toggle> <img class="avatar" ng-src="{{ (status.auth.userInfo.avatar_url || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\') | optimizeImageType }}" alt="{{ status.auth.userInfo.nickname }}"> </div> <a class="user-level no-decoration" target="_blank" href="//v.xiumi.us/board/v5/2a5va/6159244"> <span class="level" ng-if="status.auth.userInfo.level <= 3"> <span>LV.</span><span class="num" ng-bind="status.auth.userInfo.level"></span> </span> <span class="level" ng-if="status.auth.userInfo.level == 4"> <span>VIP</span> </span> <span class="level" ng-if="status.auth.userInfo.level == 5"> <span>企业会员</span> </span> </a> <div class="usr-info-desc-frame dropdown-menu" uib-dropdown-menu stop-propagation="click"> <ul class="list-style-none ul-no-rim text-center"> <li> <div class="nickname row text-center" ng-bind="status.auth.userInfo.nickname"></div> </li> <li> <a href="/#/user/setting" target="_blank"> <span class="glyphicon glyphicon-cog"></span> <span>账号设置</span> </a> </li> <li> <a href="/#/order" target="_blank"> <span class="glyphicon glyphicon-list-alt"></span> <span>订单发票</span> </a> </li> <li> <a class="sign-out" href="javascript:void(0)" ng-click="onSignOutClick($event)"> <span class="glyphicon glyphicon-log-out"></span> <span>退出登录</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/headbar/header.html",'<nav class="x3-navbar xiumi navbar navbar-static-top" role="navigation"> <div class="container-fluid"> <div class="x3-nav-op-buttons text-center tn-state-transition-animation" ui-view="navBarActionButtons"> action buttons </div> <div class="x3-nav-brand navbar-header" ui-view="navPathBlock"> navigation path </div> <div class="x3-nav-misc oem-off"> <div class="auth-bar" ui-view="navBarWxAuthBlock" ng-show="status.wxAuth.geminiUserInfo"> wx auth block </div> <div class="usr-bar" ui-view="navBarAuthBlock"> auth block </div> </div> </div> </nav>'),t.put("/views/app/studio/headbar/headerOemPartner.html",'<nav class="x3-navbar qidian partner navbar navbar-static-top" role="navigation"> <div class="container-fluid"> <div class="x3-nav-op-buttons text-center tn-state-transition-animation" ui-view="navBarActionButtons"> action buttons </div> <div class="x3-nav-brand navbar-header" ui-view="navPathBlock"> navigation path </div> <div class="x3-nav-misc oem-off"> <div class="auth-bar" ui-view="navBarWxAuthBlock" ng-show="status.wxAuth.geminiUserInfo"> wx auth block </div> <div class="usr-bar" ui-view="navBarAuthBlock"> auth block </div> </div> </div> </nav>'),t.put("/views/app/studio/headbar/headerQidian.html",'<nav class="x3-navbar qidian navbar navbar-static-top" role="navigation"> <div class="container-fluid"> <div class="x3-nav-op-buttons text-center tn-state-transition-animation" ui-view="navBarActionButtons"> action buttons </div> <div class="x3-nav-brand navbar-header" ui-view="navPathBlock"> navigation path </div> <div class="x3-nav-misc oem-off"> <div class="auth-bar" ui-view="navBarWxAuthBlock" ng-show="status.wxAuth.geminiUserInfo"> wx auth block </div> <div class="usr-bar" ui-view="navBarAuthBlock"> auth block </div> </div> </div> </nav>'),t.put("/views/app/studio/headbar/navPath.html",'<a class="no-decoration navbar-brand oem-off" href="/" target="_blank"> <img class="logo" alt="秀米XIUMI" title="xiumi.us" src="/images/b80cd8.xiumi_logo_40.png"> </a> <div class="x3-nav-path navbar-left oem-off"> <ol class="breadcrumb"> <li ng-repeat="nav in status.navPaths" ng-class="{\'active\':$last}"> <a ng-href="{{ nav.url }}" ng-if="nav.url" target="_blank">{{ nav.title }}</a> <span ng-if="!nav.url">{{ nav.title }}</span> </li> </ol> </div>'),t.put("/views/app/studio/headbar/navPathOemPartner.html",'<a class="no-decoration navbar-brand oem-off" target="_blank" rel="noreferrer" href="javascript:void(0);"> <img class="logo" alt="{{ partnerName }}" title="{{ partnerName }}" src="{{ partnerIcon }}"> </a> <span class="parter-title">{{ partnerName }}</span> <div class="x3-nav-path navbar-left oem-off"> <ol class="breadcrumb"> <li class="active" ng-show="$state.includes(\'studio.oem-qq:booklet\')">秀米动态页编辑</li> <li class="active" ng-show="$state.includes(\'studio.oem-qq:paper\')">秀米图文编辑</li> </ol> </div>'),t.put("/views/app/studio/headbar/navPathQidian.html",'<a class="no-decoration navbar-brand oem-off" target="_blank" rel="noreferrer" href="http://qidian.qq.com/mp/imgTxtMaterial"> <img class="logo" alt="企点 qidian" title="qidian.qq.com" src="/images/409b82.qq_qd_logo.png"> </a> <div class="x3-nav-path navbar-left oem-off"> <ol class="breadcrumb"> <li class="active" ng-show="$state.includes(\'studio.oem-qq:booklet\')">秀米动态页编辑</li> <li class="active" ng-show="$state.includes(\'studio.oem-qq:paper\')">秀米图文编辑</li> </ol> </div>'),t.put("/views/app/studio/headbar/oemPartnerAuthBlock.html",'<span class="usr-loading" ng-show="status.auth.loadingUserInfo" ng-cloak>正在登录...</span> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-click="onSignInClick($event)" ng-show="!status.auth.loadingUserInfo && !status.auth.userInfo"> 登录 </a> <div class="usr-info" uib-dropdown ng-show="!status.auth.loadingUserInfo && status.auth.userInfo" ng-cloak> <div class="user-info-toggle" uib-dropdown-toggle> <img class="avatar" ng-src="{{ status.auth.userInfo.avatar_url || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\' }}" alt="{{ status.auth.userInfo.nickname }}"> </div> <a class="user-level no-decoration" href="javascript:void(0)"> <span class="level" ng-if="status.auth.userInfo.level <= 3"> <span>LV.</span><span class="num" ng-bind="status.auth.userInfo.level"></span> </span> <span class="level" ng-if="status.auth.userInfo.level == 4"> <span>VIP</span> </span> <span class="level" ng-if="status.auth.userInfo.level == 5"> <span>企业会员</span> </span> </a> <div class="usr-info-desc-frame dropdown-menu" uib-dropdown-menu stop-propagation="click"> <ul class="list-style-none ul-no-rim text-center"> <li> <div class="nickname row text-center" ng-bind="status.auth.userInfo.nickname"></div> </li> <li> <a href="/#/user/setting" target="_blank"> <span class="glyphicon glyphicon-cog"></span> <span>账号设置</span> </a> </li> <li> <a href="//xiumi.us" target="_blank"> <span class="glyphicon glyphicon-list-alt"></span> <span>秀米主页</span> </a> </li> <li> <a class="sign-out" href="javascript:void(0)" ng-click="onSignOutClick($event)"> <span class="glyphicon glyphicon-log-out"></span> <span>退出登录</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/headbar/opButtonsBooklet.html",' <button class="btn-img op-btn open" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickOpenExisted()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">打开</span> </button> <button class="btn-img op-btn preview" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickPreview()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> <button class="btn-img op-btn save" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickSave()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">保存</span> </button> <div class="btn-dropdown op-more btn-group" uib-dropdown> <button class="btn-img op-btn more" uib-dropdown-toggle tooltip-placement="right"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">更多</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNew()"> <span class="glyphicon glyphicon-file"></span> 新建一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickOpenHistory()" ng-if="!!status.show.info"> <span class="glyphicon glyphicon-film"></span> 打开{{ ::showTypeNames[status.showType] }}的历史记录 </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveAs()"> <span class="glyphicon glyphicon-share"></span> 另存一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javqrcodeascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveToOther()"> <span class="glyphicon glyphicon-share"></span> 另存给其他用户 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" target="_blank" ng-if="!!status.show.info" ng-href="/#/shows/{{ status.show.info.show_id }}"> <span class="glyphicon glyphicon-dashboard"></span> 查看{{ ::showTypeNames[status.showType] }}的状态 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickTrashcan()"> <span class="glyphicon glyphicon-trash"></span> 清空编辑的内容 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCollectImage()"> <span class="glyphicon glyphicon-export"></span> 收集图片 </a> <a ng-show="status.auth.userInfo" role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickExportFullImage()"> <span class="glyphicon glyphicon-picture"></span> 生成图片 </a> </li> </ul> </div> '),t.put("/views/app/studio/headbar/opButtonsBookletQidian.html",' <div class="auth-bar"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickSendShow2Qidian()"> 保存到企点 </a> </div> <div class="auth-bar"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickPreview()"> 预览 </a> </div> <div class="auth-bar" ng-if="!!status.show.info"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-href="/#/shows/{{ status.show.info.show_id }}"> 查看数据 </a> </div> '),t.put("/views/app/studio/headbar/opButtonsFreeCanvas.html",' <div class="tn-op-btn-group"> <button class="btn-img op-btn back" ng-click="onBtnClickBackToMultiPages()" tooltip-placement="bottom" uib-tooltip="完成返回" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">返回</span> </button> <button class="btn-img op-btn preview" tooltip-placement="bottom" uib-tooltip="预览" tooltip-popup-delay="800" ng-click="onBtnClickPreviewMixedUsagePage()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> </div>'),t.put("/views/app/studio/headbar/opButtonsMatrixMultiCubes.html",' <button class="btn-img op-btn open" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickOpenExisted()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">打开</span> </button> <button class="btn-img op-btn preview" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickPreview()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> <button class="btn-img op-btn save" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickSave()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">保存</span> </button> <div class="btn-dropdown op-more btn-group" uib-dropdown> <button class="btn-img op-btn more" uib-dropdown-toggle tooltip-placement="right"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">更多</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNew()"> <span class="glyphicon glyphicon-file"></span> 新建一个{{ ::showTypeNames[status.actingType] }} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickOpenHistory()" ng-if="!!status.show.info"> <span class="glyphicon glyphicon-film"></span> 打开合集的历史记录 </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveAs()"> <span class="glyphicon glyphicon-floppy-save"></span> 另存一个{{ ::showTypeNames[status.actingType] }} </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javqrcodeascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveToOther()"> <span class="glyphicon glyphicon-share"></span> 另存给其他用户 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" target="_blank" ng-if="!!status.show.info" ng-href="/#/shows/{{ status.show.info.show_id }}"> <span class="glyphicon glyphicon-dashboard"></span> 查看{{ ::showTypeNames[status.actingType] }}的状态 </a> </li> </ul> </div> '),t.put("/views/app/studio/headbar/opButtonsMatrixSingleCube.html",' <button class="btn-img op-btn back" ui-sref="{{ $state.current.name | toStateMultiCubes }}" tooltip-placement="bottom" uib-tooltip="回到章节管理" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">章节</span> </button> <button class="btn-img op-btn preview" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickPreview()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> <button class="btn-img op-btn save" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickSave()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">保存</span> </button> '),t.put("/views/app/studio/headbar/opButtonsPaper.html",' <div class="tn-op-btn-group" ng-if="status.editorMode == \'normal\'"> <button class="btn-img op-btn open" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickOpenExisted()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">打开</span> </button> <button class="btn-img op-btn preview" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickPreview()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> <button class="btn-img op-btn save" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickSave()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">保存</span> </button> <button class="btn-img op-btn done active" data-toggle="dropdown" ng-show="status.isCopyMode" ng-click="onBtnClickDone()" tooltip-placement="bottom"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">退出</span> </button> <button class="btn-img op-btn done" data-toggle="dropdown" ng-show="!status.isCopyMode && wxAuthors.length + partnerBinds.length === 0" ng-click="onBtnClickDone()" tooltip-placement="bottom"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">导出</span> </button> <div class="btn-dropdown op-more btn-group" uib-dropdown ng-show="!status.isCopyMode && wxAuthors.length + partnerBinds.length > 0"> <button class="btn-img op-btn done" uib-dropdown-toggle ng-disabled="!!status.isCopyMode"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">导出</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation" ng-show="wxHasWeixin()"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSend()"> <span class="glyphicon glyphicon-cloud-upload"></span> 同步到公众号 </a> </li> <li role="presentation" ng-show="wxHasWeibo()"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSendWeibo()"> <span class="glyphicon glyphicon-cloud-upload"></span> 同步到微博草稿箱 </a> </li> <li role="presentation" ng-repeat="partnerBind in partnerBinds"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSendPartnerBind(partnerBind)"> <span class="glyphicon glyphicon-cloud-upload"></span> 同步到{{partnerBind.partnerApp.app_name}} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickDone()"> <span class="glyphicon glyphicon-new-window"></span> 继续用复制粘贴 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickSendWx()"> <span class="glyphicon glyphicon-cloud-upload"></span> 去同步多图文 </a> </li> </ul> </div> <div class="btn-dropdown op-more btn-group" uib-dropdown> <button class="btn-img op-btn more" uib-dropdown-toggle ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="right"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">更多</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNew()"> <span class="glyphicon glyphicon-file"></span> 新建一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickOpenHistory()" ng-if="!!status.show.info"> <span class="glyphicon glyphicon-film"></span> 打开{{ ::showTypeNames[status.showType] }}的历史记录 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNewFromDocx(\'file\')"> <span class="glyphicon glyphicon-import"></span> 导入Word/Excel </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNewFromDocx(\'wx\')"> <span class="glyphicon glyphicon-import"></span> 导入公众号图文 </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveAs()"> <span class="glyphicon glyphicon-share"></span> 另存一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveToOther()"> <span class="glyphicon glyphicon-share"></span> 另存{{ ::showTypeNames[status.showType] }}给其他用户 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" target="_blank" ng-if="!!status.show.info" ng-href="/#/shows/{{ status.show.info.show_id }}"> <span class="glyphicon glyphicon-dashboard"></span> 查看{{ ::showTypeNames[status.showType] }}的状态 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCollectImage()"> <span class="glyphicon glyphicon-export"></span> 收集图片 </a> </li> <li role="presentation"> <a ng-show="status.auth.userInfo" role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickExportFullImage()"> <span class="glyphicon glyphicon-picture"></span> 生成长图/PDF </a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickCreateImagePaper()"> <span class="glyphicon glyphicon-picture"></span> 生成贴纸图文 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickEnterPatternFragmentMode()"> <span class="glyphicon glyphicon-list-alt"></span> 将本图文设置为样刊 </a> </li> </ul> </div> </div> <div class="tn-op-btn-group" ng-if="status.editorMode == \'pattern.fragment\'"> <button class="btn-img op-btn exit-patternfragment" data-toggle="dropdown" ng-click="onBtnClickExitPatternFragmentMode()" tooltip-placement="bottom" uib-tooltip="回到编辑模式" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">完成</span> </button> </div> '),t.put("/views/app/studio/headbar/opButtonsPaperOemPartner.html",' <div class="tn-op-btn-group usr-sign-in"> <button class="btn-img op-btn open" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickOpenExisted()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">打开</span> </button> <button class="btn-img op-btn preview" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickPreview()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">预览</span> </button> <button class="btn-img op-btn save" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="bottom" ng-click="onBtnClickSave()"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">保存</span> </button> <div class="btn-dropdown op-btn op-more btn-group" uib-dropdown> <button class="btn-img op-btn done" uib-dropdown-toggle ng-disabled="!!status.isCopyMode"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">导出</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickSendPartner()"> <span class="glyphicon glyphicon-cloud-upload"></span> 保存到{{ partnerName }} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickSendPartnerAndBack()"> <span class="glyphicon glyphicon-cloud-upload"></span> 保存到{{ partnerName }}并返回 </a> </li> </ul> </div> <div class="btn-dropdown op-btn op-more btn-group" uib-dropdown> <button class="btn-img op-btn more" uib-dropdown-toggle ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" tooltip-placement="right"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">更多</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNew()"> <span class="glyphicon glyphicon-file"></span> 新建一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickOpenHistory()" ng-if="!!status.show.info"> <span class="glyphicon glyphicon-film"></span> 打开{{ ::showTypeNames[status.showType] }}的历史记录 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNewFromDocx(\'file\')"> <span class="glyphicon glyphicon-import"></span> 导入Word/Excel </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCreateNewFromDocx(\'wx\')"> <span class="glyphicon glyphicon-import"></span> 导入公众号图文 </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveAs()"> <span class="glyphicon glyphicon-share"></span> 另存一个{{ ::showTypeNames[status.showType] }} </a> </li> <li role="presentation" ng-if="!status.show.info || status.show.info.right_vip_host == 1"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickSaveToOther()"> <span class="glyphicon glyphicon-share"></span> 另存{{ ::showTypeNames[status.showType] }}给其他用户 </a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" target="_blank" ng-if="!!status.show.info" ng-href="/#/shows/{{ status.show.info.show_id }}"> <span class="glyphicon glyphicon-dashboard"></span> 查看{{ ::showTypeNames[status.showType] }}的状态 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickCollectImage()"> <span class="glyphicon glyphicon-export"></span> 收集图片 </a> </li> <li role="presentation"> <a ng-show="status.auth.userInfo" role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickExportFullImage()"> <span class="glyphicon glyphicon-picture"></span> 生成长图/PDF </a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-click="onBtnClickCreateImagePaper()"> <span class="glyphicon glyphicon-picture"></span> 生成贴纸图文 </a> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <a role="menuitem" tabindex="-1" href="" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickEnterPatternFragmentMode()"> <span class="glyphicon glyphicon-list-alt"></span> 将本图文设置为样刊 </a> </li> </ul> </div> </div> <div class="tn-op-btn-group" ng-if="status.editorMode == \'pattern.fragment\'"> <button class="btn-img op-btn exit-patternfragment" data-toggle="dropdown" ng-click="onBtnClickExitPatternFragmentMode()" tooltip-placement="bottom" uib-tooltip="回到编辑模式" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">完成</span> </button> </div> '),t.put("/views/app/studio/headbar/opButtonsPaperQidian.html",' <div class="auth-bar"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickSend()"> 保存到企点 </a> </div> <div class="auth-bar"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickPreview()"> 预览 </a> </div> <div class="auth-bar"> <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-disabled="!!status.isSavingShowData" ng-click="onBtnClickSaveFragment()"> 收藏 </a> </div> '),t.put("/views/app/studio/headbar/opButtonsPosterDesign.html",'<div class="tn-op-btn-group"> <button class="btn-img op-btn back" ng-click="onBtnClickFromCanvasBackToMultiPages()" tooltip-placement="bottom" uib-tooltip="完成返回" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">返回</span> </button> <div class="btn-dropdown op-more btn-group" uib-dropdown> <button class="btn-img op-btn more" uib-dropdown-toggle tooltip-placement="right" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">更多</span> </button> <ul uib-dropdown-menu role="menu"> <li role="presentation"> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-disabled="!!status.isCopyMode || !!status.isSavingShowData" ng-click="onBtnClickExportCoverImage()"> <span class="glyphicon glyphicon-picture"></span> 下载图片 </a> </li> </ul></div> </div>'),t.put("/views/app/studio/headbar/opButtonsSinglePage.html",' <div class="tn-op-btn-group"> <button class="btn-img op-btn back" ng-show="!status.isCopyMode && wxAuthors.length === 0" ng-click="onBtnClickBackToMultiPages()" tooltip-placement="bottom" uib-tooltip="回到多页编辑" tooltip-popup-delay="800"> <span class="op-btn-inset-icon"></span> <span class="op-btn-inset-desc">返回</span> </button> </div>'),t.put("/views/app/studio/headbar/wxarticlesSwitchBlock.html",' <div class="target-context-group meta-group text-center clearfix"> <div class="btn-group toggle-btn"> <label class="btn btn-default toggle-off" ng-model="switchType" uib-btn-radio="\'list\'" ng-change="onSwitchChange(switchType)">微信图文列表</label> <label class="btn btn-default toggle-on" ng-model="switchType" uib-btn-radio="\'record\'" ng-change="onSwitchChange(switchType)">群发记录</label> </div> </div> '),t.put("/views/app/studio/headbar/wxAuthBlock.html",' <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-click="onWxSignInClick($event)" ng-show="wxAuthors.length === 0"> 授权设置 </a> <div class="usr-info" uib-dropdown ng-show="wxAuthors.length > 0" ng-cloak> <div class="user-info-toggle" uib-dropdown-toggle ng-click="onLoadSelectwxAuthor()"> <img class="avatar" ng-src="{{ authorThumb() }}" alt="{{ status.auth.userInfo.nickname }}"> </div> <div class="wx-user-panel dropdown-menu" stop-propagation="click mousedown" uib-dropdown-menu> <ul class="list-style-none ul-no-rim text-center"> <li class="add-btn" ng-click="onWxSignInClick()">增加更多授权</li> <select class="form-control auth-select" ng-model="authType.selectedType" ng-show="wxHasWeixin() + wxHasToutiao() + wxHasWeibo() > 1"> <option value="weixin" ng-show="wxHasWeixin()">公众号</option> <option value="weibo" ng-show="wxHasWeibo()">微博</option> </select> <section ng-show="authType.selectedType === \'weixin\'" style="margin-top:16px;"> <li class="separator"> <div style="position: relative;top: -8px;text-align: center"> <span style="background-color:#e8ebf1;">&nbsp;&nbsp;公众号&nbsp;&nbsp;</span> </div> </li> <li ng-show="weixinAuthLength() > 1"> <div style="text-align: right;"> <input style="margin-top: 0.9em;" type="checkbox" ng-model="selectAll[\'weixin\']" ng-change="onSelectAll(\'weixin\')"> <span style="margin-left: 0.3em;">{{ selectAll[\'weixin\'] ? \'取消\' : \'全选\' }}</span> </div> </li> <li ng-repeat="author in wxAuthors" ng-show="author.authType === \'weixin\'"> <img class="wx-thumb" ng-src="{{ author.thumb }}"> <label class="wx-username" ng-bind="author.user"></label> <span class="remove-btn glyphicon glyphicon-trash" ng-click="onBtnClickRemoveAuthor($index)"></span> <input class="wx-user-check" type="checkbox" ng-model="authorConfig.wxSyncAuthorCheck[author.appId]" ng-show="weixinAuthLength() > 1"> </li> <li> <div class="text-right"><a style="cursor: pointer;" ng-click="wxResourceDelete()">批量删除公众号图片</a></div> </li> <li class="separator"></li> <li> <input class="create-new-check" type="checkbox" ng-model="authorConfig.wxSyncArticleUrl" ng-change="authorConfig.wxSyncCreateNewArt = authorConfig.wxSyncArticleUrl || authorConfig.wxSyncCreateNewArt"> <label>同步后显示公众号素材预览链接</label> </li> <li class="create-new-container"> <input class="create-new-check" type="checkbox" ng-model="authorConfig.wxSyncCreateNewArt" ng-change="authorConfig.wxSyncArticleUrl = authorConfig.wxSyncCreateNewArt && authorConfig.wxSyncArticleUrl"> <label>每次同步都新加一个素材</label> </li> <li class="create-comment-container"> <input class="create-new-check" type="checkbox" ng-model="authorConfig.needOpenComment"> <label>留言（公众号需有留言权限）</label> <div class="fans-comment-container" ng-show="authorConfig.needOpenComment"> <input type="radio" ng-model="authorConfig.onlyFansCanComment" value="0" ng-checked="authorConfig.onlyFansCanComment == null"> <label>所有人</label> <input type="radio" ng-model="authorConfig.onlyFansCanComment" value="1"> <label>粉丝才能评论</label> </div> </li> <li class="preview-container"> <div> <input class="preview-check" type="checkbox" ng-model="authorConfig.wxSyncPreview"> <label>同步后预览（公众号需通过微信认证）</label> </div> <input class="preview-users form-control" type="text" placeholder="请输入微信号，用分号分割" ng-model="authorConfig.wxSyncPreviewAudiences"> </li> </section> <section ng-show="authType.selectedType === \'weibo\'" style="margin-top:16px;"> <li class="separator" ng-show="wxHasWeibo()"> <div style="position: relative;top: -8px;text-align: center"> <span style="background-color:#e8ebf1;">&nbsp;&nbsp;微博&nbsp;&nbsp;</span> </div> </li>  <li ng-show="weiboAuthLength() > 1"> <div style="text-align: right;"> <input style="margin-top: 0.9em;" type="checkbox" ng-model="selectAll[\'weibo\']" ng-change="onSelectAll(\'weibo\')"> <span style="margin-left: 0.3em;">{{ selectAll[\'weibo\'] ? \'取消\' : \'全选\' }}</span> </div> </li> <li ng-repeat="author in wxAuthors" ng-show="author.authType === \'weibo\'"> <img class="wx-thumb" ng-src="{{ author.thumb }}"> <label class="wx-username" ng-bind="author.user"></label> <span class="remove-btn glyphicon glyphicon-trash" ng-click="onBtnClickRemoveAuthor($index)"></span> <input class="wx-user-check" type="checkbox" ng-model="authorConfig.wxSyncAuthorCheck[author.appId]" ng-show="weiboAuthLength() > 1"> </li> <li> <a href="http://weibo.com/ttarticle/p/editor" target="blank">打开微博草稿箱</a> </li> </section> </ul> </div> </div> '),t.put("/views/app/studio/headbar/wxpackAuthBlock.html",' <a class="usr-sign-in no-decoration" href="javascript:void(0)" ng-click="onWxSignInClick($event)" ng-show="wxAuthors.length === 0"> 授权公众号 </a> <div class="usr-info" ng-mouseenter="isOnWxUsrInfo = true" ng-mouseleave="isOnWxUsrInfo = false" ng-show="wxAuthors.length > 0" ng-cloak> <span class="usr-sign-in no-decoration"> 同步到公众号 </span> <div class="usr-info-desc wx-usr-info-desc" ng-show="isOnWxUsrInfo"> <div class="wx-user-panel wx-pack-panel"> <ul class="list-style-none ul-no-rim text-center"> <li class="ok-btn" ng-click="articleStatus.artNumNeedRender > 0 || onBtnClickSendWxpack()" ng-bind="articleStatus.artNumNeedRender > 0 ? \'加载中，请稍候\' : \'开始同步\' "></li> <li class="separator" ng-show="wxAuthors.length"></li> <li ng-show="weixinAuthLength() > 1"> <div style="text-align: right;"> <input style="margin-top: 0.9em;" type="checkbox" ng-model="selectAll[\'weixin\']" ng-change="onSelectAll(\'weixin\')"> <span style="margin-left: 0.3em;">{{ selectAll[\'weixin\'] ? \'取消\' : \'全选\' }}</span> </div> </li> <li ng-repeat="author in wxAuthors" ng-show="author.authType === \'weixin\'"> <img class="wx-thumb" ng-src="{{ author.thumb }}"> <label class="wx-username" ng-bind="author.user"></label> <span class="remove-btn glyphicon glyphicon-trash" ng-click="onBtnClickRemoveAuthor($index)"></span> <input class="wx-user-check" type="checkbox" ng-model="authorConfig.wxSyncAuthorCheck[author.appId]" ng-show="weixinAuthLength() > 1"> </li> <li> <div class="text-right"><a style="cursor: pointer;" ng-click="wxResourceDelete()">批量删除公众号图片</a></div> </li> <li class="separator"></li> <li class="create-new-container" ng-hide="true"> <input class="create-new-check" type="checkbox" ng-model="authorConfig.wxSyncOriImg"> <label>使用原图</label> <a class="no-decoration xiumi-normal" href="//v.xiumi.us/board/v5/2a5va/18075900" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </li> <li class="create-comment-container"> <input class="create-new-check" type="checkbox" ng-model="authorConfig.needOpenComment"> <label>留言（需有留言权限）</label> <div class="fans-comment-container" ng-show="authorConfig.needOpenComment"> <input type="radio" ng-model="authorConfig.onlyFansCanComment" value="0" ng-checked="authorConfig.onlyFansCanComment == null"> <label>所有人</label> <input type="radio" ng-model="authorConfig.onlyFansCanComment" value="1"> <label>粉丝才能评论</label> </div> </li> <li class="preview-container"> <div> <input class="preview-check" type="checkbox" ng-model="authorConfig.wxSyncPreview"> <label>同步后预览（仅限认证号）</label> </div> <input class="preview-users form-control" type="text" placeholder="请输入微信号，用分号分割" ng-model="authorConfig.wxSyncPreviewAudiences"> </li> <li class="separator"></li> <li class="add-btn" ng-click="onWxSignInClick()">授权更多公众号</li> </ul> </div> </div> </div> '),t.put("/views/app/studio/home/index.html",'<header class="tn-header"> <nav class="x3-navbar navbar navbar-static-top" role="navigation"> <div class="container-fluid"> <div class="x3-nav-brand navbar-header"> <a class="no-decoration navbar-brand oem-off" href="/"> <img class="logo" alt="秀米XIUMI" title="xiumi.us" src="/images/b80cd8.xiumi_logo_40.png"> </a> <div class="x3-nav-path navbar-left oem-off"> <ol class="breadcrumb"> <li><a href="/" target="_blank">秀米XIUMI</a></li> <li><a ng-href="/#/studio" target="_blank">我的秀米</a></li> <li class="active">选择编辑器</li> </ol> </div> </div> <div class="x3-nav-misc oem-off"> <div class="auth-bar" ui-view="navBarAuthBlock"> auth block </div> </div> </div> </nav> </header> <div class="page-pre-loading-hint text-center"> <h1>秀米XIUMI</h1> <h3>—— 打动你的人群</h3> <br> <h4>&nbsp;</h4> </div> <div class="editor-entries"> <h4>请选择:</h4> <div class="function-card"> <div class="entry thumbnail text-center"> <div class="inner"> <a href="#/paper/for/new"> <img src="/images/app/home/546d8f.hm-btn-paper-add.png" alt="图文排版"> <p class="desc"> 图文排版 </p> </a> </div> </div> </div> <div class="function-card" ng-if="false"> <div class="entry thumbnail text-center"> <div class="inner"> <a href="#/booklet/for/new"> <img src="/images/app/home/f02d1c.hm-btn-booklet-add.png" alt="场景秀"> <p class="desc"> 场景秀 </p> </a> </div> </div> </div> <div class="function-card"> <div class="entry thumbnail text-center"> <div class="inner"> <a href="#/tablet/for/new"> <img src="/images/app/home/f02d1c.hm-btn-booklet-add.png" alt="H5"> <p class="desc"> H5 </p> </a> </div> </div> </div> <div class="function-card"> <div class="entry thumbnail text-center"> <div class="inner"> <a href="#/matrix/for/new"> <img src="/images/app/home/5c7a2d.hm-btn-matrix-add.png" alt="合集"> <p class="desc"> 合集 </p> </a> </div> </div> </div> </div>'),t.put("/views/app/studio/index.html",'<div class="tn-studio-root" ng-dropzone ng-dropzone-options="dropzoneOptions" ng-dropzone-handler="onDropFiles" ng-class="[ \'sidebar-size-\' + sidebarState.size, {\n      \'tn-editor-mode-normal\': status.editorMode == \'normal\',\n      \'tn-editor-mode-copying\': status.editorMode == \'copying\',\n      \'tn-editor-mode-pattern-fragment\': status.editorMode == \'pattern.fragment\' } ]"> <header class="tn-header tn-state-transition-animation" ui-view="header"></header> <div class="desk-surface tn-state-transition-animation" ui-view="deskSurface"></div> <div class="sidebar-panel" stop-propagation="click mousedown" tn-atom-context="{ type: \'booklet\', inEditor: true, onceBinding: true, themeColorOnDomEnabled: true,\n     animationEnabled: false, linkEnabled: false, soundEnabled: false, fontEnable: true, compHandlerEnabled: true }" ng-controller="SideBarController" ng-include="::\'/views/app/studio/sidebar/panel.html\'"> </div> <div class="right-toolbar tn-state-transition-animation" ui-view="rightToolBarPanel" stop-propagation="click mousedown"></div> <div class="viewport-toolbar tn-state-transition-animation" ui-view="viewportToolbarPanel"></div> <div class="tn-help-search-panel" ui-view="helpSearchBarPanel"></div> </div> '),t.put("/views/app/studio/message-box/bodyTypeLink.html",'<div class="message-content"> <span ng-bind="item.body.content" ng-if="!item.body.href"></span> <a class="message-link" target="_blank" ng-if="!!item.body.href" ng-href="{{ item.body.href }}" ng-bind="item.body.content"> </a> </div>'),t.put("/views/app/studio/Op/OpCellAnimation.html",'<div class="op-ce-animation"> <div class="op-ce-animation-tb" tn-attach-to="ceDSlot"> <div class="animation-name btn-group" tn-dropdown is-open="state.isCellAnimTypeListOpen" auto-close="outsideClick" ng-click="onPanelToggle(open)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span ng-bind="inner.animUnitList[0].animItem.name || \'出错了!\'"></span> </button> <section class="op-bar-menu animation-panel" tn-dropdown-menu role="menu"> <uib-tabset justified="true"> <uib-tab index="0" active="state.settingActives[\'cssAnim\']"> <uib-tab-heading> 通用动画 </uib-tab-heading> <div class="tab-panel-content"> <div class="col-xs-12 separator"></div> <div class="form-inline type-selection row anim-copy-btn-panel"> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-green btn-block" ng-disabled="inner.canExtractAnimations == false" ng-click="onAnimateCopy($event)">复制动画 </button> </div> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-red btn-block" ng-disabled="inner.canExtractAnimations == false" ng-click="onAnimateClean($event)">清除动画 </button> </div> </div> <div class="anim-unit-box anim-item-list" ng-hide="inner.shouldShowExtractBtn == false"> <div class="form-horizontal anim-unit-container" ng-repeat="animUnit in inner.animUnitListOfCell  track by $id(animUnit)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animUnit.folded }" ng-click="onFoldArrowClicked(animUnit)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onBtnRemoveClicked(animUnit, true)" ng-hide="$index == 0 && !animUnit.animItem.group"></span> </div> <div class="anim-content" ng-hide="animUnit.folded"> <div class="form-group"> <label class="col-sm-2 control-label">效果</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animItem" ng-change="onAnimItemChange(animUnit,true)" ng-options="animType.name group by animType.group for animType in animTypeList"> </select> </div> </div> <div class="form-group" ng-show="animUnit.animItem.category"> <label class="col-sm-2 control-label">方向</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animCategoryItem" ng-change="onAnimCategoryChange(animUnit,true)" ng-options="anim.name for anim in animUnit.animItem.category"> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">持续</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDuration" ng-blur="onAnimAttrChange(animUnit,true)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">延迟</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDelay" ng-blur="onAnimAttrChange(animUnit,true)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">次数</label> <div class="col-sm-7"> <input class="form-control" ng-disabled="animUnit.animInfinite" ng-model="animUnit.animTimes" ng-blur="onAnimAttrChange(animUnit,true)"> <span class="unit">次</span> </div> <div class="col-sm-3 times-check"> <input type="checkbox" ng-model="animUnit.animInfinite" ng-click="onAnimAttrChange(animUnit,true)"> <label class="control-label">循环</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">速度</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animSpeedItem" ng-change="onAnimAttrChange(animUnit,true)" ng-options="speed.name for speed in animSpeedList"> </select> </div> </div> </div> </div> <button type="button" class="btn btn-glass col-xs-12 col-sm-12 add-btn" ng-click="onBtnAddClicked()">添加动画 </button> </div> </div> </uib-tab> <uib-tab index="1" active="state.settingActives[\'textAnim\']" ng-show="inner.isTextCell == true"> <uib-tab-heading> 文字动画 </uib-tab-heading> <div class="tab-panel-content"> <div class="col-xs-12 separator"></div> <div class="form-inline type-selection row anim-copy-btn-panel"> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-green btn-block" ng-disabled="inner.canExtractTextAnimations == false" ng-click="onAnimateCopy($event)">复制动画 </button> </div> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-red btn-block" ng-disabled="inner.canExtractTextAnimations == false" ng-click="onAnimateClean($event)">清除动画 </button> </div> </div> <div class="anim-unit-box anim-item-list"> <div class="form-horizontal anim-unit-container" ng-repeat="animUnit in inner.animUnitListOfText  track by $id(animUnit)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animUnit.folded }" ng-click="onFoldArrowClicked(animUnit)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onBtnRemoveClicked(animUnit, false)" ng-hide="$index == 0 && !animUnit.animItem.group"></span> </div> <div class="anim-content" ng-hide="animUnit.folded"> <div class="form-group"> <label class="col-sm-2 control-label">效果</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animItem" ng-change="onAnimItemChange(animUnit, false)" ng-options="animType.name group by animType.group for animType in animTextTypeList "> </select> </div> </div> <div class="form-group" ng-hide="true"> <label class="col-sm-2 control-label">持续</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDuration" ng-blur="onAnimAttrChange(animUnit, false)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">间隔</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animPerChar" ng-blur="onAnimAttrChange(animUnit, false)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">延迟</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDelay" ng-blur="onAnimAttrChange(animUnit, false)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">次数</label> <div class="col-sm-7"> <input class="form-control" ng-disabled="animUnit.animInfinite" ng-model="animUnit.animTimes" ng-blur="onAnimAttrChange(animUnit, false)"> <span class="unit">次</span> </div> <div class="col-sm-3 times-check"> <input type="checkbox" ng-model="animUnit.animInfinite" ng-click="onAnimAttrChange(animUnit, false)"> <label class="control-label">循环</label> </div> </div> </div> </div> </div> </div> </uib-tab> <uib-tab index="2" active="state.settingActives[\'animClipboard\']"> <uib-tab-heading> 动画剪贴板 </uib-tab-heading> <div class="tab-panel-content"> <div class="text-left prompt"> <p ng-show="clipboardAnimationList.length"> 点击下面动画以应用 </p> <p ng-show="!clipboardAnimationList.length"> 复制动画后可快速应用 </p> </div> <div class="text-left prompt"> </div> <div class="anim-unit-box anim-clipboard"> <div class="tn-lighting-box" ng-show="inner.isTextCell" ng-repeat="anim in clipboardAnimationList | animationCategoryFilter:\'all\' track by $index"> <div class="anim-unit-container lighting-hover" ng-click="onClipboardAnimationSelect(anim.animate)" ng-switch="anim.animate | hasTextAnimation"> <span ng-switch-when="true" ng-bind="\'文字动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-switch-default ng-bind="\'动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-bind="anim.animate | animationNameDesc"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardAnimationDelete(anim)"></span> </div> <div class="tn-lighting-box" ng-show="!inner.isTextCell" ng-repeat="anim in clipboardAnimationList | animationCategoryFilter:\'css\' track by $index"> <div class="anim-unit-container lighting-hover" ng-click="onClipboardAnimationSelect(anim.animate)" ng-switch="anim.animate | hasTextAnimation"> <span ng-switch-when="true" ng-bind="\'文字动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-switch-default ng-bind="\'动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-bind="anim.animate | animationNameDesc"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardAnimationDelete(anim)"></span> </div> </div> </div> </uib-tab> </uib-tabset> </section> </div> </div> </div> '),t.put("/views/app/studio/Op/OpCellBackgroundRepeat.html",'<div class="ce-op-background-repeat" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="onCropping" ng-click="onClickMask($event)"></div> <div class="crop-box" title="拖动修改位置" ng-show="onCropping && bgSize != \'contain\'" ng-style="{\n        \'left\': locViewPort.left + imageBoxOffsetLeft,\n        \'top\': locViewPort.top + imageBoxOffsetTop,\n        \'width\': imageBoxWidth,\n        \'height\': imageBoxHeight\n       }" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan"> <div class="surface" tn-ui-droppable="cpbgImageDpOpts"> <img ng-src="{{ imageSrc | unsafe }}" ng-if="!!imageSrc" ng-hide="(bgRepeat == \'no-repeat\') && (inner.bgFillMode == \'stretch\')"> <div class="color" ng-if="!!inner.bgColor" ng-style="{ \n                \'background-color\': (inner.isBgGradient ? \'\' : inner.bgColor),\n                \'background-image\': (inner.isBgGradient ? inner.bgColor : \'\')    \n            }" ng-if="!!inner.bgColor"></div> </div> <div class="surface surface-border"></div> <span class="bar handle ne" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle se" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle sw" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSW" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle nw" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNW" stop-propagation="mousedown mouseup click dblclick"></span> </div> <div class="view-port" title="拖动修改位置" ng-show="onCropping" tn-style="locViewPort" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan" ng-style="{\n        \'background-image\': imageSrc ? \'url(\' + imageSrc + \')\' : \'none\',\n        \'background-position\': (bgPosX * 100).toFixed(4) + \'% \' + (bgPosY * 100).toFixed(4) + \'%\',\n        \'background-repeat\': bgRepeat,\n        \'background-size\': bgSize\n       }"> <span class="prompt">从左边选择背景</span> <div class="bg-attr-menu form-group" ng-show="onCropping"> <div class="form-group"> <label class="control-label">背景图</label> <select class="form-control bg-repeat-select" ng-model="inner.bgRepeatItem" ng-change="onRepeatChange()" ng-disabled="!!inner.bgColor" ng-options="repeat.name for repeat in bgRepeatList"> </select> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/16438870" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div class="form-group" ng-show="inner.bgRepeatItem.sizeType == \'cover\'"> <label class="control-label">填充方式</label> <input class="trigger-radio-input" type="radio" value="cover" ng-model="inner.bgFillMode" ng-change="onBgdFillModeChanged()">覆盖 <input class="trigger-radio-input" type="radio" value="stretch" ng-model="inner.bgFillMode" ng-change="onBgdFillModeChanged()">拉伸 </div> <div class="form-group scale-size" ng-show="inner.canChangeBgdImgSize"> <div>尺寸</div> <div class="indent"> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="50" ng-model="inner.bgdImgSize" ng-change="onBgdImgSizeChanged()">50 像素 </label> <label class="pull-right"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="100" ng-model="inner.bgdImgSize" ng-change="onBgdImgSizeChanged()">100 像素 </label> </div> <div class="indent"> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="200" ng-model="inner.bgdImgSize" ng-change="onBgdImgSizeChanged()">200 像素 </label> <label class="pull-right"> <input class="trigger-radio-input ng-pristine ng-untouched ng-valid ng-not-empty" type="radio" value="400" ng-model="inner.bgdImgSize" ng-change="onBgdImgSizeChanged()">400 像素 </label> </div> <div class="indent"> <label class="pull-left"> <input class="trigger-radio-input ng-pristine ng-valid ng-not-empty ng-touched" type="radio" value="origin" ng-model="inner.bgdImgSize" ng-change="onBgdImgSizeChanged()">原尺寸 </label> </div> </div> <div style="text-align:justify"> <p>背景图文件高度不能超过4000，否则安卓手机会无法显示</p> </div> <div class="form-group" ng-if="false"> <input type="checkbox" class="bg-attach-check" ng-model="inner.bgFixed" ng-click="onAttachChange()"> <label class="control-label">悬浮背景</label> </div> </div> </div> </div> <div class="op-ce-bg-bar" tn-attach-to="ceDSlot" ng-switch="bgMode" ng-show="showOp"> <span class="bg-image" ng-switch-when="image"> <span class="tn-color-circle" ng-click="onClickCrop()"> <span class="face" ng-style="{\n        \'background-image\': imageSrc ? \'url(\' + imageSrc + \')\' : \'none\',\n        \'background-position\': (bgPosX * 100).toFixed(4) + \'% \' + (bgPosY * 100).toFixed(4) + \'%\',\n        \'background-repeat\': bgRepeat,\n        \'background-size\': bgSize\n        }"> </span> </span> </span> <span class="bg-color" ng-switch-when="color"> <span tn-color-selector="inner.bgColor" is-open="state.isBgColorOpen" on-color-choose="onBgColorChoose(color)" on-color-changing="onBgColorChanging(color)" on-color-choose-cancel="onBgColorChooseCancel()" support-color-category="[\'solid\', \'gradient\']"></span> </span> <div class="btn-group" tn-dropdown is-open="state.isBgModeOpen"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle ng-show="bgModeChangeable"> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onBgModeSelect(\'image\')"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: bgMode == \'image\' ? 1 : 0 }"></span> <span>背景图</span> </a> </li> <li> <a ng-click="onBgModeSelect(\'color\')"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: bgMode == \'color\' ? 1 : 0 }"></span> <span>背景色</span> </a> </li> <li> <a ng-click="onBgClear()"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: 0 }"></span> <span>清除背景</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCellBgColor.html",'<div class="ce-op-background"> <div class="op-background-sec bg-color" tn-attach-to="ceDSlotBgColor" tn-color-selector="inner.bgColor" is-open="state.isBgColorOpen" on-color-choose="onBgColorChoose(color)"> </div> </div> '),t.put("/views/app/studio/Op/OpCellBorderStyle.html",'<div class="op-ce-border" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isBorderStylePanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 边框 </button> <section class="op-bar-menu" tn-dropdown-menu role="menu"> <select class="form-control form-group menu-style-input" ng-model="borderSideSelect.selected" ng-options="side.display for side in borderSideSelect.sides" ng-change="onBorderSideChanged()" ng-cloak> </select> <div class="form-horizontal"> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-3 control-label">样式</label> <div class="col-sm-9"> <select class="form-control menu-style-input" ng-options="style.displayName for style in borderStyleSelect.styles" ng-change="onBorderStyleChanged()" ng-model="borderStyleSelect.selected" ng-cloak> </select> </div> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">尺寸</label> <div class="col-sm-0" ng-if="false"> <span ui-slider="borderWidthSlider.options" use-decimals ng-model="borderWidthSlider.value"></span> </div> <div class="col-sm-9"> <input class="form-control" type="text" ng-model="borderWidthSlider.value" tn-number-input step="1" precision="1" min="0" skim-change="onBorderPropertyValueSkimChange()" skim-end="onBorderPropertyValueChangedDone()" tn-text-input-done="onBorderPropertyValueChangedDone()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-if="cellType != \'table-cell\'"> <label class="col-sm-3 control-label">弧度</label> <div class="col-sm-9" ng-if="false"> <span ui-slider="borderRadiusSlider.options" use-decimals ng-model="borderRadiusSlider.value"></span> </div> <div class="col-sm-9"> <input class="form-control" type="text" ng-model="borderRadiusSlider.value" tn-number-input step="1" precision="1" min="0" skim-change="onBorderPropertyValueSkimChange()" skim-end="onBorderPropertyValueChangedDone()" tn-text-input-done="onBorderPropertyValueChangedDone()"> <select class="form-control unit-select" ng-model="borderUnitSelect.radiusUnitSelected" ng-options="unit.display for unit in borderUnitSelect.units" ng-change="onBorderRadiusUnitChanged()" ng-cloak></select> </div> </div> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-3 control-label">颜色</label> <div class="col-sm-3"> <span class="op-theme-color-sec" tn-color-selector="borderColor.color" non-dropdown="true" on-color-choose="onBorderColorChoose(color)" on-color-changing="onBorderColorChanging(color)" on-color-choose-cancel="onBorderColorChooseCancel()" is-container-open="status.isBorderStylePanelOpen"> </span> </div> </div> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellBox.html",'<div class="op-ce-box" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isBoxPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 容器 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">内空间</label> <div class="col-sm-5"> <span ui-slider="paddingSlider.options" use-decimals ng-model="paddingSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" ng-model="paddingSlider.value" ng-blur="onPaddingValueChanged()"> <span class="unit">px</span> </div> </div> </li> <li role="separator" class="divider" ng-if="false"></li> <li class="form-horizontal" ng-if="false"> <div class="form-group"> <label class="col-sm-3 control-label">边框尺寸</label> <div class="col-sm-5"> <span ui-slider="borderWidthSlider.options" use-decimals ng-model="borderWidthSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" ng-model="borderWidthSlider.value" ng-blur="onBorderWidthChanged()"> <span class="unit">px</span> </div> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellClassicTableColumnWidth.html",' <div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">宽度</label> <input class="form-control scale-input" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-disabled="inner.range.neiborIdx == -1" ng-model="inner.width" title="{{inner.tipRange}}" ng-blur="onWidthInputBlur($event)" ng-keydown="onWidthInputKeyDown($event)"> <span class="unit">%</span> </div>'),t.put("/views/app/studio/Op/OpCellClassicTableGrid.html",'<div class="op-ce-classic-table-grid" tn-attach-to="ceDSlot"> <div class="table-grid" tn-dropdown is-open="status.isTableBuilderPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="glyphicon glyphicon-th"></span> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation menuitem-level"> <a class="text-center" href="">快速创建表格 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">行数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.rowNumbers" ng-blur="onRowNumberChanged()" ng-keydown="onRowNumberKeyDown($event)"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">列数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.columnNumbers" ng-blur="onColumnNumberChanged()" ng-keydown="onColumnNumberKeyDown($event)"> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyQuickTable()"> 生成表格 </button> </div> </div> </div> </section> </li> <li> </li> <li class="divider"></li> <li class="presentation" ng-if="false"> <a class="text-center" href="" ng-click="onInsertRowAbove()"> <img class="op-menu-icon" src="" alt="向上插入1行"> 向上插入行 </a> </li> <li class="presentation menuitem-level"> <a class="text-center" href=""> <img class="op-menu-icon" src="/images/app/studio/44ac69.table-add-row-bottom.png" alt="向下插入1行"> 向下插入行 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel" style="width:200px"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">行数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.insertRowBelow.rowNumbers" ng-blur="onInsertRowBelow_rowNumbersChanged()" ng-keydown="onInsertRowBelow_rowNumbersKeyDown($event)"> </div> </div> <div class="form-group"> <div class="col-sm-12 text-left"> <label> <input type="checkbox" ng-model="inner.insertRowBelow.includeContent">插入时复制 </label> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyInsertRowBelow()"> 向下插入 </button> </div> </div> </div> </section> </li> <li class="presentation" ng-if="false"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }" ng-click="onInsertColToLeft()"> <img class="op-menu-icon" src="" alt="向左插入1列"> 向左插入1列 </a> </li> <li class="presentation menuitem-level"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }"> <img class="op-menu-icon" src="/images/app/studio/5c6c83.table-add-col-right.png" alt="向右插入1列"> 向右插入列 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel" style="width:200px"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">列数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.insertColumnRight.ColumnNumbers" ng-blur="onInsertColumnRight_ColNumbersChanged()" ng-keydown="onInsertColumnRight_ColNumbersKeyDown($event)"> </div> </div> <div class="form-group"> <div class="col-sm-12 text-left"> <label> <input type="checkbox" ng-model="inner.insertColumnRight.includeContent">插入时复制 </label> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyInsertColumnsToRight()"> 向右插入 </button> </div> </div> </div> </section> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: inner.rowCount <= 1 || inner.rowIndex == -1 }" ng-click="onDeleteCurrentRow()"> <img class="op-menu-icon" src="/images/app/studio/71e2ff.table-delete-row.png" alt="删除当前行"> 删除当前行 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount <= 1 || inner.colIndex == -1 }" ng-click="onDeleteCurrentCol()"> <img class="op-menu-icon" src="/images/app/studio/55e72f.table-delete-col.png" alt="删除当前列"> 删除当前列 </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellClassicTableMerge.html",'<div class="op-ce-classic-table-merge" tn-attach-to="ceDSlot"> <div class="cell-layout-table-merge" tn-dropdown is-open="status.isTableMergePanelOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <image class="op-bar-item-icon" src="/images/app/studio/18ddad.table-cell-merge.png" alt="合并单元格"> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: !inner.canMergeRight}" ng-click="onMergeColRight()"> <img class="op-menu-icon" src="/images/app/studio/2bf382.table-cell-merge-right.png" alt="向右合并列"> 向右合并 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: !inner.canMergeRight}" ng-click="onMergeRightColToEnd()"> <img class="op-menu-icon" src="/images/app/studio/cfdd50.table-cell-merge-right-to-end.png" alt="向右全部合并"> 向右全部合并 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: !inner.canMergeDown }" ng-click="onMergeRowBelow()"> <img class="op-menu-icon" src="/images/app/studio/b74d85.table-cell-merge-bottom.png" alt="向下合并行"> 向下合并 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: !inner.canMergeDown }" ng-click="onMergeRowBelowToEnd()"> <img class="op-menu-icon" src="/images/app/studio/3a9cf3.table-cell-merge-down-to-bottom.png" alt="向下全部合并"> 向下全部合并 </a> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: !inner.canUnMerge}" ng-click="onUnMergeCol()"> <img class="op-menu-icon" src="/images/app/studio/9eb8dc.table-cell-unmerge.png" alt="向右合并列"> 分解单元格 </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellClassicTableQuick.html",'<div class="op-ce-layout-quick-table" tn-attach-to="ceDSlot"> <div class="cell-layout-quick-table btn-group" tn-dropdown is-open="status.isQuickTablePanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="glyphicon glyphicon-th"></span> </button> <section class="op-bar-menu quick-table-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">行数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" min="1" max="20" class="form-control" ng-model="inner.rowNumbers" ng-blur="onRowNumberChanged()" ng-keydown="onRowNumberKeyDown($event)"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">列数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" min="1" max="20" class="form-control" ng-model="inner.columnNumbers" ng-blur="onColumnNumberChanged()" ng-keydown="onColumnNumberKeyDown($event)"> </div> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellClassicTableStyleBrush.html",'<div class="op-ce-classic-table-style-brush" tn-attach-to="ceDSlot"> <div class="table-style-brush" tn-dropdown is-open="status.isTableStyleBrushOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <img class="op-bar-item-icon" src="/images/app/studio/fb571b.dsk-op-attr-bar-btn-table-brush.png" alt="表格单元样式"> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyColumnStyleToRightward()"> <img class="op-menu-icon" src="/images/app/studio/1828e1.table-brush-cell-rightward.png" alt="向右应用格式"> 向右应用格式 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyColumnStyleToDownward()"> <img class="op-menu-icon" src="/images/app/studio/e59302.table-brush-cell-downward.png" alt="向下应用格式"> 向下应用格式 </a> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyRowStyleSequential()"> <img class="op-menu-icon" src="/images/app/studio/c5ed20.table-brush-row-seq-downward.png" alt="向下逐行应用"> 向下逐行应用 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyRowStyleInterlacing()"> <img class="op-menu-icon" src="/images/app/studio/058de0.table-brush-row-int-downward.png" alt="向下隔行应用"> 向下隔行应用 </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCellClassicTableWidth.html",' <div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">宽度</label> <input class="form-control scale-input" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-model="inner.width" ng-blur="onWidthInputBlur($event)" ng-keydown="onWidthInputKeyDown($event)"> <span class="unit">%</span> </div>'),t.put("/views/app/studio/Op/OpCellCropImageCrop.html",'<div class="op-ce-cropimage-crop" stop-propagation="mousedown mouseup click dblclick" ng-show="showOP"> <div class="op-dark-mask" ng-show="onCropping" ng-click="onClickMask($event)"></div> <div class="crop-box" title="拖动修改位置" ng-show="onCropping" ng-style="{\n        \'left\': locViewPort.left + imageBoxOffsetLeft,\n        \'top\': locViewPort.top + imageBoxOffsetTop,\n        \'width\': imageBoxWidth,\n        \'height\': imageBoxHeight\n       }" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan"> <div class="surface"> <img ng-src="{{ imageSrc | unsafe }}"> </div> <span class="bar handle ne" title="拖拽改变大小" ng-hide="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle se" title="拖拽改变大小" ng-hide="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle sw" title="拖拽改变大小" ng-hide="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSW" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle nw" title="拖拽改变大小" ng-hide="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNW" stop-propagation="mousedown mouseup click dblclick"></span> </div> <div class="view-port" title="拖动修改位置" ng-show="onCropping" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan" ng-style="{\n        \'left\': locViewPort.left + locViewPortOffset.left,\n        \'top\': locViewPort.top + locViewPortOffset.top,\n        \'width\': locViewPort.width + locViewPortOffset.width,\n        \'height\': locViewPort.height + locViewPortOffset.height,\n        \'background-image\': \'url(\' + imageSrc + \')\',\n        \'background-position\': (bgPosX * 100).toFixed(4) + \'% \' + (bgPosY * 100).toFixed(4) + \'%\',\n        \'background-repeat\': bgRepeat,\n        \'background-size\': (bgSizeX * 100).toFixed(4) + \'% \' + (bgSizeY * 100).toFixed(4) + \'%\'\n       }"> <div class="surface" ng-show="changeViewPort"></div> <span class="bar handle ne" title="拖拽改变大小" ng-show="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle se" title="拖拽改变大小" ng-show="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle sw" title="拖拽改变大小" ng-show="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSW" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle nw" title="拖拽改变大小" ng-show="changeViewPort" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNW" stop-propagation="mousedown mouseup click dblclick"></span> </div> </div> <div class="op-ce-cropimage-crop-bar" tn-attach-to="ceDSlot" ng-show="showOP"> <button class="btn btn-success op-bar-btn" ng-click="onClickCrop()"> 裁剪 </button> </div>'),t.put("/views/app/studio/Op/OpCellDebug.html",'<div class="op-debug-panel cell"> <div class="inner"> <section ng-repeat="item in debug"> {{ item.name }}: <pre>{{ item.value | json }}</pre> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellFontSizeScale.html",'<div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">缩放</label> <input class="form-control scale-input" ng-model="inner.scale" ng-blur="onScaleInputBlur($event)" ng-keydown="onScaleInputKeyDown($event)"> <span class="unit">%</span> </div>'),t.put("/views/app/studio/Op/OpCellFormInputCheckbox.html",'<div class="op-ce-form-input" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="state.isInputCheckboxPanelOpen" auto-close="outsideClick" on-toggle="toggled(state.isInputCheckboxPanelOpen)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 设置 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" style="width:380px" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-xs-2 control-label">名称</label> <div class="col-xs-5"> <input class="form-control" type="text" ng-model="inputColumn.caption" placeholder="请命名" ng-blur="onColumnCaptionChangedDone($event)"> </div> <div class="col-xs-2 form-input-panel"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event)"> 格式 </button> </div> <div class="col-xs-2 form-input-panel"> <label class="control-label" style="padding: 0px;"> <input type="checkbox" ng-model="inputColumn.required" ng-click="onAllowedNull($event)">必填</label> </div> </div> </li> <li role="presentation" class="divider"></li> <li class="form-horizontal"> <div class="tn-input-sortable-group text-center" ui-sortable="inputSortableOpts" ng-model="inputColumn.options"> <div class="tn-input-sortable-item form-group" ng-repeat="opt in inputColumn.options track by $index"> <div class="col-xs-2" style="padding-right:0px;margin-top:6px"> <span class="glyphicon glyphicon-menu-hamburger drag-sort-icon"></span> </div> <div class="col-xs-6" style="padding-right:0px"> <input class="form-control" type="text" placeholder="选项{{$index}}" ng-model="opt.name"> </div> <div class="col-xs-2" style="padding-right:0px"> <div class="cell-layout-box btn-group"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event, opt)"> 格式 </button> </div> </div> <div class="col-xs-2" style="margin-top: 6px;padding-left:0;"> <span class="bar-item remove glyphicon glyphicon-trash" style="cursor: pointer;color: white;" ng-click="onBtnClickRemoveOption($event, opt)"> </span> </div> </div> </div> <div class="form-group"> <button type="button" class="btn btn-green col-sm-10 col-sm-offset-1 add-btn" ng-click="onBtnAddOptionClicked()">增加选项</button> </div> </li> <li role="presentation" class="divider"></li> <li class="form-horizontal"> <div class="form-group"> <label class="col-xs-2 control-label">每行</label> <input class="col-xs-3 form-control" type="number" min="1" max="6" step="1" style="width:50px" ng-model="inputColumn.optionsPerRow" ng-blur="onColumnOptionsPerRowChangedDone($event)"> <label class="col-xs-2 control-label" style="text-align:left; padding-left:6px">个选项</label> </div> </li> </ul> </div> <div class="layout-box-panel dropdown-menu option-style-panel" ng-if="state.isInputCheckboxItemPanelOpen" style="width: 280px;" ng-click="$event.stopPropagation()"> <ul class="option-style-list"> <li class="form-horizontal"> <div class="op-text-sec font-family clearfix" title="字体" uib-dropdown is-open="state.isFontFamilyOpen"> <span class="col-sm-4">字体</span> <button class="btn btn-success op-bar-btn text-misc-toggle col-sm-8" type="button" uib-dropdown-toggle> <span ng-class="(\'stc-family-name-yzk-\' + inner.tnYzkFontItem.fontId)" ng-bind="inner.tnYzkFontItem.name"></span> <span class="caret"></span> </button> <ul class="font-family-menu font-family-list op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="ff in ::fontFamilies track by $index" title="{{ ::ff.name }}"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </li> <li class="form-horizontal clearfix"> <span class="col-sm-4">字号</span> <div class="op-text-sec font-size btn-group col-sm-8" title="字号" uib-dropdown is-open="state.isSizeListOpen"> <input class="form-control size-input" type="text" ng-model="inner.fontSize" ng-keydown="onFontSizeKeyDown($event)" ng-blur="onFontSizeBlur()"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" uib-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="size-list-menu op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="sz in ::sizes"> <a class="item" ng-bind="::sz" ng-click="onSizeListSelected($index)"></a> </li> </ul> </div> </li> <li class="form-horizontal"> <div class="op-text-sec clearfix"> <span class="col-sm-4">文字颜色</span> <div class="text-color col-sm-8" title="文字颜色" tn-color-selector="inner.textColor" is-open="state.isTextForeColorOpen" on-color-choose="onTextForeColorChoose(color)" used-in-text="true" style="display: inline;"> </div> </div> </li> <li class="form-horizontal"> <div class="op-text-sec text-style clearfix"> <span class="col-sm-4">文字风格</span> <div class="col-sm-8"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.bold }" ng-click="onTextStyleSelected(\'bold\')" title="粗体"> <b>B</b> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.italic }" ng-click="onTextStyleSelected(\'italic\')" title="斜体"> <i>I</i> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textUnderline }" ng-click="onTextUnderlineSelected()" title="下划线"> <span class="text-underline">U</span> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStrikethrough }" ng-click="onTextStrikethroughSelected()" title="删除线"> <span class="text-linethrough">AB</span> </button> </div> </div> </li> <li class="form-horizontal clearfix"> <div class="col-sm-12 text-center"> <button class="btn btn-green" ng-click="onCommitItemStyle($event)"> 确定 </button> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellFormInputMultiLineText.html",'<div class="op-ce-form-input" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isInputMultiLineTextPanelOpen" auto-close="outsideClick" on-toggle="onToggled(status.isInputMultiLineTextPanelOpen)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 设置 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" style="width:340px" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">名称</label> <div class="col-sm-7"> <input class="form-control" type="text" ng-model="inputColumn.caption" placeholder="请命名" ng-blur="onColumnCaptionChangedDone($event)"> </div> <div class="col-sm-3 form-input-panel"> <label class="control-label"> <input type="checkbox" ng-model="inputColumn.required" ng-click="onAllowedNull($event)">必填</label> </div> </div> <div class="form-group" ng-hide="false"> <label class="col-sm-2 control-label">行数</label> <div class="col-sm-7"> <input class="form-control" type="text" ng-model="inputColumn.rows" tn-number-input step="1" precision="1" min="3" max="100" skim-change="onColumnRowsSkimChange()" skim-end="onColumnRowsChanged()" tn-text-input-done="onColumnRowsChanged()"> </div> <div class="col-sm-3"></div> </div> <div class="form-group" ng-hide="false"> <label class="col-sm-2 control-label">颜色</label> <div class="col-sm-10"> <span class="color" tn-color-selector="inputColumn.textColor" non-dropdown="true" on-color-choose="onTextColorChoose(color)" is-container-open="status.isInputMultiLineTextPanelOpen"> </span> </div> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellFormInputRadio.html",'<div class="op-ce-form-input" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="state.isInputRadioPanelOpen" auto-close="outsideClick" on-toggle="toggled(state.isInputRadioPanelOpen)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 设置 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" style="width:340px" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-xs-2 control-label">名称</label> <div class="col-xs-5"> <input class="form-control" type="text" ng-model="inputColumn.caption" placeholder="请命名" ng-blur="onColumnCaptionChangedDone($event)"> </div> <div class="col-xs-2 form-input-panel"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event)"> 格式 </button> </div> <div class="col-xs-2 form-input-panel"> <label class="control-label" style="padding: 0px;"> <input type="checkbox" ng-model="inputColumn.required" ng-click="onAllowedNull($event)">必填</label> </div> </div> </li> <li role="presentation" class="divider"></li> <li class="form-horizontal"> <div class="tn-input-sortable-group text-center" ui-sortable="inputSortableOpts" ng-model="inputColumn.options"> <div class="tn-input-sortable-item form-group" ng-repeat="opt in inputColumn.options track by $index"> <div class="col-xs-2" style="padding-right:0px;margin-top:6px"> <span class="glyphicon glyphicon-menu-hamburger drag-sort-icon"></span> </div> <div class="col-xs-6" style="padding-right:0px"> <input class="form-control" type="text" placeholder="选项{{$index}}" ng-model="opt.name"> </div> <div class="col-xs-2" style="padding-right:0px"> <div class="cell-layout-box btn-group"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event, opt)"> 格式 </button> </div> </div> <div class="col-xs-2" style="margin-top: 6px;padding-left:0;"> <span class="bar-item remove glyphicon glyphicon-trash" style="cursor: pointer;color: white;" ng-click="onBtnClickRemoveOption($event, opt)"> </span> </div> </div> </div> <div class="form-group"> <button type="button" class="btn btn-green col-sm-10 col-sm-offset-1 add-btn" ng-click="onBtnAddOptionClicked()">增加选项</button> </div> </li> <li role="presentation" class="divider"></li> <li class="form-horizontal"> <div class="form-group"> <label class="col-xs-2 control-label">每行</label> <input class="col-xs-3 form-control" type="number" min="1" max="6" step="1" style="width:50px" ng-model="inputColumn.optionsPerRow" ng-blur="onColumnOptionsPerRowChangedDone($event)"> <label class="col-xs-2 control-label" style="text-align:left; padding-left:6px">个选项</label> </div> </li> </ul> </div> <div class="layout-box-panel dropdown-menu option-style-panel" ng-if="state.isInputRadioItemPanelOpen" style="width: 280px;" ng-click="$event.stopPropagation()"> <ul class="option-style-list"> <li class="form-horizontal"> <div class="op-text-sec font-family clearfix" title="字体" uib-dropdown is-open="state.isFontFamilyOpen"> <span class="col-sm-4">字体</span> <button class="btn btn-success op-bar-btn text-misc-toggle col-sm-8" type="button" uib-dropdown-toggle> <span ng-class="(\'stc-family-name-yzk-\' + inner.tnYzkFontItem.fontId)" ng-bind="inner.tnYzkFontItem.name"></span> <span class="caret"></span> </button> <ul class="font-family-menu font-family-list op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="ff in ::fontFamilies track by $index" title="{{ ::ff.name }}"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </li> <li class="form-horizontal clearfix"> <span class="col-sm-4">字号</span> <div class="op-text-sec font-size btn-group col-sm-8" title="字号" uib-dropdown is-open="state.isSizeListOpen"> <input class="form-control size-input" type="text" ng-model="inner.fontSize" ng-keydown="onFontSizeKeyDown($event)" ng-blur="onFontSizeBlur()"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" uib-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="size-list-menu op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="sz in ::sizes"> <a class="item" ng-bind="::sz" ng-click="onSizeListSelected($index)"></a> </li> </ul> </div> </li> <li class="form-horizontal"> <div class="op-text-sec clearfix"> <span class="col-sm-4">文字颜色</span> <div class="text-color col-sm-8" title="文字颜色" tn-color-selector="inner.textColor" is-open="state.isInputRadioColorPanelOpen" on-color-choose="onTextForeColorChoose(color)" used-in-text="true" style="display: inline;"> </div> </div> </li> <li class="form-horizontal"> <div class="op-text-sec text-style clearfix"> <span class="col-sm-4">文字风格</span> <div class="col-sm-8"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.bold }" ng-click="onTextStyleSelected(\'bold\')" title="粗体"> <b>B</b> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.italic }" ng-click="onTextStyleSelected(\'italic\')" title="斜体"> <i>I</i> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textUnderline }" ng-click="onTextUnderlineSelected()" title="下划线"> <span class="text-underline">U</span> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStrikethrough }" ng-click="onTextStrikethroughSelected()" title="删除线"> <span class="text-linethrough">AB</span> </button> </div> </div> </li> <li class="form-horizontal clearfix"> <div class="col-sm-12 text-center"> <button class="btn btn-green" ng-click="onCommitItemStyle($event)"> 确定 </button> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellFormInputSelect.html",'<div class="op-ce-form-input" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="state.isInputSelectPanelOpen" auto-close="outsideClick" on-toggle="toggled(state.isInputSelectPanelOpen)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 设置 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" style="width:340px" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">名称</label> <div class="col-sm-5"> <input class="form-control" type="text" ng-model="inputSelect.caption" placeholder="请命名" ng-blur="onInputSelectCaptionChangedDone($event)"> </div> <div class="col-sm-2 form-input-panel" style="padding: 3px 0"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event)" ng-if="false"> 格式 </button> </div> <div class="col-sm-2 form-input-panel" style="padding: 3px 0"> <label class="control-label" style="padding: 0px;"> <input type="checkbox" ng-model="inputSelect.required" ng-click="onAllowedNull($event)">必填</label> </div> </div> </li> <li role="presentation" class="divider" ng-if="false"></li> <li class="form-horizontal" ng-if="false"> <div class="form-group"> <label class="col-sm-2 control-label">默认</label> <div class="col-sm-10"> <select class="form-control" ng-model="inputSelect.defaultOption" ng-change="onDefaultOptionChanged()"> <option value="{{inputSelect.placeHolder}}" ng-bind="inputSelect.placeHolder"></option> <option value="{{opt.name}}" ng-repeat="opt in inputSelect.options">{{opt.name}}</option> </select> </div> </div> </li> <li role="presentation" class="divider"></li> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">提示</label> <div class="col-sm-10"> <input class="form-control" type="text" ng-model="inputSelect.placeHolder" placeholder="下拉框显示内容" ng-blur="onInputSelectPlaceHolderChangedDone($event)"> </div> </div> </li> <li role="presentation" class="divider" ng-if="false"></li> <li class="form-horizontal"> <div class="tn-input-sortable-group text-center" ui-sortable="inputSortableOpts" ng-model="inputSelect.options"> <div class="tn-input-sortable-item form-group" ng-repeat="opt in inputSelect.options track by $index"> <div class="col-sm-2" style="padding-right:0px;margin-top:6px"> <span class="glyphicon glyphicon-menu-hamburger drag-sort-icon"></span> </div> <div class="col-sm-6" style="padding-right:0px"> <input class="form-control" type="text" placeholder="选项{{$index}}" ng-model="opt.name"> </div> <div class="col-sm-2" style="padding-right:0px"> <div class="cell-layout-box btn-group" ng-if="false"> <button class="btn btn-green op-bar-btn" ng-click="setItemStyle($event, opt)"> 格式 </button> </div> </div> <div class="col-sm-2" style="margin-top: 6px;padding-left:0;"> <span class="bar-item remove glyphicon glyphicon-trash" style="cursor: pointer;color: white;" ng-click="onBtnClickRemoveOption($event, opt)"> </span> </div> </div> </div> <div class="form-group"> <button type="button" class="btn btn-green col-sm-10 col-sm-offset-1 add-btn" ng-click="onBtnAddOptionClicked($event)">增加选项</button> </div> </li> </ul> </div> <div class="layout-box-panel dropdown-menu option-style-panel" ng-if="state.isInputSelectItemPanelOpen" style="width: 280px;" ng-click="$event.stopPropagation()"> <ul class="option-style-list"> <li class="form-horizontal"> <div class="op-text-sec font-family clearfix" title="字体" uib-dropdown is-open="state.isFontFamilyOpen"> <span class="col-sm-4">字体</span> <button class="btn btn-success op-bar-btn text-misc-toggle col-sm-8" type="button" uib-dropdown-toggle> <span ng-class="(\'stc-family-name-yzk-\' + inner.tnYzkFontItem.fontId)" ng-bind="inner.tnYzkFontItem.name"></span> <span class="caret"></span> </button> <ul class="font-family-menu font-family-list op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="ff in ::fontFamilies track by $index" title="{{ ::ff.name }}"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </li> <li class="form-horizontal clearfix"> <span class="col-sm-4">字号</span> <div class="op-text-sec font-size btn-group col-sm-8" title="字号" uib-dropdown is-open="state.isSizeListOpen"> <input class="form-control size-input" type="text" ng-model="inner.fontSize" ng-keydown="onFontSizeKeyDown($event)" ng-blur="onFontSizeBlur()"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" uib-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="size-list-menu op-bar-menu" uib-dropdown-menu role="menu"> <li ng-repeat="sz in ::sizes"> <a class="item" ng-bind="::sz" ng-click="onSizeListSelected($index)"></a> </li> </ul> </div> </li> <li class="form-horizontal"> <div class="op-text-sec clearfix"> <span class="col-sm-4">文字颜色</span> <div class="text-color col-sm-8" title="文字颜色" tn-color-selector="inner.textColor" is-open="state.isInputSelectColorPanelOpen" on-color-choose="onTextForeColorChoose(color)" used-in-text="true" style="display: inline;"> </div> </div> </li> <li class="form-horizontal"> <div class="op-text-sec text-style clearfix"> <span class="col-sm-4">文字风格</span> <div class="col-sm-8"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.bold }" ng-click="onTextStyleSelected(\'bold\')" title="粗体"> <b>B</b> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.italic }" ng-click="onTextStyleSelected(\'italic\')" title="斜体"> <i>I</i> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textUnderline }" ng-click="onTextUnderlineSelected()" title="下划线"> <span class="text-underline">U</span> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStrikethrough }" ng-click="onTextStrikethroughSelected()" title="删除线"> <span class="text-linethrough">AB</span> </button> </div> </div> </li> <li class="form-horizontal clearfix"> <div class="col-sm-12 text-center"> <button class="btn btn-green" ng-click="onCommitItemStyle($event)"> 确定 </button> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellFormInputText.html",'<div class="op-ce-form-input" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isInputTextPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 设置 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" style="width:340px" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">名称</label> <div class="col-sm-7"> <input class="form-control" type="text" ng-model="inputColumn.caption" placeholder="请命名" ng-blur="onColumnCaptionChangedDone($event)"> </div> <div class="col-sm-3 form-input-panel"> <label class="control-label"> <input type="checkbox" ng-model="inputColumn.required" ng-click="onAllowedNull($event)">必填</label> </div> </div> <div class="form-group"> <div class="col-sm-2 control-label">类型</div> <div class="col-sm-10"> <select class="form-control" ng-model="inputColumn.selectedInputType" ng-options="x.text for x in inputTypes" ng-change="onInputTypeChanged()" ng-cloak> </select> </div> </div> <div class="col-sm-offset-1 form-input-panel" style="margin-bottom: 15px;margin-top: 0px;" ng-hide="true"> <label class="checkbox-inline"><input type="radio" name="formInputType" ng-model="inputTextType.textType" value="text" ng-change="onInputTextTypeChanged()">文本</label> <label class="checkbox-inline"><input type="radio" name="formInputType" ng-model="inputTextType.textType" value="tel" ng-change="onInputTextTypeChanged()">电话</label> <label class="checkbox-inline"><input type="radio" name="formInputType" ng-model="inputTextType.textType" value="email" ng-change="onInputTextTypeChanged()">Email</label> </div> <div class="form-group" ng-hide="false"> <label class="col-sm-2 control-label">颜色</label> <div class="col-sm-10"> <span class="color" tn-color-selector="inputColumn.textColor" non-dropdown="true" on-color-choose="onTextColorChoose(color)" is-container-open="status.isInputTextPanelOpen"> </span> </div> </div> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCellFrozen.html",'<div class="op-ce-frozen" tn-attach-to="ceDSlotToggle" ng-switch="isFrozen"> <div ng-switch-when="true"> <span class="tn-color-light-gray v-align-middle">不可编辑</span> <button class="btn btn-success op-bar-btn v-align-middle" title="冻结/解冻 | {{ ::shortcutKey(\'CellFrozenToggle\') }}" ng-click="onToggleFrozen($event)"> <span class="glyphicon glyphicon-ok-sign"></span>解冻 </button> </div> <button class="btn btn-success op-bar-btn" title="冻结/解冻 | {{ ::shortcutKey(\'CellFrozenToggle\') }}" ng-click="onToggleFrozen($event)" ng-switch-when="false"> <span class="glyphicon glyphicon-remove-sign"></span>冻结 </button> </div>'),t.put("/views/app/studio/Op/OpCellHeight.html",'<div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">高度</label> <input class="form-control scale-input" ng-model="inner.height" type="number" min="0" step="10" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-blur="onHeightInputBlur($event)" ng-keyup="onHeightInputKeyUp($event)"> <span class="unit">像素</span> </div>'),t.put("/views/app/studio/Op/OpCellImageAnimation.html",'<div class="op-ce-image-animation" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isPanelOpen" auto-close="disabled"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 动画 </button> <div class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mouseup mousedown"> <div class="form-group" style="margin-bottom: 0px;"> <label class="first-label">动画触发</label> <label> <input type="radio" value="click" ng-model="animation.trigger" ng-change="onAnimationChanged()">点击 </label> <label> <input type="radio" value="auto" ng-model="animation.trigger" ng-change="onAnimationChanged()">自动 </label> <label> <input type="radio" value="none" ng-model="animation.trigger" ng-change="onAnimationChanged()">不触发 </label> </div> <div class="segment-container" ng-repeat="segment in animation.segments track by $id(segment)"> <div class="segment-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !segment.folded }" ng-click="onFoldArrowClicked(segment)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onRemoveSegment(segment)" ng-hide="$index == 0"></span> </div> <div class="segment-content" ng-hide="segment.folded"> <div class="form-group"> <label class="control-label">动画类别</label> <div> <select class="form-control menu-style-input" ng-options="category for category in animationOptions.categories" ng-change="onAnimationChanged()" ng-model="segment.selectedCategory" ng-cloak> </select> </div> </div> <div class="form-group" ng-hide="segment.selectedOrientation.length == 0"> <label class="control-label">动画方向</label> <div> <select class="form-control menu-style-input" ng-options="orientation for orientation in animationOptions.orientations" ng-change="onAnimationChanged()" ng-model="segment.selectedOrientation" ng-cloak> </select> </div> </div> <div class="form-group"> <label class="control-label">动画时长</label> <div> <input class="form-control" type="number" step="0.01" min="0" max="100" ng-model="segment.dur" ng-blur="onAnimationChanged()"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="control-label">动画延迟</label> <div> <input class="form-control" type="number" step="0.01" min="0" max="100" ng-model="segment.delay" ng-blur="onAnimationChanged()"> <span class="unit">秒</span> </div> </div> <div class="form-group" ng-show="animationOptions.repeatableAnimationList.indexOf(segment.selectedCategory) >= 0"> <label class="control-label">动画重复</label> <div> <input class="form-control" type="checkbox" ng-model="segment.repeat" ng-click="onAnimationChanged()"> </div> </div> </div> </div> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellImageCrop.html",'<div class="op-ce-image-crop" stop-propagation="mousedown mouseup clock dblclick"> <div class="op-dark-mask" ng-show="onCropping" ng-click="onClickMask($event)"> </div> <div class="crop-panel" ng-show="onCropping" ng-style="{\'left\': \'0px\', \'top\': locViewPort.top, \'width\': \'374px\'}"> <div class="surface"> <img class="crop-image" ng-src="{{ imageSrc }}" tn-img-crop="cropOpts" on-crop-changed="onCropChanged(left, top, width, height)"> </div> </div> <div class="crop-attr-menu" ng-show="onCropping" ng-style="{\'top\': locViewPort.top, \'left\': \'374px\'}"> <div class="attr-txt text-center">外链图片不支持</div> <form class="form-inline crop-ratio-form"> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="free" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 自由 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="1_1" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 1 : 1 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="4_3" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 4 : 3 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="3_4" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 3 : 4 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="3_2" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 3 : 2 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="2_3" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 2 : 3 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="16_9" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 16 : 9 </label> </div> <div class="form-group checkbox"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="radio" value="9_16" ng-model="ratio.entry" ng-change="onCropRatioChanged(ratio.entry)" ng-disabled="!!ratio.forceAspectRatio"> 9 : 16 </label> </div> <div class="form-group checkbox preset-ratio"> <label class="crop-ratio-item"> <input class="trigger-radio-input text-right" type="radio" value="assigned" ng-model="ratio.entry" ng-change="onCropRatioChanged(\'\' + ratio.x + \'_\' + ratio.y)" ng-disabled="!!ratio.forceAspectRatio"> 比例 <input type="text" class="form-control preset-ratio-w" ng-model="ratio.x" tn-text-input-done="onCropRatioChanged(\'\' + ratio.x + \'_\' + ratio.y)" ng-disabled="!!ratio.forceAspectRatio"> : <input type="text" class="form-control preset-ratio-h" ng-model="ratio.y" tn-text-input-done="onCropRatioChanged(\'\' + ratio.x + \'_\' + ratio.y)" ng-disabled="!!ratio.forceAspectRatio"> </label> </div> <div class="form-group checkbox force-aspect-ratio"> <label class="crop-ratio-item"> <input class="trigger-radio-input" type="checkbox" ng-model="ratio.forceAspectRatio" ng-change="onForceAspectRatioChanged(ratio.forceAspectRatio)"> 锁定当前比例 </label> </div> </form> <div class="confirm-button-group text-center"> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickApplyCrop($event)"> 确认 </button> <button class="btn btn-success op-bar-btn attr-btn" style="margin-left: 8px;" ng-click="onClickResetCrop($event)"> 重置 </button> </div> </div> </div> <div class="op-ce-image-crop-bar" tn-attach-to="ceDSlot" ng-show="showOP"> <button class="btn btn-success op-bar-btn" ng-click="onClickCropArea()"> 裁剪 </button> </div>'),t.put("/views/app/studio/Op/OpCellImageDesign.html",'<div class="op-ce-image-design" tn-attach-to="ceDSlot"> <button class="btn btn-primary op-bar-btn" ng-click="onBtnDesignImage()"> 设计 </button> <div class="btn-group" tn-dropdown is-open="state.isDesignMenuOpen" ng-show="status.hasMetaData"> <button class="btn btn-select-mode op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu insert-text-op-bar-panel" tn-dropdown-menu role="menu"> <li class="presentation"> <a class="text-center" href="" ng-click="onCopyToCover($event)"> <span>复制到封面</span> </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onClearMetaData($event)"> <span>清除设计</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCellImageEnhancement.html",'<div class="op-ce-image-enhancement-bar" tn-attach-to="ceDSlot" ng-show="showOP"> <button type="button" class="btn btn-success op-bar-btn" ng-click="onShowPanel(true)"> 增强 </button> </div> <div class="op-ce-image-enhancement" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="status.isPanelOpen" ng-click="onShowPanel(false)"> </div> <div class="enhancement-panel" ng-show="status.isPanelOpen" ng-style="{ \'left\': \'0px\', \'top\': status.locViewPort.top, \'width\': \'374px\' }"> <div class="surface"> <img class="enhance-image" ng-src="{{ inner.image || \'//:0\' }}"> </div> </div> <section class="enhance-attr-menu" ng-show="status.isPanelOpen" ng-style="{ \'top\': status.locViewPort.top, \'left\': \'374px\' }"> <ul> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">模糊</label> <div class="col-sm-5 slider-ctrl"> <span ui-slider="inner.blurSlider.options" use-decimals ng-model="inner.blurSlider.value"></span> </div> <div class="col-sm-4 slider-input"> <input class="form-control" type="number" min="0" max="100" ng-model="inner.blurSlider.value"> </div> </div> </li> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">亮度</label> <div class="col-sm-5 slider-ctrl"> <span ui-slider="inner.brightSlider.options" use-decimals ng-model="inner.brightSlider.value"></span> </div> <div class="col-sm-4 slider-input"> <input class="form-control" type="number" min="0" max="100" ng-model="inner.brightSlider.value"> </div> </div> </li> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">对比度</label> <div class="col-sm-5 slider-ctrl"> <span ui-slider="inner.contrastSlider.options" use-decimals ng-model="inner.contrastSlider.value"></span> </div> <div class="col-sm-4 slider-input"> <input class="form-control" type="number" min="0" max="100" ng-model="inner.contrastSlider.value"> </div> </div> </li> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">锐化</label> <div class="col-sm-5 slider-ctrl"> <span ui-slider="inner.sharpenSlider.options" use-decimals ng-model="inner.sharpenSlider.value"></span> </div> <div class="col-sm-4 slider-input"> <input class="form-control" type="number" min="0" max="100" ng-model="inner.sharpenSlider.value"> </div> </div> </li> <li class="form-horizontal" ng-show="inner.resizeOpt.isAllowed"> <div class="form-group"> <label class="col-sm-4 control-label"> 图片压缩 <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/231744811" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </label> <div class="col-sm-8 select-ctrl"> <select class="form-control menu-style-input" ng-options="candidate.displayName for candidate in inner.resizeOpt.width.candidates" ng-change="inner.resizeOpt.onChange(\'width\')" ng-model="inner.resizeOpt.width.selection"> </select> </div> </div> </li> <li class="form-horizontal" ng-show="inner.popupOpt.isAllowed"> <div class="form-group"> <label class="col-sm-4 control-label" style="padding-top: 0px;"> 点击放大 <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/231749690" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </label> <div class="col-sm-8 radio-ctrl"> <label style="float:left;"> <input class="trigger-radio-input" type="radio" value="1" ng-model="inner.popupOpt.enable">允许 </label> <label> <input class="trigger-radio-input" type="radio" value="0" ng-model="inner.popupOpt.enable">禁止 </label> </div> </div> </li> <li class="form-horizontal" style="margin-top: 25px;"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="applyEnhancement()">确认</button> <button class="btn btn-success op-bar-btn" style="margin-left: 28px;" ng-click="resetEnhancement()">重置</button> </div> </li> </ul> </section> </div>'),t.put("/views/app/studio/Op/OpCellImageForLayoutDatum.html",'<div class="op-ce-image-for-layout-datum" tn-attach-to="ceDSlot"> <div> <button class="btn btn-success op-bar-btn" ng-click="onClicApplyToLayoutDatum()"> 以本图为布局基准 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCellImagePopup.html",'<div class="op-ce-image-popup-bar" tn-attach-to="ceDSlot" ng-show="showOP"> <button type="button" class="btn btn-success op-bar-btn" ng-click="onShowPanel(true)"> 适应点击放大 </button> </div> <div class="op-ce-image-popup" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="status.isPanelOpen" ng-click="onShowPanel(false)"> </div> <div class="popup-panel" ng-show="status.isPanelOpen" ng-style="{ \'left\': status.locViewPort.left, \'top\': status.locViewPort.top, \'width\': status.locViewPort.width, \'height\': status.locViewPort.height }"> <div class="surface" style="background-color: transparent;"> <img class="enhance-image" style="position: initial; max-width: 100%;" ng-src="{{ inner.image || \'//:0\' }}" ng-style="{ width: status.locViewPort.innerImg.width, transform: \'scale(\' + (inner.scale.x / 100.0) + \', \' + (inner.scale.y / 100.0) + \')\', transformOrigin: inner.scale.transformOrigin }"> </div> </div> <section class="enhance-attr-menu" style="width: 200px;" ng-show="status.isPanelOpen" ng-style="{ \'top\': status.locViewPort.top, \'left\': status.locViewPort.left + status.locViewPort.width }"> <ul> <li class="form-horizontal"> <div class="form-group scale-opt" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">缩放 <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/340671948" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </label> <div class="col-sm-8 btn-group container"> <label ng-if="false">宽</label> <div ng-if="false" class="scale-width"> <input class="form-control" placeholder="宽度" type="number" min="1" max="100" step="1" ng-model="inner.scale.x"> <span class="unit">%</span> </div> <label>高</label> <div class="scale-width"> <input class="form-control" placeholder="高度" type="number" min="1" max="100" step="1" ng-model="inner.scale.y"> <span class="unit">%</span> </div> </div> </div> </li> <li class="form-horizontal"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="applyPopup()">确认</button> <button class="btn btn-success op-bar-btn" style="margin-left: 28px;" ng-click="resetPopup()">重置</button> </div> </li> </ul> </section> </div>'),t.put("/views/app/studio/Op/OpCellImageSrc.html",'<div class="op-ce-image-src"> </div> <div class="op-ce-image-png-size-out" ng-show="false"> <div class="op-ce-image-png-size" tn-attach-to="cePngSizeDSlot"> <div class="btn-group" tn-dropdown> <button type="button" class="btn op-bar-btn" tn-dropdown-toggle> <span>PNG:</span> <span ng-switch="imageInfo.imageProc.arguments.resize.w" title="解决图片变白底问题"> <span ng-switch-when="50">50</span> <span ng-switch-when="100">100</span> <span ng-switch-when="200">200</span> <span ng-switch-when="400">400</span> <span ng-switch-default>原尺寸</span> </span> </button> <ul class="dropdown-menu op-bar-menu" tn-dropdown-menu role="menu"> <li role="menuitem"><a href="" ng-click="onPngSizeChange(50)">宽：50 像素</a></li> <li role="menuitem"><a href="" ng-click="onPngSizeChange(100)">宽：100 像素</a></li> <li role="menuitem"><a href="" ng-click="onPngSizeChange(200)">宽：200 像素</a></li> <li role="menuitem"><a href="" ng-click="onPngSizeChange(400)">宽：400 像素</a></li> <li role="menuitem"><a href="" ng-click="onPngSizeChange(null)">宽：原尺寸</a></li> <li class="divider"></li> <li role="menuitem"><a href="https://v.xiumi.us/board/v5/2a5va/122831281" target="_blank">如何解决图片白底问题</a></li> </ul> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellImageStrawColor.html",'<div class="op-ce-image-straw" tn-attach-to="cpDSlot"> <button class="btn btn-success op-bar-btn" ng-click="onStrawImageColor()"> 取色 </button> </div>'),t.put("/views/app/studio/Op/OpCellImageSVGClip.html",'<div class="op-ce-image-svg-clip" stop-propagation="mousedown mouseup click dblclick" ng-show="onLocating"> <div class="op-transparent-mask" ng-click="onEndLocateClipPosition()"></div> <div class="resizing-box" ng-style="contentLocation"> <div class="content-container" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan"> <img ng-src="{{ contentImageSrc | optimizeImageType }}" alt=""> </div> <span class="bar handle ne" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNE"></span> <span class="bar handle se" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSE"></span> <span class="bar handle sw" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSW"></span> <span class="bar handle nw" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNW"></span> </div> </div> <div class="op-ce-image-svg-clip-bar" tn-attach-to="ceDSlot" ng-show="isSVGClipBox"> <button class="btn btn-success op-bar-btn" ng-click="onBeginLocateClipPosition()"> 裁剪 </button> </div>'),t.put("/views/app/studio/Op/OpCellLayoutColumn.html",'<div class="op-ce-layout-column" tn-attach-to="ceDSlot" ng-show="!!ceDSlot"> <div class="cell-layout-column" tn-dropdown is-open="status.isColumnPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="glyphicon glyphicon-th-list"></span> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation menuitem-level"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }"> <img class="op-menu-icon" src="/images/app/studio/5c6c83.table-add-col-right.png" alt="向右插入列"> 向右插入列 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel" style="width:200px"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">列数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.insertColumnRight.ColumnNumbers" ng-blur="onInsertColumnRight_ColNumbersChanged()" ng-keydown="onInsertColumnRight_ColNumbersKeyDown($event)"> </div> </div> <div class="form-group"> <div class="col-sm-12 text-left"> <label> <input type="checkbox" ng-model="inner.insertColumnRight.includeContent">插入时复制 </label> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyInsertColumnsToRight()"> 向右插入 </button> </div> </div> </div> </section> </li> <li class="presentation menuitem-level"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }"> <img class="op-menu-icon" style="transform: rotateY(180deg);" src="/images/app/studio/5c6c83.table-add-col-right.png" alt="向左插入列"> 向左插入列 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel" style="width:200px"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">列数</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" class="form-control" ng-model="inner.insertColumnLeft.ColumnNumbers" ng-blur="onInsertColumnLeft_ColNumbersChanged()" ng-keydown="onInsertColumnLeft_ColNumbersKeyDown($event)"> </div> </div> <div class="form-group"> <div class="col-sm-12 text-left"> <label> <input type="checkbox" ng-model="inner.insertColumnLeft.includeContent">插入时复制 </label> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyInsertColumnsToLeft()"> 向左插入 </button> </div> </div> </div> </section> </li> <li class="divider"></li> <li class="presentation"> <a href="" ng-class="{ disabled: inner.columnCount <= 1 }" ng-click="onDeleteCurrentCol()"> <img class="op-menu-icon" src="/images/app/studio/55e72f.table-delete-col.png" alt="删除当前列"> 删除当前列 </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutFixedAspectRatio.html",'<div class="op-ce-layout-fixed-aspect-ratio form-inline" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isPanelOpen" auto-close="outsideClick"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" tn-dropdown-toggle> <span>宽高比</span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu"> <li> <div class="form-group col-sm-12"> <div> <input class="form-control ratio-num" style="width: 4em;" type="number" ng-model="inner.aspectRatio.width" ng-blur="onSettingBlur(\'aspectRatio\')" ng-keydown="onSettingKeydown($event, \'aspectRatio\')"> <span>&nbsp;:&nbsp;</span> <input class="form-control ratio-num" style="width: 4em;" type="number" ng-model="inner.aspectRatio.height" ng-blur="onSettingBlur(\'aspectRatio\')" ng-keydown="onSettingKeydown($event, \'aspectRatio\')"> </div> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutFree.html",'<div class="op-ce-layout-free" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 编辑 </button> <div class="aspect-ratio-option" ng-hide="true"> <label class="control-label">宽高比&nbsp;</label> <input class="form-control" type="number" step="1" min="1" max="10000" ng-model="status.layoutAspectRatio.width" ng-blur="onLayoutAspectRatioChanged()" ng-keyup="onLayoutAspectRatioKeyUp($event)"> <label> : </label> <input class="form-control" type="number" step="1" min="1" max="10000" ng-model="status.layoutAspectRatio.height" ng-blur="onLayoutAspectRatioChanged()" ng-keyup="onLayoutAspectRatioKeyUp($event)"> </div> <div class="btn-group dropdown aspect-ratio-selection" tn-dropdown="" is-open="state.isInsertModeOpen" ng-hide="true"> <button class="btn btn-select-mode op-bar-btn dropdown-toggle" type="button" tn-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu insert-text-op-bar-panel dropdown-menu" tn-dropdown-menu="" role="menu"> <li> <a ng-click="onAspectRatioSelect(\'1_1\')"> <span>1 : 1</span> </a> </li> <li> <a ng-click="onAspectRatioSelect(\'4_3\')"> <span>4 : 3</span> </a> </li> <li> <a ng-click="onAspectRatioSelect(\'16_9\')"> <span>16 : 9</span> </a> </li> <li> <a ng-click="onAspectRatioSelect(\'47_20\')"> <span>47 : 20</span> </a> </li> </ul> </div> <section class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutHidden.html",'<div class="op-ce-layout-hidden" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isLayoutHiddenPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 动画 </button> <section class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown" tabindex="-1" ng-keydown="onPanelKeydown($event)"> <div ng-if="status.enableGeneralOption" class="form-horizontal general-animation-option"> <label>基础设置</label> <div> <label class="control-label">宽高比&nbsp;</label> <input class="form-control" ng-style="{ color: status.animationCanvas.auto ? \'darkgray\' : \'\' }" ng-disabled="status.animationCanvas.auto" type="number" step="1" min="1" max="10000" ng-model="status.animationCanvas.width" ng-blur="onGeneralAnimationPropChanged(\'canvas\')" ng-keyup="onGeneralAnimationPropKeyUp($event, \'canvas\')"> <label> : </label> <input class="form-control" ng-style="{ color: status.animationCanvas.auto ? \'darkgray\' : \'\' }" ng-disabled="status.animationCanvas.auto" type="number" step="1" min="1" max="10000" ng-model="status.animationCanvas.height" ng-blur="onGeneralAnimationPropChanged(\'canvas\')" ng-keyup="onGeneralAnimationPropKeyUp($event, \'canvas\')"> <input type="checkbox" ng-model="status.animationCanvas.auto" ng-click="onGeneralAnimationPropChanged(\'canvas\')">自动 </div> <div style="margin-top: 10px;" ng-show="status.hasExpandAnimation"> <label class="control-label">固定宽&nbsp;</label> <input class="form-control" ng-style="{ color: status.layoutFullWidth ? \'darkgray\' : \'\' }" ng-disabled="status.layoutFullWidth" type="number" step="1" min="0" max="640" ng-model="status.layoutFixedWidth" ng-blur="onLayoutWidthChanged()" ng-keyup="onLayoutWidthKeyUp($event)"> <label>px</label> <input type="checkbox" ng-model="status.layoutFullWidth" ng-click="onLayoutWidthChanged()" style="vertical-align: bottom;">全宽 <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/266913477" target="_blank" style="color: white;"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </div> </div> <div ui-sortable="maskAnimationsSortableOpts" ng-model="status.maskAnimations"> <div class="form-horizontal mask-animation-panel" ng-repeat="maskAnimation in status.maskAnimations track by $id(maskAnimation)"> <div class="wrapper" stop-propagation="click mousedown"> <div style="display: inline-block;" ng-hide="(maskAnimation.animationItems.length == 1) && ((maskAnimation.animationItems[0].selectedCategory == \'展开\') || (maskAnimation.animationItems[0].selectedCategory == \'收缩\'))"> <ul class="nav nav-tabs ng-scope"> <li role="presentation" ng-class="(maskAnimation.mask.maskType == \'text\') ? \'active\' : \'\'" ng-click="onMaskTypeToggle(\'text\', $index)" ng-cloak><a>文字</a></li> <li role="presentation" ng-class="(maskAnimation.mask.maskType == \'image\') ? \'active\' : \'\'" ng-click="onMaskTypeToggle(\'image\', $index)" ng-cloak><a>图片</a></li> <li role="presentation" ng-class="{ \'active\': (maskAnimation.mask.maskType == \'triggerArea\'), \'disable-interaction\': ((maskAnimation.animationTrigger == \'auto\') && (maskAnimation.animationTouchThrough != \'through\')) }" ng-click="onMaskTypeToggle(\'triggerArea\', $index)" ng-cloak><a>{{ maskAnimation.animationTouchThrough == \'through\' ? \'穿透区\' : \'触发区\' }}</a></li> </ul> <div class="form-group mask-content-panel" ng-show="maskAnimation.mask.maskType == \'image\'"> <div class="img-content" ng-click="onMaskContentClicked(\'image\', $index)" ng-class="(status.activatedMaskAnimationIdx == $index) ? \'active-content\' : \'normal-content\'" ng-style="{ \'background-color\': maskAnimation.animationCurtainColor, \'width\': status.previeViewSize.width, \'height\': status.previewSize.height }" ng-bind-html="maskAnimation.animationPreview.htmlForImage | unsafe" tn-move-handler-content="maskAnimation.animationPreview.htmlForImage" tn-move-handler="maskAnimation.mask.maskImage.pos" move-area-size="status.previewSize" on-content-moved="onMaskContentMoved(args, $index)" stop-propagation="click mousedown mouseup" tabindex="-1" ng-keydown="onImgContentKeydown($event, $index)" ng-cloak> </div> <div> <label class="img-label">(从图库选择图片，删除键清除)</label> </div> <div class="position-content-opt"> <div class="col-sm-6"> <label class="control-label">横向</label> <input class="form-control" type="number" auto-focus-on="mousedown" step="1" min="0" max="100" ng-disabled="maskAnimation.mask.maskImage.preserveAspectRatio == \'xMidYMid slice\'" ng-model="maskAnimation.mask.maskImage.slidePos.x" ng-blur="onMaskContentPositionChanged(\'image\', $index)" ng-keyup="onMaskContentPositionKeyUp(\'image\', $event, $index)"> </div> <div class="col-sm-6 second-div"> <label class="control-label">纵向</label> <input class="form-control" type="number" auto-focus-on="mousedown" step="1" min="0" max="100" ng-disabled="maskAnimation.mask.maskImage.preserveAspectRatio == \'xMidYMid slice\'" ng-model="maskAnimation.mask.maskImage.slidePos.y" ng-blur="onMaskContentPositionChanged(\'image\', $index)" ng-keyup="onMaskContentPositionKeyUp(\'image\', $event, $index)"> </div> </div> <div class="txt-content-opt"> <label class="col-sm-4 control-label">图片区域</label> <div class="col-sm-8 trigger-type-panel"> <label class="pull-left first-label"> <input class="trigger-radio-input" type="radio" value="xMidYMid meet" ng-model="maskAnimation.mask.maskImage.preserveAspectRatio" ng-change="onMaskAnimationPropChanged($index, \'preserve-aspect-ratio\')">包含 <input class="trigger-radio-input" type="radio" value="xMidYMid slice" ng-model="maskAnimation.mask.maskImage.preserveAspectRatio" ng-change="onMaskAnimationPropChanged($index, \'preserve-aspect-ratio\')">覆盖 </label> </div> </div> </div> <div class="form-group mask-content-panel" ng-show="maskAnimation.mask.maskType == \'text\'"> <div class="text-content" ng-click="onMaskContentClicked(\'text\', $index)" ng-class="(status.activatedMaskAnimationIdx == $index) ? \'active-content\' : \'normal-content\'" ng-style="{ \'background-color\': maskAnimation.animationCurtainColor, \'width\': status.previeViewSize.width, \'height\': status.previewSize.height }" ng-bind-html="maskAnimation.animationPreview.htmlForText | unsafe" tn-move-handler-content="maskAnimation.animationPreview.htmlForText" tn-move-handler="maskAnimation.mask.maskText.pos" move-area-size="status.movableSize" on-content-moved="onMaskContentMoved(args, $index)" stop-propagation="click mousedown mouseup" ng-cloak> </div> <div class="position-content-opt"> <div class="col-sm-6"> <label class="control-label">横向</label> <input class="form-control" type="number" auto-focus-on="mousedown" step="1" min="0" max="100" ng-model="maskAnimation.mask.maskText.slidePos.x" ng-blur="onMaskContentPositionChanged(\'text\', $index)" ng-keyup="onMaskContentPositionKeyUp(\'text\', $event, $index)"> </div> <div class="col-sm-6 second-div"> <label class="control-label">纵向</label> <input class="form-control" type="number" auto-focus-on="mousedown" step="1" min="0" max="100" ng-model="maskAnimation.mask.maskText.slidePos.y" ng-blur="onMaskContentPositionChanged(\'text\', $index)" ng-keyup="onMaskContentPositionKeyUp(\'text\', $event, $index)"> </div> </div> <div class="txt-content-opt"> <label class="col-sm-4 control-label">文字内容 </label> <div class="col-sm-8"> <input class="form-control" type="text" auto-focus-on="mousedown" ng-model="maskAnimation.mask.maskText.content" ng-blur="onMaskAnimationPropChanged($index, \'text\')" ng-keyup="onKeyUp($event, $index, \'text\')"> </div> </div> <div class="txt-content-opt"> <label class="col-sm-4 control-label">文字粗细</label> <div class="col-sm-8"> <input class="form-control" type="number" auto-focus-on="mousedown" min="0" max="100" ng-model="maskAnimation.mask.maskText.bold" ng-blur="onMaskAnimationPropChanged($index)" ng-keyup="onKeyUp($event, $index)"> <span class="unit">像素</span> </div> </div> <div class="txt-content-opt"> <label class="col-sm-4 control-label">文字大小</label> <div class="col-sm-8"> <input class="form-control" type="number" auto-focus-on="mousedown" min="1" max="1000" ng-model="maskAnimation.mask.maskText.size" ng-blur="onMaskAnimationPropChanged($index)" ng-keyup="onKeyUp($event, $index)"> <span class="unit">像素</span> </div> </div> <div class="txt-content-opt"> <label class="col-sm-4 control-label">文字颜色</label> <div class="col-sm-8" style="text-align: left;"> <span class="op-theme-color-sec" tn-color-selector="maskAnimation.mask.maskText.color" non-dropdown="true" on-color-choose="onMaskAnimationPropChanged($index)" is-container-open="status.isLayoutHiddenPanelOpen"> </span> </div> </div> </div> <div ng-class="{ \'disable-interaction\': ((maskAnimation.animationTrigger == \'auto\') && (maskAnimation.animationTouchThrough != \'through\')) }" class="form-group mask-content-panel" ng-show="maskAnimation.mask.maskType == \'triggerArea\'"> <div class="trigger-area" ng-click="onMaskContentClicked(\'triggerArea\', $index)" ng-class="(status.activatedMaskAnimationIdx == $index) ? \'active-content\' : \'normal-content\'" ng-style="{ \'background-color\': maskAnimation.animationCurtainColor, \'width\': status.previeViewSize.width, \'height\': status.previewSize.height }" ng-bind-html="maskAnimation.animationPreview.htmlForTriggerArea | unsafe" tn-move-handler-content="maskAnimation.animationPreview.htmlForTriggerArea" tn-move-handler="maskAnimation.mask.triggerArea.pos" move-area-size="status.previewSize" on-content-moved="onMaskContentMoved(args, $index)" stop-propagation="click mousedown mouseup" ng-cloak> </div> <div class="txt-content-opt" ng-hide="maskAnimation.animationTouchThrough == \'through\'"> <label class="col-sm-7 control-label">非触发区不穿透</label> <input class="col-sm-1" type="checkbox" ng-model="maskAnimation.mask.triggerArea.noActionInNonTriggerArea"> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">背景颜色</label> <div class="col-sm-3"> <span class="op-theme-color-sec" tn-color-selector="maskAnimation.animationCurtainColor" non-dropdown="true" on-color-choose="onMaskAnimationPropChanged($index)" is-container-open="status.isLayoutHiddenPanelOpen"> </span> </div> </div> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">点击穿透</label> <div class="col-sm-8 trigger-type-panel"> <label class="pull-left first-label"> <input class="trigger-radio-input" type="radio" value="through" ng-model="maskAnimation.animationTouchThrough" ng-change="onMaskAnimationPropChanged($index, \'touchThrough\')">开启 </label> <label class="pull-left"> <input class="trigger-radio-input" type="radio" value="notThrough" ng-model="maskAnimation.animationTouchThrough" ng-change="onMaskAnimationPropChanged($index, \'touchThrough\')">关闭 </label> <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/231750943" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </div> </div> </div> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">动画触发</label> <div class="col-sm-8"> <select ng-model="maskAnimation.animationTrigger" ng-change="onMaskAnimationPropChanged($index, \'trigger\', null, \'{{maskAnimation.animationTrigger}}\')" tyle="width: auto;" class="form-control"> <option value="click">点击</option> <option value="auto">自动</option> <option value="press">长按</option> </select> </div> <div class="col-sm-offset-4 col-sm-8 trigger-type-panel"> <select ng-show="maskAnimation.animationTrigger == \'press\'" style="padding-right: 6px;" class="form-control" ng-change="onMaskAnimationPropChanged($index, \'trigger\')" ng-model="maskAnimation.animationLoosenTriggerAction" ng-cloak> <option value="stop">松开后停止</option> <option value="revert">松开后回退</option> <option value="continue">松开后继续</option> </select> </div> </div> <div class="form-group help-tip" ng-show="(maskAnimation.animationTrigger == \'auto\') && ($index > 0) && (status.maskAnimations[$index - 1].animationTrigger != \'auto\')"> <a href="https://b.xiumi.us/board/v5/2a5va/324149986" target="_blank">点击后如何添加自动触发动画</a> </div> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">动画次序</label> <div class="col-sm-8 trigger-type-panel" ng-if="$index == 0"> <label class="pull-left first-label"> <input class="trigger-radio-input" type="radio" value="sequence" ng-model="maskAnimation.animationOrder" ng-change="onMaskAnimationPropChanged($index, \'order\')">顺序 </label> <label class="pull-left"> <input class="trigger-radio-input" type="radio" value="free" ng-model="maskAnimation.animationOrder" ng-change="onMaskAnimationPropChanged($index, \'order\')">自由 </label> </div> <div class="col-sm-8 trigger-type-panel" ng-if="$index > 0"> <label class="pull-left" style="margin-top: 5px;margin-bottom: 10px;">{{ (maskAnimation.animationOrder == \'free\') ? \'自由\' : \'顺序\' }}</label> </div> </div> <div class="anim-unit-container" ng-repeat="animationItem in maskAnimation.animationItems track by $id(animationItem)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animationItem.folded }" ng-click="onFoldArrowClicked(animationItem)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onRemoveAnimationItem(maskAnimation, animationItem)"></span> </div> <div class="anim-content" ng-hide="animationItem.folded"> <div class="form-group"> <label class="col-sm-4 control-label">动画类别</label> <div class="col-sm-8"> <select class="form-control menu-style-input" ng-options="category for category in status.animationCategoryList" ng-change="onAnimationItemChanged(animationItem, \'category\', maskAnimation, \'{{animationItem.selectedCategory}}\')" ng-model="animationItem.selectedCategory" ng-cloak> </select> </div> </div> <div class="form-group tip" ng-show="(animationItem.selectedCategory == \'打开\') || (animationItem.selectedCategory == \'掉落\')"> (该动画只支持图文同步方式) </div> <div class="form-group" ng-show="animationItem.selectedCategory == \'收缩\'"> <label class="col-sm-4 control-label">收缩至</label> <div class="col-sm-8"> <input class="form-control" type="number" auto-focus-on="mousedown" step="0.01" min="0" max="100" ng-model="animationItem.contractTo" ng-blur="onAnimationItemChanged(animationItem)"> <span class="unit">%</span> </div> </div> <div class="form-group" ng-hide="animationItem.selectedOrientation.length == 0"> <label class="col-sm-4 control-label">动画方向</label> <div class="col-sm-8"> <select ng-hide="(animationItem.selectedCategory == \'打开\')||animationItem.selectedCategory == \'掉落\'" class="form-control menu-style-input" ng-options="orientation for orientation in status.animationOrientationList.common" ng-change="onAnimationItemChanged(animationItem)" ng-model="animationItem.selectedOrientation" ng-cloak> </select> <select ng-show="animationItem.selectedCategory == \'打开\'" class="form-control menu-style-input" ng-options="orientation for orientation in status.animationOrientationList.split" ng-change="onAnimationItemChanged(animationItem)" ng-model="animationItem.selectedOrientation" ng-cloak> </select> <select ng-show="animationItem.selectedCategory == \'掉落\'" class="form-control menu-style-input" ng-options="orientation for orientation in status.animationOrientationList.fallOut" ng-change="onAnimationItemChanged(animationItem)" ng-model="animationItem.selectedOrientation" ng-cloak> </select> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">动画时长</label> <div class="col-sm-8"> <input class="form-control" type="number" auto-focus-on="mousedown" step="0.01" min="0" max="100" ng-model="animationItem.dur" ng-blur="onAnimationItemChanged(animationItem, \'duration\')"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">动画延迟</label> <div class="col-sm-8"> <input class="form-control" type="number" auto-focus-on="mousedown" step="0.01" min="0" max="100" ng-model="animationItem.delay" ng-blur="onAnimationItemChanged(animationItem)"> <span class="unit">秒</span> </div> </div> <div class="form-group" ng-show="status.repeatableAnimationList.indexOf(animationItem.selectedCategory) >= 0"> <label class="col-sm-5 control-label">动画重复</label> <input class="col-sm-1" type="checkbox" ng-model="animationItem.repeat" ng-click="onAnimationItemChanged(animationItem)"> </div> </div> </div> <button ng-disabled="maskAnimation.animationItems.length >= status.animationItemMaxCount" type="button" class="btn btn-green add-btn" ng-click="onAddAnimationItem(maskAnimation)">添加动画</button> </div> <div class="add-mask-animation"> <div class="glyphicon glyphicon-plus glyphicon-btn" ng-click="onMaskAnimationAdded($index)" stop-propagation="click mousedown" title="新增"></div> <div class="glyphicon glyphicon-duplicate glyphicon-btn" ng-click="onMaskAnimationAdded($index, true)" stop-propagation="click mousedown" title="拷贝"></div> <div class="glyphicon glyphicon-menu-hamburger glyphicon-btn" title="拖动"></div> <div class="glyphicon glyphicon-trash glyphicon-btn" ng-click="onDeleteAnimation($index)" stop-propagation="click mousedown" title="删除"></div> </div> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutScrollDirection.html",'<div class="op-ce-layout-scroll-direction" tn-attach-to="ceDSlot"> <div class="cell-layout-scroll-direction btn-group" tn-dropdown is-open="status.isPanelOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle ng-switch="status.scrollDirection"> <label class="glyphicon glyphicon-arrow-right" title="从左往右" ng-switch-when="ltr"></label> <label class="glyphicon glyphicon-arrow-left" title="从右往左" ng-switch-when="rtl"></label> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <div class="btn-group-vertical" ng-click="onScrollDirectionClicked()"> <label class="btn btn-primary glyphicon glyphicon-arrow-right ng-pristine ng-valid active" ng-model="status.scrollDirection" uib-btn-radio="\'ltr\'"> <span>向右滑动</span> </label> <label class="btn btn-primary glyphicon glyphicon-arrow-left ng-pristine ng-valid" ng-model="status.scrollDirection" uib-btn-radio="\'rtl\'"> <span>向左滑动</span> </label> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutStyleBrush.html",'<div class="op-ce-layout-style-brush" tn-attach-to="ceDSlot"> <div class="layout-style-brush" tn-dropdown is-open="status.isLayoutStyleBrushOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <img class="op-bar-item-icon" src="/images/app/studio/fb571b.dsk-op-attr-bar-btn-table-brush.png" alt="布局样式"> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: status.currentIdex==status.totalColumns}" ng-click="onApplyColumnStyleToRightward()"> <img class="op-menu-icon" src="/images/app/studio/1828e1.table-brush-cell-rightward.png" alt="向右应用格式"> 向右应用格式 </a> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: status.currentIdex==status.totalColumns}" ng-click="onApplyColumnStyleToAllRight()"> <img class="op-menu-icon" src="/images/app/studio/c5ed20.table-brush-row-seq-downward.png" alt="向右应用所有" style="transform:rotateZ(-90deg)"> 向右全部应用 </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutTransparent.html",'<div class="op-ce-layout-transparent" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isLayoutTransparentPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 弹出图片 </button> <section class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <div class="form-horizontal type-selection"> <div class="form-group"> <div class="op-theme-color-sec img-bgd" ng-style="{ \'background-image\': status.imgSrc ? \'url(\' + status.imgSrc + \')\' : \'none\' }"> <span class="op-bar-icon delete img-delete-btn" ng-click="onImgSrcCleared()"></span> </div> <label class="img-label">(从图库选择图片)</label> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellLayoutVerticalAlign.html",'<div class="op-ce-layout-vertical-align" tn-attach-to="ceDSlot"> <div class="cell-layout-vertical-align btn-group" tn-dropdown ng-show="!!ceDSlot" is-open="status.isAlignPanelOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle ng-switch="inner.tnAlign"> <img class="align-icon" src="/images/app/studio/align-vert-top.svg" title="向上对齐" ng-switch-when="top"> <img class="align-icon" src="/images/app/studio/align-vert-middle.svg" title="垂直居中" ng-switch-when="middle"> <img class="align-icon" src="/images/app/studio/align-vert-bottom.svg" title="向下对齐" ng-switch-when="bottom"> <img class="align-icon" src="/images/app/studio/align-vert-stretch.svg" title="拉伸" ng-switch-when="stretch"> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <div class="btn-group-vertical" ng-click="onApplyAlign2SingleGroup(inner.tnAlign)"> <label class="btn btn-primary align-left ng-pristine ng-valid active" ng-model="inner.tnAlign" uib-btn-radio="\'top\'"> <img class="align-icon" src="/images/app/studio/align-vert-top.svg">&nbsp;<span>向上对齐</span> </label> <label class="btn btn-primary align-left ng-pristine ng-valid" ng-model="inner.tnAlign" uib-btn-radio="\'middle\'"> <img class="align-icon" src="/images/app/studio/align-vert-middle.svg">&nbsp;<span>垂直居中</span> </label> <label class="btn btn-primary align-left ng-pristine ng-valid" ng-model="inner.tnAlign" uib-btn-radio="\'bottom\'"> <img class="align-icon" src="/images/app/studio/align-vert-bottom.svg">&nbsp;<span>向下对齐</span> </label> <label class="btn btn-primary align-left ng-pristine ng-valid" ng-if="inner.isInFlexBox" ng-model="inner.tnAlign" uib-btn-radio="\'stretch\'"> <img class="align-icon" src="/images/app/studio/align-vert-stretch.svg">&nbsp;<span>拉伸</span> </label> </div> </li> <li role="separator" class="divider"></li> <li class="presentation"> <div class="btn-group-vertical"> <label class="btn btn-primary align-left" ng-click="onApplyAlign2AllGroups(\'top\')"> <img class="align-icon" src="/images/app/studio/align-vert-top.svg">&nbsp;<span>整行 | 向上对齐</span> </label> <label class="btn btn-primary align-left" ng-click="onApplyAlign2AllGroups(\'middle\')"> <img class="align-icon" src="/images/app/studio/align-vert-middle.svg">&nbsp;<span>整行 | 垂直居中</span> </label> <label class="btn btn-primary align-left" ng-click="onApplyAlign2AllGroups(\'bottom\')"> <img class="align-icon" src="/images/app/studio/align-vert-bottom.svg">&nbsp;<span>整行 | 向下对齐</span> </label> <label class="btn btn-primary align-left" ng-if="inner.isInFlexBox" ng-click="onApplyAlign2AllGroups(\'stretch\')"> <img class="align-icon" src="/images/app/studio/align-vert-stretch.svg">&nbsp;<span>整行 | 拉伸</span> </label> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellMap.html",'<div class="op-ce-map form-inline" tn-attach-to="ceDSlot"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="onClickSetMap()"> 设置 </button> <div class="op-text-sec font-size btn-group" title="宽高比" tn-dropdown is-open="state.isRatioOpen" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-if="isRatioEnable"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" tn-dropdown-toggle> <span>宽高比</span> <span class="caret"></span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu" ng-switch="inner.type"> <li ng-repeat="option in ratioOptions"> <div class="form-group col-sm-12"> <div class="col-sm-2"> <input class="ratio-option" type="radio" name="rdbratio" ng-value="option" ng-model="inner.ratioSetting"> </div> <div class="col-sm-8"> <span ng-bind="option.name"></span> </div> </div> </li> <li> <div class="form-group col-sm-12"> <div class="col-sm-2"> <input class="ratio-option" type="radio" name="rdbratio" ng-value="customSetting" ng-model="inner.ratioSetting"> </div> <div class="col-sm-8"> <input class="form-control" style="width: 5em;" type="number" min="0" name="width" ng-model="customSetting.width" ng-blur="onSettingWidthBlur()"> <span>&nbsp;:&nbsp;</span> <input class="form-control" style="width: 5em;" type="number" min="0" name="height" ng-model="customSetting.height" ng-blur="onSettingHeightBlur()"> </div> </div> </li> <li> <div class="form-group col-sm-12 confirm"> <button class="btn btn-green col-xs-12" ng-click="onClickChangeRatio(inner.ratioSetting)"> 确定 </button> </div> </li> </ul> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellMapTx.html",'<div class="op-ce-map-tx form-inline" tn-attach-to="ceDSlot"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="onClickSetMap()"> 选择位置 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetType()" ng-if="!inner.poiCover" ng-switch="inner.poiType"> <span ng-switch-when="1">设成卡片</span> <span ng-switch-when="2">设成文字</span> </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetTitle()" ng-if="!inner.poiCover"> 修改标题 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="!inner.poiCover && inner.poiType == 2"> 设置封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickRemoveCover()" ng-if="inner.poiCover"> 取消封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="inner.poiCover"> 更改封面 </button> </div> </div> <div class="op-ce-wx-cover"> <div class="op-dark-mask" ng-show="onSettingCover" ng-click="onClickMask($event)"></div> <div class="svg-cover" ng-show="onSettingCover" ng-style="{\'left\': locViewPort.left, \'top\': locViewPort.top, \'width\': locViewPort.width, \'height\': locViewPort.height}"> <span class="prompt">从左边图库中选择封面</span> </div> </div>'),t.put("/views/app/studio/Op/OpCellMargin.html",'<div class="op-ce-margin"> <div class="op-ce-margin-tb" tn-attach-to="ceDSlot"> <div class="btn-group" tn-dropdown is-open="status.isOpen" ng-show="!!ceDSlot" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle title="margin: {{ inner.marginText }}"> 列定位 </button> <div class="op-bar-menu" tn-dropdown-menu role="menu"> <div class="form-inline op-bar-menu-item"> <div class="form-group"> <label class="control-label">列定位</label> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/188841505" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> <div class="form-inline op-bar-menu-item text-center"> <div class="form-group"> <label class="control-label">上</label> <input class="form-control text-right op-bar-input len-em-6" type="text" ng-model="inner.marginTop.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginTopUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div class="form-inline op-bar-menu-item text-center"> <div class="form-group"> <label class="control-label">左</label> <input class="form-control text-right op-bar-input len-em-6" type="text" ng-model="inner.marginLeft.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginLeftUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> <div class="form-group"> <label class="control-label">&nbsp;</label> </div> <div class="form-group"> <label class="control-label">右</label> <input class="form-control text-right op-bar-input len-em-6" type="text" ng-model="inner.marginRight.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginRightUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div class="form-inline op-bar-menu-item text-center"> <div class="form-group"> <label class="control-label">下</label> <input class="form-control text-right op-bar-input len-em-6" type="text" ng-model="inner.marginBottom.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginBottomUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div role="separator" class="divider" ng-if="status.supportZIndex"></div> <div class="form-inline op-bar-menu-item" ng-if="status.supportZIndex"> <div class="form-group"> <label class="control-label">重叠次序</label> <input class="form-control text-left op-bar-input len-em-10" type="text" ng-model="inner.zIndex" tn-number-input step="1" precision="1" skim-change="onZIndexSkimChange()" skim-end="onZIndexChanged()" tn-text-input-done="onZIndexChanged()"> </div> </div> </div> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellMobileCropImageSrc.html",'<div class="op-ce-cropimage-src"> </div> '),t.put("/views/app/studio/Op/OpCellMobileImage.html",'<div class="op-ce-mobile-image" tn-attach-to="ceDSlot"> <div class="button-group"> <button type="button" ng-hide="isTablet" class="btn btn-success op-bar-btn" ng-click="onChangeWidth()"><span>宽度</span></button> <button type="button" class="btn btn-success op-bar-btn" ng-click="onChangeSrc()"><span>换图</span></button> <button type="button" ng-hide="isTablet" class="btn btn-success op-bar-btn" ng-click="onCropImage()"><span>裁剪</span></button> </div> </div> <div class="op-ce-mobile-image-crop" ng-show="isCropping"> <div class="crop-panel"> <div class="crop-menu form-group"> <div class="form-group"> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickResetCrop($event)">重置</button> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickApplyCrop($event)" style="margin-left: 8px;">确认</button> <button class="btn btn-success op-bar-btn attr-btn" ng-click="onClickCancelCrop($event)" style="margin-left: 8px;">取消</button> </div> </div> <div class="surface"> <img class="crop-image" ng-src="{{ imageSrc }}" tn-img-crop=""> </div> </div> </div> <div class="op-ce-mobile-image-width" ng-show="isChangingWidth"> <span class="width-label">宽度</span> <input type="text" class="form-control width-input" ng-model="inner.width"> <span class="width-unit">{{ inner.widthUnitSelected.display }}</span> <button class="btn btn-success width-confirm" ng-click="onClickSetWidth($event)">确认</button> </div>'),t.put("/views/app/studio/Op/OpCellMobileText.html",'<div class="op-ce-mobile-text" tn-attach-to="ceDSlot"> <div class="button-group"> <div class="btn-group" tn-dropdown> <button type="button" class="btn btn-success op-bar-btn" ng-click="onDisplayPalette()"><span>颜色</span></button> </div> <div class="btn-group" tn-dropdown> <button type="button" class="btn btn-success op-bar-btn" ng-click="onClickSizeMenu()" tn-dropdown-toggle><span>大小</span></button> <div class="tn-size-panel op-bar-size-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup mousemove"> <ul ng-model="textSizes"> <li class="text-item" ng-repeat="textSize in textSizes"> <button class="size-button" ng-click="onSetTextSize(textSize)"> <span ng-bind="::textSize"></span> </button> </li> </ul> </div> </div> <div class="border" ng-hide="isTablet"></div> <div class="btn-group" ng-hide="isTablet" tn-dropdown> <button type="button" class="btn btn-success op-bar-btn" ng-click="onClickAlignMenu()" tn-dropdown-toggle><span>对齐</span></button> <div class="op-bar-align-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup mousemove"> <div class="form-group op-text-sec text-style"> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'left\') }" ng-click="onSetTextAlign(\'left\')" title="左对齐"><span class="glyphicon glyphicon-align-left"></span></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'center\') }" ng-click="onSetTextAlign(\'center\')" title="居中对齐"><span class="glyphicon glyphicon-align-center"></span></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'right\') }" ng-click="onSetTextAlign(\'right\')" title="右对齐"><span class="glyphicon glyphicon-align-right"></span></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'justify\') }" ng-click="onSetTextAlign(\'justify\')" title="两端对齐"><span class="glyphicon glyphicon-align-justify"></span></button> </div> </div> </div> <div class="btn-group" tn-dropdown> <button type="button" class="btn btn-success op-bar-btn" ng-click="onClickStyleMenu()" tn-dropdown-toggle><span>格式</span></button> <div class="op-bar-other-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup mousemove"> <div class="form-group op-text-sec text-style"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.bold }" ng-click="onSetTextBold()" title="粗体"><b>B</b></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.italic }" ng-click="onSetTextItalic()" title="斜体"><i>I</i></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textUnderline }" ng-click="onSetTextUnderline()" title="下划线"><span class="text-underline">U</span></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStrikethrough }" ng-click="onSetTextStrike()" title="删除线"><span class="text-linethrough">AB</span></button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textIndent }" ng-click="onSetTextIndent()" title="首行缩进"><span class="glyphicon glyphicon-indent-left"></span></button> </div> </div> </div> <div class="btn-group" tn-dropdown is-open="inner.isSpacingOpen" on-toggle="onSpacingToggle(inner.isSpacingOpen)" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle><span>间距</span></button> <div class="op-bar-spacing-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup mousemove"> <div class="form-horizontal"> <div class="form-group"> <label class="col-xs-5 control-label">行间距</label> <div class="col-xs-7 line-spacing btn-group"> <input class="form-control spacing-input" ng-model="spacing.lineSpacing"> <span class="unit">倍</span> </div> </div> <div class="form-group" ng-hide="state.isGroup"> <label class="col-xs-5 control-label">字间距</label> <div class="col-xs-7 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="spacing.letterSpacing"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-xs-5 control-label">段落间距</label> <div class="col-xs-7 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="spacing.paragraphMargin"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="state.isGroup"> <label class="col-xs-5 control-label">左右边距</label> <div class="col-xs-7 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="spacing.paddingLeft"> <span class="unit">像素</span> </div> </div> <div class="form-horizontal"> <div class="form-group confirm text-center" ng-click="onSpacingConfirm()"> <label class="col-xs-12 col-sm-12">确认</label> </div> </div> </div> </div> </div> <div class="border" ng-hide="isTablet"></div> <button type="button" class="btn btn-success op-bar-btn" ng-hide="isTablet" ng-click="onSplitText()"><span>分段</span></button> </div> <div class="tn-mobile-palette-panel" ng-show="isPaletteDisplay"> <ul class="nav nav-tabs" ng-if="colorCategory.support.length > 1"> <li role="presentation" ng-class="(colorCategory.cur == \'solid\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'solid\')"><a>纯色</a></li> <li role="presentation" ng-class="(colorCategory.cur == \'gradient\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'gradient\')"><a>渐变色</a></li> </ul> <div class="color-group" ng-show="colorPalette.length > 1"> <select class="form-control group-selector" ng-model="currentColorGroup" ng-options="colorGroup.groupName for colorGroup in colorPalette" ng-change="onColorGroupChanged(currentColorGroup.groupName)"> </select> </div> <ul class="color-list text-left tn-overflow-style-adapter" ng-model="currentColorGroup.colorList"> <li class="color-item" ng-repeat="clr in currentColorGroup.colorList" ng-show="(colorCategory.cur == \'solid\' && !isGradientColor(clr)) || (colorCategory.cur == \'gradient\' && isGradientColor(clr))"> <span class="tn-color-circle" ng-click="onFontColorChoose($event, clr)"> <span class="face" ng-style="::{ backgroundColor: clr }" title="{{ ::clr }}" ng-if="::(!isGradientColor(clr))"></span> <span class="face" ng-style="::{ backgroundImage: clr }" title="{{ ::clr }}" ng-if="::(isGradientColor(clr))"></span> </span> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellOutCellEdit.html",'<div class="op-ce-out-cell-edit" ng-show="showOp"> <button class="btn btn-primary op-bar-btn" ng-click="onClickOutCellEdit()" tn-attach-to="ceDSlot"> {{opDesp}} </button> </div>'),t.put("/views/app/studio/Op/OpCellShadowStyle.html",'<div class="op-ce-shadow" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isShadowStylePanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 阴影 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">水平</label> <div class="col-sm-5 shadow-slider-ctrl"> <span ui-slider="shadowOrientationSlider.h.options" use-decimals ng-model="shadowOrientationSlider.h.value"></span> </div> <div class="col-sm-5 shadow-slider-input"> <input class="form-control" type="text" ng-model="shadowOrientationSlider.h.value" tn-number-input step="1" precision="1" min="-100" max="100" skim-change="onShadowPropSkimChange()" skim-end="onShadowPropChange()" tn-text-input-done="onShadowPropChange()"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">垂直</label> <div class="col-sm-5 shadow-slider-ctrl"> <span ui-slider="shadowOrientationSlider.v.options" use-decimals ng-model="shadowOrientationSlider.v.value"></span> </div> <div class="col-sm-5 shadow-slider-input"> <input class="form-control" type="text" ng-model="shadowOrientationSlider.v.value" tn-number-input step="1" precision="1" min="-100" max="100" skim-change="onShadowPropSkimChange()" skim-end="onShadowPropChange()" tn-text-input-done="onShadowPropChange()"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">模糊</label> <div class="col-sm-5 shadow-slider-ctrl"> <span ui-slider="shadowBlurSlider.options" use-decimals ng-model="shadowBlurSlider.value"></span> </div> <div class="col-sm-5 shadow-slider-input"> <input class="form-control" type="text" ng-model="shadowBlurSlider.value" tn-number-input step="1" precision="1" min="0" max="100" skim-change="onShadowPropSkimChange()" skim-end="onShadowPropChange()" tn-text-input-done="onShadowPropChange()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="shadowType.hideIt"> <label class="col-sm-2 control-label">类型</label> <div class="col-sm-10 shadow-type-panel"> <label class="pull-left first-label"> <input class="shadow-radio-input" type="radio" name="optionsShadowType" value="0" ng-model="shadowType.inset" ng-change="onShadowTypeChanged()">外部阴影 </label> <label class="pull-left"> <input class="shadow-radio-input" type="radio" name="optionsShadowType" value="1" ng-model="shadowType.inset" ng-change="onShadowTypeChanged()">内部阴影 </label> </div> </div> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-2 control-label">颜色</label> <div class="col-sm-3"> <span class="op-theme-color-sec" tn-color-selector="shadowColor.color" non-dropdown="true" on-color-choose="onShadowColorChoose(color)" on-color-changing="onShadowColorChanging(color)" on-color-choose-cancel="onShadowColorChooseCancel()" is-container-open="status.isShadowStylePanelOpen"> </span> </div> </div> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellSpacing.html",'<div class="op-ce-spacing"> <div class="op-ce-spacing-tb" tn-attach-to="ceDSlot"> <div class="btn-group" tn-dropdown is-open="state.isSpacingListOpen" on-toggle="onPanelToggle()" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 间距 </button> <section class="op-bar-menu spacing-panel" tn-dropdown-menu role="menu"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-4 control-label">行间距</label> <div class="col-sm-8 line-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="inner.lineSpacing" tn-number-input step="0.1" precision="0.01" min="0" skim-change="onLineSpacingSkimChange()" skim-end="onLineSpacingChanged()" tn-text-input-done="onLineSpacingChanged()"> <span class="unit">倍</span> </div> </div> <div class="form-group" ng-hide="state.isGroup"> <label class="col-sm-4 control-label">字间距</label> <div class="col-sm-8 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="inner.letterSpacing" tn-number-input step="1" precision="1" min="0" skim-change="onLetterSpacingSkimChange()" skim-end="onLetterSpacingChanged()" tn-text-input-done="onLetterSpacingChanged()"> <span class="unit">像素</span> </div> </div> <div class="dc-ce-paragraph-margin"></div> <div class="form-group" ng-hide="state.isGroup"> <label class="col-sm-4 control-label">左右边距</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingLeft" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-show="state.isGroup"> <label class="col-sm-4 control-label">左边距</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingLeft" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-show="state.isGroup"> <label class="col-sm-4 control-label">右边距</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingRight" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-show="state.isGroup"> <label class="col-sm-4 control-label">上边距</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingTop" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-show="state.isGroup"> <label class="col-sm-4 control-label">下边距</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingBottom" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> </div> </section> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellStaticPositionSize.html",'<div class="op-ce-static-position-size" tn-attach-to="ceDSlot" ng-switch="inner.widthUnit"> <div class="op-bar-group form-inline" ng-show="inner.widthUnit == \'%\'"> <div class="form-group"> <label class="control-label">宽</label> <input class="form-control op-bar-input len-em-4 text-right" type="text" ng-model="inner.widthValue" tn-number-input step="1" precision="1" min="0" max="100" skim-change="onSizeSkimChange()" skim-end="onSizeChanged()" tn-text-input-done="onSizeChanged()"> <label class="control-label">%</label> </div> </div> <div class="op-bar-group form-inline" ng-show="inner.widthUnit == \'px\'"> <div class="form-group"> <label class="control-label">宽</label> <input class="form-control op-bar-input len-em-4 text-right" type="text" ng-model="inner.widthValue" tn-number-input step="1" precision="1" min="0" skim-change="onSizeSkimChange()" skim-end="onSizeChanged()" tn-text-input-done="onSizeChanged()"> <label class="control-label">px</label> </div> </div> <div class="op-bar-group form-inline" ng-show="inner.widthUnit == \'auto\'"> <div class="form-group"> <label class="control-label">宽度自适应</label> </div> </div> <div class="op-bar-group form-inline" ng-show="inner.widthUnit == \'flexWeight\'"> <div class="form-group"> <label class="control-label">伸缩比</label> <input class="form-control op-bar-input len-em-4 text-right" type="text" ng-model="inner.widthValue" tn-number-input step="1" precision="1" min="0" max="100" skim-change="onSizeSkimChange()" skim-end="onSizeChanged()" tn-text-input-done="onSizeChanged()"> </div> </div> <div class="btn-group" tn-dropdown ng-show="inner.availableWidthUnits.length > 1"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="dropdown-menu op-bar-menu" tn-dropdown-menu role="menu" aria-labelledby="split-button"> <li role="menuitem"> <div class="btn-group-vertical" ng-click="onWidthUnitChanged($event, inner.widthUnit)"> <label class="btn btn-primary align-center" ng-show="inner.availableWidthUnits.indexOf(\'%\') >= 0" ng-model="inner.widthUnit" uib-btn-radio="\'%\'"> 宽度百分比 </label> <label class="btn btn-primary align-center" ng-show="inner.availableWidthUnits.indexOf(\'px\') >= 0" ng-model="inner.widthUnit" uib-btn-radio="\'px\'"> 宽度固定像素 </label> <label class="btn btn-primary align-center" ng-show="inner.availableWidthUnits.indexOf(\'auto\') >= 0" ng-model="inner.widthUnit" uib-btn-radio="\'auto\'"> 宽度自适应 </label> <label class="btn btn-primary align-center" ng-show="inner.availableWidthUnits.indexOf(\'flexWeight\') >= 0" ng-model="inner.widthUnit" uib-btn-radio="\'flexWeight\'"> 宽度自伸缩 </label> </div> </li> </ul> </div> <div class="op-bar-group form-inline" ng-show="inner.heightUnit == \'px\'"> <div class="form-group"> <input class="form-control op-bar-input len-em-4 text-right" type="text" ng-model="inner.heightValue" tn-number-input step="1" precision="1" min="0" skim-change="onSizeSkimChange()" skim-end="onSizeChanged()" tn-text-input-done="onSizeChanged()"> <label class="control-label">px</label> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCellSvg.html",'<div class="op-ce-svg" tn-attach-to="ceDSlot" ng-show="supportFillColor"> <div class="btn-group quick-color-item" ng-repeat="param in inner.quickColorList track by $index"> <span class="op-theme-color-sec" tn-color-selector="param.colour" non-dropdown="true" on-color-choose="onShapeFillColorChoose(color, $index)" is-container-open="svgState.colorSelectorOn" ng-click="onColorSecClicked()"> </span> </div> <div class="cell-layout-box btn-group" tn-dropdown is-open="inner.isFullColorListPanelOpen" auto-close="outsideClick" ng-show="inner.fullColorList.length > inner.quickColorList.length"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle ng-click="onMoreColorClicked()"> <span class="glyphicon glyphicon-option-horizontal"></span> </button> <section class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <div class="form-horizontal type-selection" ng-repeat="param in inner.fullColorList track by $index"> <div class="form-group"> <label class="col-sm-3 control-label">形状{{ $index }}</label> <div class="col-sm-3"> <span class="op-theme-color-sec" tn-color-selector="param.colour" non-dropdown="true" on-color-choose="onShapeFillColorChoose(color, $index)" is-container-open="inner.isFullColorListPanelOpen"> </span> </div> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellSvgAnimation.html",'<div class="op-ce-svg-animation" tn-attach-to="ceDSlot"> <div class="cell-svg-animation btn-group" tn-dropdown is-open="status.isAnimationPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 动画 </button> <section class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown, mouseup"> <div class="form-horizontal mask-animation-panel" ng-repeat="animation in status.animations track by $id(animation)"> <div class="wrapper"> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">点击穿透</label> <div class="col-sm-8 trigger-type-panel"> <label class="pull-left first-label"> <input class="trigger-radio-input" type="radio" value="through" ng-model="animation.animationTouchThrough" ng-change="onAnimationPropChanged($index, \'touchThrough\')">开启 </label> <label class="pull-left"> <input class="trigger-radio-input" type="radio" value="notThrough" ng-model="animation.animationTouchThrough" ng-change="onAnimationPropChanged($index, \'touchThrough\')">关闭 </label> <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/231750943" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </div> </div> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">动画触发</label> <div class="col-sm-8"> <select ng-model="animation.animationTrigger" ng-change="onAnimationPropChanged($index, \'trigger\')" class="form-control"> <option value="click">点击</option> <option value="auto">自动</option> <option value="press">长按</option> </select> </div> <div class="col-sm-offset-4 col-sm-8 trigger-type-panel"> <select ng-show="animation.animationTrigger == \'press\'" style="padding-right: 6px;" class="form-control" ng-change="onAnimationPropChanged($index, \'trigger\')" ng-model="animation.animationLoosenTriggerAction" ng-cloak> <option value="stop">松开后停止</option> <option value="revert">松开后回退</option> <option value="continue">松开后继续</option> </select> </div> </div> <div class="form-group" style="margin-bottom: 0px;"> <label class="col-sm-4 control-label">动画次序</label> <div class="col-sm-8 trigger-type-panel" ng-if="$index == 0"> <label class="pull-left first-label"> <input class="trigger-radio-input" type="radio" value="sequence" ng-model="animation.animationOrder" ng-change="onAnimationPropChanged($index, \'order\')">顺序 </label> <label class="pull-left"> <input class="trigger-radio-input" type="radio" value="free" ng-model="animation.animationOrder" ng-change="onAnimationPropChanged($index, \'order\')">自由 </label> </div> <div class="col-sm-8 trigger-type-panel" ng-if="$index > 0"> <label class="pull-left" style="margin-top: 5px;margin-bottom: 10px;">{{ (animation.animationOrder == \'free\') ? \'自由\' : \'顺序\' }}</label> </div> </div> <div class="anim-unit-container" ng-repeat="animationItem in animation.animationItems track by $id(animationItem)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animationItem.folded }" ng-click="onFoldArrowClicked(animationItem)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onRemoveAnimationItem(animation, animationItem)"></span> </div> <div class="anim-content" ng-hide="animationItem.folded"> <div class="form-group"> <label class="col-sm-4 control-label">动画类别</label> <div class="col-sm-8"> <select class="form-control menu-style-input" ng-options="category for category in status.animationCategoryList" ng-change="onAnimationItemChanged(animationItem, \'category\', animation, \'{{animationItem.selectedCategory}}\')" ng-model="animationItem.selectedCategory" ng-cloak> </select> </div> </div> <div class="form-group tip" ng-show="animationItem.selectedCategory == \'打开\'"> (该动画只支持图文同步方式) </div> <div class="form-group" ng-show="animationItem.selectedCategory == \'收缩\'"> <label class="col-sm-4 control-label">收缩至</label> <div class="col-sm-8"> <input class="form-control" type="number" step="0.01" min="0" max="100" ng-model="animationItem.contractTo" ng-blur="onAnimationItemChanged(animationItem)"> <span class="unit">%</span> </div> </div> <div class="form-group" ng-hide="animationItem.selectedOrientation.length == 0"> <label class="col-sm-4 control-label">动画方向</label> <div class="col-sm-8"> <select ng-hide="animationItem.selectedCategory == \'打开\'" class="form-control menu-style-input" ng-options="orientation for orientation in status.animationOrientationList.common" ng-change="onAnimationItemChanged(animationItem)" ng-model="animationItem.selectedOrientation" ng-cloak> </select> <select ng-show="animationItem.selectedCategory == \'打开\'" class="form-control menu-style-input" ng-options="orientation for orientation in status.animationOrientationList.split" ng-change="onAnimationItemChanged(animationItem)" ng-model="animationItem.selectedOrientation" ng-cloak> </select> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">动画时长</label> <div class="col-sm-8"> <input class="form-control" type="number" step="0.01" min="0" max="100" ng-model="animationItem.dur" ng-blur="onAnimationItemChanged(animationItem)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">动画延迟</label> <div class="col-sm-8"> <input class="form-control" type="number" step="0.01" min="0" max="100" ng-model="animationItem.delay" ng-blur="onAnimationItemChanged(animationItem)"> <span class="unit">秒</span> </div> </div> <div class="form-group" ng-show="status.repeatableAnimationList.indexOf(animationItem.selectedCategory) >= 0"> <label class="col-sm-5 control-label">动画重复</label> <input class="col-sm-1" type="checkbox" ng-model="animationItem.repeat" ng-click="onAnimationItemChanged(animationItem)"> </div> </div> </div> <button ng-disabled="animation.animationItems.length >= status.animationItemMaxCount" type="button" class="btn btn-green add-btn" ng-click="onAddAnimationItem(animation)">添加动画</button> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCellTableColumnWidth.html",'<div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">宽度</label> <input class="form-control scale-input" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-model="inner.width" ng-blur="onWidthInputBlur($event)" ng-keydown="onWidthInputKeyDown($event)"> <span class="unit">%</span> </div>'),t.put("/views/app/studio/Op/OpCellTableGrid.html",'<div class="op-ce-table-grid" tn-attach-to="ceDSlot"> <div class="table-grid" tn-dropdown is-open="status.isTableBuilderPanelOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="glyphicon glyphicon-th"></span> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation" ng-if="false"> <a class="text-center" href="" ng-click="onInsertRowAbove()"> <img class="op-menu-icon" src="" alt="向上插入1行"> 向上插入1行 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onInsertRowBelow()"> <img class="op-menu-icon" src="/images/app/studio/44ac69.table-add-row-bottom.png" alt="向下插入1行"> 向下插入1行 </a> </li> <li class="presentation" ng-if="false"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }" ng-click="onInsertColToLeft()"> <img class="op-menu-icon" src="" alt="向左插入1列"> 向左插入1列 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount >= 12 }" ng-click="onInsertColToRight()"> <img class="op-menu-icon" src="/images/app/studio/5c6c83.table-add-col-right.png" alt="向右插入1列"> 向右插入1列 </a> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: inner.rowCount <= 1 || inner.rowIndex == -1 }" ng-click="onDeleteCurrentRow()"> <img class="op-menu-icon" src="/images/app/studio/71e2ff.table-delete-row.png" alt="删除当前行"> 删除当前行 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-class="{ disabled: inner.colCount <= 1 || inner.colIndex == -1 }" ng-click="onDeleteCurrentCol()"> <img class="op-menu-icon" src="/images/app/studio/55e72f.table-delete-col.png" alt="删除当前列"> 删除当前列 </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellTableStyleBrush.html",'<div class="op-ce-table-style-brush" tn-attach-to="ceDSlot"> <div class="table-style-brush" tn-dropdown is-open="status.isTableStyleBrushOpen"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <img class="op-bar-item-icon" src="/images/app/studio/fb571b.dsk-op-attr-bar-btn-table-brush.png" alt="表格单元样式"> </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyColumnStyleToRightward()"> <img class="op-menu-icon" src="/images/app/studio/1828e1.table-brush-cell-rightward.png" alt="向右应用格式"> 向右应用格式 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyColumnStyleToDownward()"> <img class="op-menu-icon" src="/images/app/studio/e59302.table-brush-cell-downward.png" alt="向下应用格式"> 向下应用格式 </a> </li> <li class="divider"></li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyRowStyleSequential()"> <img class="op-menu-icon" src="/images/app/studio/c5ed20.table-brush-row-seq-downward.png" alt="向下逐行应用"> 向下逐行应用 </a> </li> <li class="presentation"> <a class="text-center" href="" ng-click="onApplyRowStyleInterlacing()"> <img class="op-menu-icon" src="/images/app/studio/058de0.table-brush-row-int-downward.png" alt="向下隔行应用"> 向下隔行应用 </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCellTextBgColor.html",'<div class="ce-op-background"> <div class="op-background-sec bg-color" tn-attach-to="ceDSlotBgColor" tn-color-selector="inner.bgColor" is-open="state.isBgColorOpen" on-color-choose="onBgColorChoose(color)"> </div> </div> '),t.put("/views/app/studio/Op/OpCellTextCode.html",'<div class="op-ce-text-code" tn-attach-to="ceDSlotTextCode"> <div class="btn-group" tn-dropdown> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> {{inner.language}} </button> <ul class="op-bar-menu language-list" tn-dropdown-menu role="menu"> <li ng-repeat="(key, value) in languageList"> <a ng-click="onLanguageSelected(key, value)"><span>{{key}}</span></a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCellTextInPlaceInputUE.html",'<div class="ce-op-text-input in-text-cell-editing-op" ng-show="isUEReady" tn-attach-to="ceDSlotTextAll"> <div class="op-text-sec font-family" title="字体" tn-dropdown is-open="state.isFontFamilyOpen"> <button class="btn btn-success op-bar-btn text-misc-toggle" type="button" tn-dropdown-toggle> <span ng-class="(\'stc-family-name-yzk-\' + inner.tnYzkFontItem.fontId)" ng-bind="inner.tnYzkFontItem.name"></span> <span class="caret"></span> </button> <div class="font-family-menu op-bar-menu" tn-dropdown-menu role="menu"> <div stop-propagation="mousedown mouseup click dblclick" ng-if="showType == \'paper\'"> <div class="font-family-category form-inline"> <div class="form-group"> <label>显示</label> <select class="form-control op-menu-input" name="textFontFamilyCategory" ng-model="inner.fontFamilyCategory"> <option value="wechat">公众号可用字体</option> <option value="picture">长图可用字体</option> <option value="all">所有字体</option> </select> <a class="xiumi-normal no-decoration" href="//v.xiumi.us/board/v5/2a5va/338259781" title="秀米字体使用范围说明" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> </div> <hr> </div> <ul class="font-family-list"> <li ng-repeat="ff in ::fontFamilies track by $index" title="{{ ::ff.name }}" ng-show="ff | fontFamilyVisible:inner.fontFamilyCategory"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </div> <div class="op-text-sec font-size btn-group" title="字号" tn-dropdown is-open="state.isSizeListOpen"> <input class="form-control size-input" type="text" ng-model="inner.fontSize" tn-number-input precision="1" min="0" max="144" skim-value-prev="findSmallerSize($currentValue)" skim-value-next="findLargerSize($currentValue)" skim-change="onFontSizeSkimChange($event)" skim-end="onFontSizeChanged($event)" tn-text-input-done="onFontSizeChange($event)"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="size-list-menu op-bar-menu" tn-dropdown-menu role="menu"> <li ng-repeat="sz in ::sizes"> <a class="item" ng-bind="::sz" ng-click="onSizeListSelected($index)"></a> </li> </ul> </div> <div class="op-text-sec text-color" title="文字颜色" tn-color-selector="inner.textColor" is-open="state.isTextForeColorOpen" on-color-choose="onTextForeColorChoose(color)" on-color-changing="onTextForeColorChanging(color)" on-color-choose-cancel="onTextForeColorChooseCancel()" support-color-category="[\'solid\', \'gradient\']" used-in-text="true"> </div> <div class="btn-group" tn-dropdown is-open="state.isTextStyleSelectorOpen" auto-close="outsideClick" on-toggle="onTextStyleSelectorOpenToggle(state.isTextStyleSelectorOpen)"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu text-bgd-shadow" tn-dropdown-menu role="menu"> <li> <a ng-click="textBackColorClick($event)" class="toggle-color-btn"> <span class="op-theme-color-sec text-center" tn-color-selector="inner.textBackColor" non-dropdown="true" on-color-choose="onTextBgdColorChoose(color)" is-container-open="state.isTextStyleSelectorOpen"> <span class="glyphicon glyphicon-text-background" ng-style="{ color: inner.textBackColor == \'transparent\' ? \'white\' : inner.textBackColor }"></span> </span> <span class="toggle-color-btn test">文字底色</span> </a> </li> <li> <a ng-click="textShadowSet($event)" stop-propagation="click"> <span class="tn-color-circle text-shadow-icon text-center"> <span class="glyphicon glyphicon-font"></span> </span> <span>文字阴影</span> </a> </li> </ul> </div> <div class="op-text-sec text-style" tn-dropdown> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="btn op-bar-btn"> <span class="glyphicon glyphicon-align-left" ng-if="inner.textAlign == \'left\'" title="左对齐 | {{ ::shortcutKey(\'TextAlignLeft\') }}"></span> <span class="glyphicon glyphicon-align-center" ng-if="inner.textAlign == \'center\'" title="居中对齐 | {{ ::shortcutKey(\'TextAlignCenter\') }}"></span> <span class="glyphicon glyphicon-align-right" ng-if="inner.textAlign == \'right\'" title="右对齐 | {{ ::shortcutKey(\'TextAlignRight\') }}"></span> <span class="glyphicon glyphicon-align-justify" ng-if="inner.textAlign == \'justify\'" title="两端对齐 | {{ ::shortcutKey(\'TextAlignAdjust\') }}"></span> </span> <span class="caret"></span> </button> <ul class="op-bar-menu text-align-style" tn-dropdown-menu role="menu"> <li> <a ng-click="onTextAlignSelected(\'left\')" title="左对齐 | {{ ::shortcutKey(\'TextAlignLeft\') }}"> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'left\') }"> <span class="glyphicon glyphicon-align-left"></span> </button> <span>向左对齐</span> </a> </li> <li> <a ng-click="onTextAlignSelected(\'center\')" title="居中对齐 | {{ ::shortcutKey(\'TextAlignCenter\') }}"> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'center\') }"> <span class="glyphicon glyphicon-align-center"></span> </button> <span>居中对齐</span> </a> </li> <li> <a ng-click="onTextAlignSelected(\'right\')" title="右对齐 | {{ ::shortcutKey(\'TextAlignRight\') }}"> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'right\') }"> <span class="glyphicon glyphicon-align-right"></span> </button> <span>向右对齐</span> </a> </li> <li> <a ng-click="onTextAlignSelected(\'justify\')" title="两端对齐 | {{ ::shortcutKey(\'TextAlignAdjust\') }}"> <button class="btn op-bar-btn" ng-class="{ \'activated\': (inner.textAlign == \'justify\') }"> <span class="glyphicon glyphicon-align-justify"></span> </button> <span>两端对齐</span> </a> </li> </ul> </div> <div class="op-text-sec text-style"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.bold }" ng-disabled="!isUEActive" ng-click="onTextStyleSelected(\'bold\')" title="粗体 | {{ ::shortcutKey(\'TextBold\') }}"> <b>B</b> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStyle.italic }" ng-disabled="!isUEActive" ng-click="onTextStyleSelected(\'italic\')" title="斜体 | {{ ::shortcutKey(\'TextItalic\') }}"> <i>I</i> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textUnderline }" ng-disabled="!isUEActive" ng-click="onTextUnderlineSelected()" title="下划线 | {{ ::shortcutKey(\'TextUnderline\') }}"> <span class="text-underline">U</span> </button> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.textStrikethrough }" ng-disabled="!isUEActive" ng-click="onTextStrikethroughSelected()" title="删除线 | {{ ::shortcutKey(\'TextStrikethrough\') }}"> <span class="text-linethrough">AB</span> </button> </div> <div class="op-text-sec text-style" ng-show="state.supportSplitting"> <button class="btn op-bar-btn" ng-disabled="!isUEActive" ng-click="onSplitSegments()" title="文字分段 | {{ ::shortcutKey(\'TextSplitSegments\') }}"> <span class="glyphicon icon-split-segments"></span> </button> </div> <div class="op-text-sec text-format-brush"> <div class="brush-panel" ng-switch="state.lastFormatEntry" tn-dropdown auto-close="outsideClick" is-open="state.isTextFormatOpen" is-fixed="state.isTextFormatFixed" auto-pin="disabled" on-toggle="onTextFormatToggle()"> <button class="op-bar-btn btn" ng-switch-when="refine" ng-click="onFormatBrushCreateAnim($event)" title="提取格式 | {{ ::shortcutKey(\'FormatBrushCreate\') }}" tn-dropdown-toggle> <img class="icon-image" src="/images/app/studio/fmt-brush-refine.svg" alt="提取格式"> </button> <button class="op-bar-btn btn" ng-switch-when="clear" ng-click="onClearFormat()" title="清除格式 | {{ ::shortcutKey(\'FormatBrushClear\') }}"> <img class="icon-image" src="/images/app/studio/fmt-brush-clear.svg" alt="清除格式"> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li class="panel-header text-center" ng-show="state.isTextFormatFixed"> <span class="glyphicon glyphicon-ok-sign panel-placeholder"></span> <span class="glyphicon glyphicon-menu-hamburger panel-handler"></span> <span class="glyphicon glyphicon-remove panel-close" ng-click="onHideFormatBrushPanel()"></span> </li> <li class="drag-hint" ng-show="!state.isTextFormatFixed"> <span>格式列表可以拖动并固定位置</span> </li> <li class="tn-scene-paper"> <div class="tn-text-format-brush-container tn-tpl-list tn-tpl-container-clipboard" tn-atom-context="{ type: \'paper\', inEditor: true, isInEditing: false, onceBinding: true, themeColorOnDomEnabled: false, animationEnabled: false, linkEnabled: false, soundEnabled: false, fontEnable: true, compHandlerEnabled: true }"> <div class="tn-text-format-brush-item tn-tpl-item tn-tpl-copy tn-scene-paper tn-lighting-box" ng-repeat="fmb in inner.formatBrushList track by $id(fmb)" ng-class="{ active: inner.formatBrushActive == fmb }" ng-click="onFormatBrushApply($event, fmb, \'item_\' + (inner.formatBrushActive == fmb ? \'repeat\' : \'change\') + \'-\' + $index)"> <div class="tn-text-format-brush-box lighting-hover"> <section class="tn-tpl-copy-item" tn-bind-comp="fmb" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </section> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onFormatBrushRemove($event, $index, fmb)"></span> </div> </div> <div ng-show="!inner.formatBrushList.length" class="empty-hint text-center"> 没有可用格式 </div> </li> </ul> </div> <div class="brush-menu" tn-dropdown> <button class="op-bar-btn btn btn-success" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li ng-hide="state.lastFormatEntry == \'refine\'"> <a ng-click="onFormatBrushCreateAnim($event)" title="提取格式 | {{ ::shortcutKey(\'FormatBrushCreate\') }}"> <img class="icon-image" src="/images/app/studio/fmt-brush-refine.svg" alt="提取格式"> <span>提取格式</span> </a> </li> <li ng-hide="state.lastFormatEntry == \'clear\'"> <a ng-click="onClearFormat()" title="清除格式 | {{ ::shortcutKey(\'FormatBrushClear\') }}"> <img class="icon-image" src="/images/app/studio/fmt-brush-clear.svg" alt="清除格式"> <span>清除文字格式</span> </a> </li> <li ng-if="!state.isTextFormatOpen"> <a ng-click="onDisplayFormatBrushPanel()" title="打开格式列表"> <img class="icon-image" src="/images/app/studio/fmt-brush-apply.svg" alt="打开格式列表"> <span>打开格式列表</span> </a> </li> <li ng-if="state.isTextFormatOpen"> <a ng-click="onHideFormatBrushPanel()" title="关闭格式列表"> <img class="icon-image" src="/images/app/studio/fmt-brush-apply.svg" alt="关闭格式列表"> <span>关闭格式列表</span> </a> </li> </ul> </div> </div> <div class="op-text-sec text-misc btn-group" tn-dropdown is-open="state.isTextMiscOpen" on-toggle="onTextMiscToggle(open)"> <button class="btn btn-success op-bar-btn text-misc-toggle" type="button" ng-disabled="!isUEActive" tn-dropdown-toggle> 格式 </button> <ul class="misc-menu op-bar-menu" tn-dropdown-menu role="menu"> <li role="presentation"> <div class="btn-group-vertical" ng-click="onTextIndentSelected()"> <label class="btn btn-primary" title="首行缩进 | {{ ::shortcutKey(\'TextIndent\') }}" ng-model="inner.textIndent" uib-btn-checkbox=""> <b>首行缩进</b> </label> </div> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <div class="btn-group-vertical" ng-click="onInsertOrderedList()"> <label class="btn btn-primary align-center active" ng-model="inner.insertOrderedListMode" uib-btn-radio="\'ordered\'"> 编号列表 </label> <label class="btn btn-primary align-center" ng-model="inner.insertOrderedListMode" uib-btn-radio="\'unordered\'"> 符号列表 </label> </div> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <div class="btn-group-vertical" ng-click="onSetTextScript()"> <label class="btn btn-primary" title="文字上标 | {{ ::shortcutKey(\'TextSuperscript\') }}" ng-model="inner.setTextScriptMode" uib-btn-radio="\'superscript\'"> 文字上标 </label> <label class="btn btn-primary" title="文字下标 | {{ ::shortcutKey(\'TextSubScript\') }}" ng-model="inner.setTextScriptMode" uib-btn-radio="\'subscript\'"> 文字下标 </label> </div> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <div class="btn-group-vertical" ng-click="onWordBreakAllSelected()"> <label class="btn btn-primary" title="西文打断" ng-model="inner.wordBreakAll" uib-btn-checkbox=""> <b>西文打断</b> </label> </div> </li> <li role="presentation" class="divider"></li> <li role="presentation" class="light-divider"> <div class="btn-group-vertical"> <label class="btn btn-primary" ng-click="showSymbolTable($event)"> <span>插入符号</span> </label> <div class="symbol-table" ng-show="state.isSymbolTableOpen"> <div class="symbol-menu op-bar-menu" stop-propagation="mousedown mouseup click dblclick"> <uib-tabset role="menu"> <uib-tab class="emoji" ng-repeat="category in ::symbolTable"> <uib-tab-heading> <span ng-bind="::category.name"></span> </uib-tab-heading> <div class="emoji-list"> <span class="symbol-item" ng-repeat="symbol in ::category.symbols" ng-bind="::symbol.char" title="{{ ::symbol.desc }}" ng-click="onSymbol($event, symbol.char)"> </span> </div> <div class="emoji-prompt">Emoji效果以手机实际浏览效果为准</div> </uib-tab> </uib-tabset> </div> </div> </div> </li> <li role="presentation"> <div class="btn-group-vertical"> <label class="btn btn-primary" ng-model="state.isInlineCompMode" uib-btn-checkbox=""> <span>行内插入模式</span> </label> </div> </li> <li role="presentation" class="divider"></li> <li role="presentation"> <div class="btn-group-vertical"> <label class="btn btn-primary align-center" ng-class="(inner.writingMode == \'horizontal-tb\' && inner.direction == \'ltr\') ? \'active\' : \'\'" ng-click="onWritingModeSelected(\'horizontal-tb\', \'ltr\')"> 横排文字 ( 由左至右 ) </label> <label class="btn btn-primary align-center" ng-class="(inner.writingMode == \'horizontal-tb\' && inner.direction == \'rtl\') ? \'active\' : \'\'" ng-click="onWritingModeSelected(\'horizontal-tb\', \'rtl\')"> 横排文字 ( 由右至左 ) </label> <label class="btn btn-primary align-center" ng-class="(inner.writingMode == \'vertical-rl\') ? \'active\' : \'\'" ng-click="onWritingModeSelected(\'vertical-rl\', \'ltr\')"> 竖排文字 ( 由右至左 ) </label> <label class="btn btn-primary align-center" ng-class="(inner.writingMode == \'vertical-lr\') ? \'active\' : \'\'" ng-click="onWritingModeSelected(\'vertical-lr\', \'ltr\')"> 竖排文字 ( 由左至右 ) </label> </div> </li> </ul> </div> <div class="op-text-img-resizing-surface op-worker-surface in-text-cell-editing-op" stop-propagation="click mousedown touchstart" tn-attach-to="inner.imgResizingBarAttachTo" ng-style="inner.imgResizingBox" ng-show="!!inner.imgResizingBox"> <div class="resizing-handle t" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanT"></div> <div class="resizing-handle r" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanR"></div> <div class="resizing-handle b" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanB"></div> <div class="resizing-handle l" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanL"></div> <div class="resizing-handle lt" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanLT"></div> <div class="resizing-handle rt" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanRT"></div> <div class="resizing-handle rb" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanRB"></div> <div class="resizing-handle lb" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanLB"></div> </div> </div> <div class="form-group in-text-cell-editing-op" tn-attach-to="ceSpaceSlot"> <label class="col-sm-4 control-label">段落间距</label> <div class="col-sm-8 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="inner.paragraphMargin" tn-number-input step="1" precision="1" min="0" skim-change="onParagraphMarginSkimChange()" skim-end="onParagraphMarginChanged()" tn-text-input-done="onParagraphMarginChanged()"> <span class="unit">像素</span> </div> </div> <div ng-show="shadowMenuState.isShow" class="text-shadow-menu" ng-style="shadowMenuState.pos" stop-propagation="mousedown mouseup click dblclick"> <div class="btn-group dropdown" title="文字阴影"> <div class="form-horizontal op-bar-menu text-shadow"> <div class="text-shadow-top-bar clearfix"> <span style="color: darkgray;">设置文字阴影</span> <button class="btn btn-green pull-right" ng-click="onTextShadowApply($event)" ng-if="false">应用</button> </div> <div class="text-shadow-list"> <div class="text-shadow-item" ng-repeat="ts in inner.textShadowList track by $id(ts)"> <div class="form-group text-shadow-title-bar"> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onTextShadowItemDeleted($event, ts)"></span> </div> <div class="form-group"> <label class="col-sm-3 control-label">偏移X</label> <div class="col-sm-9"> <input class="form-control" type="number" min="-100" max="100" ng-model="ts.offsetX" ng-keydown="onTextShadowOffsetKeydown($event, ts, \'offsetX\')" tn-text-input-done="onTextShadowItemChanged($event, ts)" tn-text-input-done-for="keypress blur"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">偏移Y</label> <div class="col-sm-9"> <input class="form-control" type="number" min="-100" max="100" ng-model="ts.offsetY" ng-keydown="onTextShadowOffsetKeydown($event, ts, \'offsetY\')" tn-text-input-done="onTextShadowItemChanged($event, ts)" tn-text-input-done-for="keypress blur"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">模糊</label> <div class="col-sm-9"> <input class="form-control" type="number" min="0" max="100" ng-model="ts.blurRadius" ng-keydown="onTextShadowOffsetKeydown($event, ts, \'blurRadius\')" tn-text-input-done="onTextShadowItemChanged($event, ts)" tn-text-input-done-for="keypress blur"> <span class="unit">像素</span> </div> </div> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-3 control-label">颜色</label> <div class="col-sm-8"> <span class="op-theme-color-sec" tn-color-selector="ts.color" non-dropdown="true" on-color-choose="onTextShadowItemChanged(ts, \'color\')" is-container-open="shadowMenuState.isShow" used-in-text="true"> </span> <button class="btn btn-glass" ng-click="onTextShadowCloneColorToBelow($event, ts, $index)">向后应用颜色</button> </div> </div> </div> </div> <div class="form-group"> <button type="button" class="btn btn-glass col-xs-12 col-sm-12 add-btn" ng-click="onInsertTextShadow()"> 添加阴影 </button> </div> </div> </div> </div> </div> <div class="tn-text-inline-comp-renderer tn-scene-paper" tn-atom-context="{ type: \'paper\', inEditor: true, isInEditing: false, onceBinding: false, themeColorOnDomEnabled: false,\n     animationEnabled: false, linkEnabled: false, soundEnabled: false, fontEnable: true, compHandlerEnabled: true }"> <section class="tn-text-inline-comp-box" tn-bind-comp="inner.textInlineComp" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </section> </div> <div class="tn-text-inline-comp-prompt text-left alert alert-info" ng-show="state.isInlineCompMode" ng-style="inner.inlineCompPromptPos"> <p class="tn-color-gray"> 当前处于“行内插入模式”，点击图片/组件将插入光标所在行而不会分段。 <a class="xiumi-normal no-decoration" target="_blank" href="https://v.xiumi.us/board/v5/2a5va/233933647"> <span class="glyphicon glyphicon-question-sign"></span> </a> <br> <br> <a class="xiumi-normal no-decoration" href="" ng-click="toggleInlineCompMode(false)"> <span class="glyphicon glyphicon-log-out"></span> 退出“行内插入模式” </a> </p> </div> <div class="cp-op-quick-input-prompt in-text-cell-editing-op" tn-attach-to="cpDSlotQuickInputPrompt" ng-if="!!cpDSlotQuickInputPrompt"> 快速输入 </div> '),t.put("/views/app/studio/Op/OpCellTransparency.html",'<div class="op-ce-transparency op-gen-transparency" tn-attach-to="ceDSlot"> <div class="transparency"> <span class="glyphicon glyphicon-eye-close"></span> <span>透明度</span><span>&nbsp;&nbsp;</span> <span>0</span> <span ui-slider="slider.options" use-decimals ng-model="slider.transparent"></span> <input class="form-control opacity-slider-input" type="text" ng-model="slider.transparent" tn-number-input step="1" precision="1" min="0" max="100" skim-change="onOpacitySkimChange()" skim-end="onOpacityChanged()" tn-text-input-done="onOpacityChanged()"> </div> </div>'),t.put("/views/app/studio/Op/OpCellVideo.html",'<div class="op-ce-video-link form-inline" tn-attach-to="ceDSlot"> <div class="form-group"> <label class="control-label">嵌入代码</label> <input type="text" class="form-control link-input" placeholder="请输入视频嵌入代码" ng-model="inner.url" ng-change="onChange($event)"> <div class="op-text-sec font-size btn-group" tn-dropdown is-open="state.isRatioOpen" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-include="::\'/views/app/studio/Op/tnVideoOption.html\'"></div> <label> <a class="btn btn-primary op-bar-btn" href="//v.xiumi.us/board/v5/2a5va/73779824" target="_blank">帮助</a> </label> </div> <label ng-show="showError" class="error-prompt" ng-bind="\'不是视频嵌入代码\'"></label> </div>'),t.put("/views/app/studio/Op/OpCellVideoTx.html",'<div class="op-ce-video-tx form-inline" tn-attach-to="ceDSlot"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="onClickImportVideo()"> 导入视频 </button> <div ng-if="state.enableAutoFitVideo" class="op-text-sec font-size btn-group" tn-dropdown is-open="state.isRatioOpen" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-include="::\'/views/app/studio/Op/tnVideoOption.html\'"></div> </div> </div> <div class="op-ce-wx-cover"> <div class="op-dark-mask" ng-show="onSettingCover" ng-click="onClickMask($event)"></div> <div class="svg-cover" ng-show="onSettingCover" ng-style="{\'left\': locViewPort.left, \'top\': locViewPort.top, \'width\': locViewPort.width, \'height\': locViewPort.height}"> <span class="prompt">从左边图库中选择封面</span> </div> </div>'),t.put("/views/app/studio/Op/OpCellVideoXm.html",'<div class="op-ce-video-xm form-inline" tn-attach-to="ceDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="inner.isVideoXmHeightMenuOpen" auto-close="outsideClick"> <button class="btn btn-success op-bar-btn size-list-toggle" ng-if="showType == \'paper\'" type="button" tn-dropdown-toggle> <span>高度</span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu"> <li> <div class="form-group col-sm-12"> <div class="col-sm-2"> <input class="ratio-option" type="radio" ng-value="1" ng-model="inner.heightType" ng-change="onHeightTypeChanged(1)"> </div> <div class="col-sm-8"> <span>默认比例</span> </div> </div> </li> <li> <div class="form-group col-sm-12"> <div class="col-sm-2"> <input class="ratio-option" type="radio" ng-value="2" ng-model="inner.heightType" ng-change="onHeightTypeChanged(2)"> </div> <div class="col-sm-8"> <span>固定高度</span> <input class="form-control ratio-num" style="width: 4em;" type="number" ng-model="inner.height"> <span>像素</span> </div> </div> </li> </ul> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="!inner.cover"> 设置封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickRemoveCover()" ng-if="inner.cover"> 取消封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="inner.cover"> 更改封面 </button> </div> </div> <div class="op-ce-video-xm-cover"> <div class="op-dark-mask" ng-show="onSettingCover" ng-click="onClickMask($event)"></div> <div class="svg-cover" ng-show="onSettingCover" ng-style="{\'left\': locViewPort.left, \'top\': locViewPort.top, \'width\': locViewPort.width, \'height\': locViewPort.height}"> <span class="prompt">从左边图库中选择封面</span> </div> </div>'),t.put("/views/app/studio/Op/OpCellWidth.html",'<div class="op-ce-scale" tn-attach-to="ceDSlot"> <label class="control-label">宽度</label> <input class="form-control scale-input" ng-model="inner.width" stop-propagation="mousedown mouseup click dblclick keydown keyup" ng-blur="onWidthInputBlur($event)" ng-keydown="onWidthInputKeyDown($event)" ng-cloak> <span class="unit">{{ inner.widthUnitSelected.display }}</span> </div>'),t.put("/views/app/studio/Op/OpCellWxAudioCard.html",'<div class="op-ce-wx-audio-card form-inline" tn-attach-to="ceDSlot"> <div class="form-group" auto-close="outsideClick" tn-dropdown is-open="inner.isCoverMenuOpen" on-toggle="onToggle(inner.isCoverMenuOpen)"> <button class="btn btn-success op-bar-btn" ng-click="onClickImportAudio()"> 导入音频 </button> <button class="btn btn-success op-bar-btn" ng-if="inner.audio.src" tn-dropdown-toggle> <span ng-hide="inner.audio.cover">设置封面</span> <span ng-show="inner.audio.cover">更改封面</span> </button> <ul class="op-bar-menu cover-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="单图封面" active="inner.singleImgSelected" select="onSingleCoverSelected()"> <div class="cover-desc text-center"> <span>点击图片开始播放</span> </div> <div class="cover-imgs text-center"> <div class="cover-placeholder" ng-click="onCoverImgSelected(0)"> <img class="cover-img" ng-src="{{inner.firstImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 0"> <div class="mask-border"> </div> </div> </div> </div> </uib-tab> <uib-tab index="1" heading="双图封面" active="inner.doubleImgSelected" select="onDoubleCoverSelected()"> <div class="cover-desc text-center"> <span>点击图片后，切换到第二张图片并开始播放</span> </div> <div class="cover-desc text-center"> <span>双图封面只能用同步方式上传到公众号后台</span> </div> <div class="cover-imgs text-center"> <div class="cover-placeholder" ng-click="onCoverImgSelected(0)"> <img class="cover-img" ng-src="{{inner.firstImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 0"> <div class="mask-border"> </div> </div> </div> <div class="cover-placeholder" ng-click="onCoverImgSelected(1)"> <img class="cover-img" ng-src="{{inner.secondImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 1"> <div class="mask-border"> </div> </div> </div> </div> </uib-tab> </uib-tabset> </ul> <button class="btn btn-success op-bar-btn" ng-if="inner.audio.src && inner.audio.cover" ng-click="onClickRemoveCover()"> 取消封面 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCellWxMusicCard.html",'<div class="op-ce-wx-music-card form-inline" tn-attach-to="ceDSlot"> <div class="form-group" auto-close="outsideClick" tn-dropdown is-open="inner.isCoverMenuOpen" on-toggle="onToggle(inner.isCoverMenuOpen)"> <button class="btn btn-success op-bar-btn" ng-click="onClickImportMusic()"> 导入音乐 </button> <button class="btn btn-success op-bar-btn" ng-if="inner.music.id" tn-dropdown-toggle> <span ng-hide="inner.music.cover">设置封面</span> <span ng-show="inner.music.cover">更改封面</span> </button> <ul class="op-bar-menu cover-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <uib-tabset active="activeJustified" justified="true"> <uib-tab index="0" heading="单图封面" active="inner.singleImgSelected" select="onSingleCoverSelected()"> <div class="cover-desc text-center"> <span>点击图片开始播放</span> </div> <div class="cover-imgs text-center"> <div class="cover-placeholder" ng-click="onCoverImgSelected(0)"> <img class="cover-img" ng-src="{{inner.firstImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 0"> <div class="mask-border"> </div> </div> </div> </div> </uib-tab> <uib-tab index="1" heading="双图封面" active="inner.doubleImgSelected" select="onDoubleCoverSelected()"> <div class="cover-desc text-center"> <span>点击图片后，切换到第二张图片并开始播放</span> </div> <div class="cover-desc text-center"> <span>双图封面只能用同步方式上传到公众号后台</span> </div> <div class="cover-imgs text-center"> <div class="cover-placeholder" ng-click="onCoverImgSelected(0)"> <img class="cover-img" ng-src="{{inner.firstImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 0"> <div class="mask-border"> </div> </div> </div> <div class="cover-placeholder" ng-click="onCoverImgSelected(1)"> <img class="cover-img" ng-src="{{inner.secondImg || \'//statics.xiumi.us/stc/images/placeholder-img.jpg\'}}"> <div class="cover-mask" ng-show="inner.selectedImgIndex == 1"> <div class="mask-border"> </div> </div> </div> </div> </uib-tab> </uib-tabset> </ul> <button class="btn btn-success op-bar-btn" ng-if="inner.music.id && inner.music.cover" ng-click="onClickRemoveCover()"> 取消封面 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCellWxProfileCard.html",'<div class="op-ce-profile-card form-inline" tn-attach-to="ceDSlot"> <div class="form-group"> <button class="btn btn-success op-bar-btn" ng-click="onClickImportProfile()"> 导入名片 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="inner.profile.id && !inner.profile.cover"> 设置封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickRemoveCover()" ng-if="inner.profile.cover"> 取消封面 </button> <button class="btn btn-success op-bar-btn" ng-click="onClickSetCover()" ng-if="inner.profile.cover"> 更改封面 </button> </div> </div> <div class="op-ce-wx-cover"> <div class="op-dark-mask" ng-show="onSettingCover" ng-click="onClickMask($event)"></div> <div class="svg-cover" ng-show="onSettingCover" ng-style="{\'left\': locViewPort.left, \'top\': locViewPort.top, \'width\': locViewPort.width, \'height\': locViewPort.height}"> <span class="prompt">从左边图库中选择封面</span> </div> </div>'),t.put("/views/app/studio/Op/OpCellWxVideoCard.html",'<div class="op-ce-wx-music-card form-inline" tn-attach-to="ceDSlot"> <div class="form-group" auto-close="outsideClick" tn-dropdown is-open="inner.isCoverMenuOpen" on-toggle="onToggle(inner.isCoverMenuOpen)"> <button class="btn btn-success op-bar-btn" ng-click="onClickImportMusic()"> 导入视频号 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCompAlignEdge.html",'<div class="op-cp-align-edge" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="state.isHorizontalsOpen" auto-close="outsideClick" style="padding-right: 7px;"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <img src="/images/app/studio/align-left-edge.svg">&nbsp;&nbsp; <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a class="btn" title="靠边向左" ng-click="onClickAlignLeftEdge()"> <img src="/images/app/studio/align-left-edge.svg"> &nbsp;<span>靠边向左</span> </a> </li> <li> <a class="btn" title="两边居中" ng-click="onClickAlignHorEdgeCenter()"> <img src="/images/app/studio/align-hor-middle-edge.svg"> &nbsp;<span>两边居中</span> </a> </li> <li> <a class="btn" title="靠边向右" ng-click="onClickAlignRightEdge()"> <img src="/images/app/studio/align-right-edge.svg"> &nbsp;<span>靠边向右</span> </a> </li> </ul> </div> <div class="btn-group" tn-dropdown is-open="state.isVerticalsOpen" auto-close="outsideClick" style="border-left: 1px solid #666; padding-left:7px; padding-right: 7px;"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <img src="/images/app/studio/align-vert-top-edge.svg">&nbsp;&nbsp; <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a class="btn" title="靠边向上" ng-click="onClickAlignTopEdge()"> <img src="/images/app/studio/align-vert-top-edge.svg"> &nbsp;<span>靠边向上</span> </a> </li> <li> <a class="btn" title="上下居中" ng-click="onClickAlignVerEdgeCenter()"> <img src="/images/app/studio/align-vert-middle-edge.svg"> &nbsp;<span>上下居中</span> </a> </li> <li> <a class="btn" title="靠边向下" ng-click="onClickAlignBottomEdge()"> <img src="/images/app/studio/align-vert-bottom-edge.svg"> &nbsp;<span>靠边向下</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompAnimation.html",'<div class="op-cp-animation"> <div class="op-cp-animation-tb" tn-attach-to="cpDSlot"> <div class="animation-name btn-group" tn-dropdown is-open="state.isCompAnimTypeListOpen" is-fixed="state.isCompAnimTypeListFixed" auto-pin="enabled" auto-close="outsideClick" on-toggle="onPanelToggle(open)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span ng-bind="inner.animUnitList[0].animItem.name || \'出错了!\'"></span> </button> <section class="op-bar-menu animation-panel" tn-dropdown-menu role="menu"> <div class="panel-header text-center" ng-show="state.isCompAnimTypeListFixed"> <span class="glyphicon glyphicon-menu-hamburger panel-handler"></span> <span class="glyphicon glyphicon-remove panel-close" ng-click="onHideAnimationPanel()"></span> </div> <div class="drag-hint" ng-show="!state.isCompAnimTypeListFixed"> <span>动画设置可以拖动并固定位置</span> </div> <uib-tabset active="active" justified="true"> <uib-tab index="0" active="state.tabs[0].active"> <uib-tab-heading> 动画设置 </uib-tab-heading> <div class="tab-panel-content"> <div class="form-inline type-selection row anim-copy-btn-panel"> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-green btn-block" ng-disabled="state.shortcut.canCopy==false" ng-click="onAnimateCopy($event)">复制动画 </button> </div> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-red btn-block" ng-disabled="state.shortcut.canClean==false" ng-click="onAnimateClean($event)">清除动画 </button> </div> </div> <div class="anim-unit-box anim-item-list" ng-hide="inner.shouldShowExtractBtn == false"> <div class="form-horizontal anim-unit-container" ng-repeat="animUnit in inner.animUnitList track by $id(animUnit)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animUnit.folded }" ng-click="onFoldArrowClicked($index)"></span> <label class="control-label" ng-bind="\'动画\' + ($index+1)"></label> <span class="glyphicon glyphicon-trash" ng-click="onBtnRemoveClicked($index)" ng-hide="$index == 0 && !animUnit.animItem.group"></span> </div> <div class="anim-content" ng-hide="animUnit.folded"> <div class="form-group"> <label class="col-sm-2 control-label">效果</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animItem" ng-change="onAnimItemChange($index)" ng-options="animType.name group by animType.group for animType in animTypeList"> </select> </div> </div> <div class="form-group" ng-show="animUnit.animItem.category"> <label class="col-sm-2 control-label">方向</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animCategoryItem" ng-change="onAnimCategoryChange($index)" ng-options="anim.name for anim in animUnit.animItem.category"> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">持续</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDuration" ng-blur="onAnimAttrChange($index)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">延迟</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDelay" ng-blur="onAnimAttrChange($index)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">次数</label> <div class="col-sm-7"> <input class="form-control" ng-disabled="animUnit.animInfinite" ng-model="animUnit.animTimes" ng-blur="onAnimAttrChange($index)"> <span class="unit">次</span> </div> <div class="col-sm-3 times-check"> <input type="checkbox" ng-model="animUnit.animInfinite" ng-click="onAnimAttrChange($index)"> <label class="control-label">循环</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">速度</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animSpeedItem" ng-change="onAnimAttrChange($index)" ng-options="speed.name for speed in animSpeedList"> </select> </div> </div> </div> </div> <button type="button" class="btn btn-glass col-xs-12 col-sm-12 add-btn" ng-click="onBtnAddClicked()">添加动画 </button> </div> </div> </uib-tab> <uib-tab index="1" active="state.tabs[1].active"> <uib-tab-heading> 动画剪贴板 </uib-tab-heading> <div class="tab-panel-content"> <div class="text-left prompt"> <p ng-show="clipboardAnimationList.length"> 点击下列动画可应用到当前组件 </p> <p ng-show="!clipboardAnimationList.length"> 复制动画后可快速应用 </p> </div> <div class="text-left prompt"> </div> <div class="anim-unit-box anim-clipboard"> <div class="tn-lighting-box" ng-repeat="anim in clipboardAnimationList | animationCategoryFilter:\'css\' track by $index"> <div class="anim-unit-container lighting-hover" ng-click="onClipboardAnimationSelect(anim.animate)" ng-switch="anim.animate | hasTextAnimation"> <span ng-switch-when="true" ng-bind="\'文字动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-switch-default ng-bind="\'动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-bind="anim.animate | animationNameDesc"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardAnimationDelete(anim)"></span> </div> </div> </div> </uib-tab> </uib-tabset> </section> </div> </div> </div> '),t.put("/views/app/studio/Op/OpCompApplyClassicTableStyle.html",'<div class="op-cp-apply-classic-table-style" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="isReplaceTemplate" ng-click="onStopReplaceTemplate($event)"></div> <div ng-repeat="hintBox in hintBoxs" ng-show="isReplaceTemplate"> <div class="hint-box" ng-style="{\'left\': hintBox.left, \'top\': hintBox.top, \'width\': hintBox.width, \'height\': hintBox.height}"> <div class="hint-text" ng-style="{\'top\': hintBox.textTop}"><span>点击左边内容应用表格样式</span></div> </div> </div> </div> <div class="op-cp-save"> <div class="btn-group" tn-dropdown auto-close="outsideClick" is-open="isOpen" tn-attach-to="cpDSlot"> <button class="op-bar-btn btn" ng-click="onStartReplaceTemplate($event)"> 变换表格 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCompAuxProps.html",'<div class="op-cp-aux-props" tn-attach-to="cpDSlot"> <span class="aux-item" ng-repeat="(auxKey, auxItem) in auxProps track by $index"> <span class="color" ng-if="(auxItem.type == \'color\') && (auxItem.supportGradient)" tn-color-selector="auxItem.value" is-open="state.isOpenFlags[auxKey]" on-color-choose="onAuxColorChange(auxKey, color)" support-color-category="[\'solid\', \'gradient\']"></span> <span class="color" ng-if="(auxItem.type == \'color\') && (!auxItem.supportGradient)" tn-color-selector="auxItem.value" is-open="state.isOpenFlags[auxKey]" on-color-choose="onAuxColorChange(auxKey, color)"></span> </span> </div>'),t.put("/views/app/studio/Op/OpCompBackgroundAudio.html",'<div class="op-cp-background-audio" tn-attach-to="cpDSlot"> <div class="btn-group op-gen-link" tn-dropdown is-open="inner.isMenuOpen" on-toggle="onBgmBtnToggle(open)" auto-close="outsideClick"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="glyphicon glyphicon-music"></span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu"> <li> <div class="audio-panel btn-group"> <button type="button" class="btn btn-default audio-src" ng-bind="selectBgmHint || inner.playBGM.music.name || \'点击选择音乐\'" ng-blur="onPlayBgmUriBlur()" ng-click="onPlayBgmUriFocus()" ng-disabled="inner.forceStopAudio"></button> <button type="button" class="btn btn-default audio-edit" ng-click="onBtnEditBGM()" ng-disabled="inner.playBGM.music == \'\' || !inner.playBGM.music || inner.forceStopAudio"><span class="glyphicon glyphicon-edit"></span></button> <button type="button" class="btn btn-default audio-del" ng-click="onBtnRemoveBGM()" ng-disabled="inner.playBGM.music == \'\' || !inner.playBGM.music || inner.forceStopAudio"><span class="glyphicon glyphicon-trash"></span></button> </div> </li> <li> <div class="checkbox audio-status"> <label> <input type="checkbox" ng-model="inner.forceStopAudio" ng-change="onForceStopAudioChanged()">关闭背景音乐（仅限本页） </label> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompBackgroundRepeat.html",'<div class="op-cp-background" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="onCropping" ng-click="onClickMask($event)"></div> <div class="crop-box" title="拖动修改位置" ng-show="onCropping" ng-style="{\n        \'left\': locViewPort.left + imageBoxOffsetLeft,\n        \'top\': locViewPort.top + imageBoxOffsetTop,\n        \'width\': imageBoxWidth,\n        \'height\': imageBoxHeight\n       }" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan"> <div class="surface" tn-ui-droppable="cpbgImageDpOpts"> <img ng-src="{{ imageSrc | unsafe }}" ng-if="!!imageSrc"> <div class="color" ng-if="!!inner.bgColor" ng-style="{ \n              \'background-color\': (inner.isBgGradient ? \'\' : inner.bgColor),\n              \'background-image\': (inner.isBgGradient ? inner.bgColor : \'\')    \n            }" ng-if="!!inner.bgColor"></div> </div> <div class="surface surface-border"></div> <span class="bar handle ne" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle se" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSE" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle sw" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanSW" stop-propagation="mousedown mouseup click dblclick"></span> <span class="bar handle nw" title="拖拽改变大小" ng-hide="disablePan" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaResizePanStart" hm-panend="onHaResizePanEnd" hm-pan="onHaResizePanNW" stop-propagation="mousedown mouseup click dblclick"></span> </div> <div class="view-port" title="拖动修改位置" ng-show="onCropping" tn-style="locViewPort" hm-recognizer-options="{{ bhoHaMv }}" hm-panstart="onHaMovePanStart" hm-panend="onHaMovePanEnd" hm-pan="onHaMovePan" ng-style="{\n        \'background-image\': imageSrc ? \'url(\' + imageSrc + \')\' : \'none\',\n        \'background-position\': (bgPosX * 100).toFixed(4) + \'% \' + (bgPosY * 100).toFixed(4) + \'%\',\n        \'background-repeat\': bgRepeat,\n        \'background-size\': bgSize\n       }"> <span class="prompt">从左边选择背景</span> <div class="bg-attr-menu form-group" ng-show="onCropping"> <div class="form-group"> <label class="control-label">背景图</label> <select class="form-control bg-repeat-select" ng-model="inner.bgRepeatItem" ng-change="onRepeatChange()" ng-disabled="!!inner.bgColor" ng-options="repeat.name for repeat in bgRepeatList"> </select> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/16438870" target="_blank"> <span class="glyphicon glyphicon-question-sign"></span> </a> </div> <div style="text-align:justify"> <p>背景图文件高度不能超过4000，否则安卓手机会无法显示</p> </div> <div class="form-group" ng-if="false"> <input type="checkbox" class="bg-attach-check" ng-model="inner.bgFixed" ng-click="onAttachChange()"> <label class="control-label">悬浮背景</label> </div> </div> </div> </div> <div class="op-cp-bg-bar" tn-attach-to="cpDSlot" ng-switch="bgMode" ng-show="showOp"> <span class="bg-image" ng-switch-when="image"> <span class="tn-color-circle" ng-click="onClickCrop()"> <span class="face" ng-style="{\n        \'background-image\': imageSrc ? \'url(\' + imageSrc + \')\' : \'none\',\n        \'background-position\': (bgPosX * 100).toFixed(4) + \'% \' + (bgPosY * 100).toFixed(4) + \'%\',\n        \'background-repeat\': bgRepeat,\n        \'background-size\': bgSize\n        }"> </span> </span> </span> <span class="bg-color" ng-switch-when="color"> <span tn-color-selector="inner.bgColor" is-open="state.isBgColorOpen" on-color-choose="onBgColorChoose(color)" on-color-changing="onBgColorChanging(color)" on-color-choose-cancel="onBgColorChooseCancel()" support-color-category="[\'solid\', \'gradient\']"></span> </span> <div class="btn-group" tn-dropdown is-open="state.isBgModeOpen"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle ng-show="bgModeChangeable"> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onBgModeSelect(\'image\')"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: bgMode == \'image\' ? 1 : 0 }"></span> <span>背景图</span> </a> </li> <li> <a ng-click="onBgModeSelect(\'color\')"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: bgMode == \'color\' ? 1 : 0 }"></span> <span>背景色</span> </a> </li> <li> <a ng-click="onBgClear()"> <span class="glyphicon glyphicon-ok" ng-style="{ opacity: 0 }"></span> <span>清除背景</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCompBorderStyle.html",'<div class="op-cp-border" tn-attach-to="cpDSlot"> <div class="cell-layout-box btn-group" tn-dropdown is-open="status.isBorderStylePanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 边框 </button> <section class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <div class="form-horizontal"> <div class="form-group"> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-3 control-label">样式</label> <div class="col-sm-9"> <select class="form-control menu-style-input" ng-options="style.displayName for style in borderStyleSelect.styles" ng-change="onBorderStyleChanged()" ng-model="borderStyleSelect.selected" ng-cloak> </select> </div> </div> </div> <label class="col-sm-3 control-label">尺寸</label> <div class="col-sm-5"> <span ui-slider="borderWidthSlider.options" use-decimals ng-model="borderWidthSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" type="number" min="0" max="20" ng-model="borderWidthSlider.value" ng-blur="onBorderWidthChanged(\'width\')"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">弧度</label> <div class="col-sm-5"> <span ui-slider="borderRadiusSlider.options" use-decimals ng-model="borderRadiusSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" type="number" min="0" max="20" ng-model="borderRadiusSlider.value" ng-blur="onBorderRadiusChanged(\'radius\')"> <span class="unit">像素</span> </div> </div> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-3 control-label">颜色</label> <div class="col-sm-3"> <span class="op-theme-color-sec" tn-color-selector="borderColor.color" on-color-choose="onBorderColorChoose(color)"> </span> </div> </div> </div> </div> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCompBox.html",'<div class="op-cp-box" tn-attach-to="cpDSlot"> <div class="comp-layout-box btn-group" tn-dropdown is-open="status.isBoxPanelOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 容器 </button> <ul class="op-bar-menu layout-box-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">内空间</label> <div class="col-sm-5"> <span ui-slider="paddingSlider.options" use-decimals ng-model="paddingSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" ng-model="paddingSlider.value" ng-blur="onPaddingValueChanged()"> <span class="unit">px</span> </div> </div> </li> <li role="separator" class="divider" ng-if="false"></li> <li class="form-horizontal" ng-if="false"> <div class="form-group"> <label class="col-sm-3 control-label">边框尺寸</label> <div class="col-sm-5"> <span ui-slider="borderWidthSlider.options" use-decimals ng-model="borderWidthSlider.value"></span> </div> <div class="col-sm-4"> <input class="form-control" ng-model="borderWidthSlider.value" ng-blur="onBorderWidthChanged()"> <span class="unit">px</span> </div> </div> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompClipboard.html",'<div class="op-cp-clipboard" tn-attach-to="cpDSlot"> <button class="btn btn-success op-bar-btn" title="复制 | {{ ::shortcutKey(\'Copy\') }}" ng-click="onClickClipboard()"> 复制 </button> <div class="btn-group" tn-dropdown is-open="state.isShortcutOpen" auto-close="outsideClick"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> </button> <ul class="op-bar-menu shorter-panel shortcut-op-bar-panel" tn-dropdown-menu role="menu"> <li> <a style="text-align: center;" ng-click="onCutClipboard($event)" title="剪切 | {{ ::shortcutKey(\'Cut\') }}"> <span>剪切 | {{ ::shortcutKey(\'Cut\') }}</span> </a> </li> <li> <a style="text-align: center;" ng-click="onPasteFromClipboard($event)" title="粘贴 | {{ ::shortcutKey(\'Paste\') }}"> <span>粘贴 | {{ ::shortcutKey(\'Paste\') }}</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompCollect.html",'<div class="op-cp-collect"> <button class="btn btn-success op-bar-btn" ng-click="onCollectClicked()" tn-attach-to="cpDSlot"> 收藏 </button> </div>'),t.put("/views/app/studio/Op/OpCompCopyToClipboard.html",'<div class="op-cp-copy-to-clipboard" tn-attach-to="cpDSlot"> <a class="menu-item" ng-click="onClickCopyToClipboard()"> <span>复制到微信</span> </a> </div>'),t.put("/views/app/studio/Op/OpCompDebug.html",'<div class="op-debug-panel comp"> <div class="inner"> <section ng-repeat="item in debug"> {{ item.name }}: <pre>{{ item.value | json }}</pre> </section> </div> </div>'),t.put("/views/app/studio/Op/OpCompDelete.html",'<div class="op-cp-delete"> <button class="btn btn-danger op-bar-btn" ng-click="onClickDelete()" tn-attach-to="cpDSlot"> <span class="op-bar-icon delete"></span> </button> <button class="btn btn-danger op-bar-btn" ng-click="onClickDelete()" tn-attach-to="cpDpDSlot"> <span class="glyphicon glyphicon-trash"></span> 删除 </button> </div>'),t.put("/views/app/studio/Op/OpCompFontSizeGlobalScale.html",'<div class="op-cp-scale op-cp-global-scale" tn-attach-to="cpDSlot" ng-show="showScale" ng-cloak> <label class="control-label">基础字号</label> <div class="op-text-sec font-size btn-group" title="字体大小" tn-dropdown is-open="state.isSizeListOpen" stop-propagation="mousedown mouseup click dblclick keydown keyup"> <input class="form-control size-input" type="text" ng-model="inner.scale" ng-keydown="onScaleInputKeyDown($event)" ng-blur="onScaleInputBlur()"> <button class="btn btn-success op-bar-btn size-list-toggle" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="size-list-menu op-bar-menu" tn-dropdown-menu role="menu"> <li ng-repeat="sz in sizes"> <a class="item" ng-bind="sz" ng-click="onSizeListSelected($index)"></a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompFontSizeScale.html",'<div class="op-cp-scale" tn-attach-to="cpDSlot" ng-show="showScale" ng-cloak> <label class="control-label">缩放</label> <input class="form-control scale-input" ng-model="inner.scale" ng-blur="onScaleInputBlur($event)" ng-keydown="onScaleInputKeyDown($event)"> <span class="unit">%</span> </div>'),t.put("/views/app/studio/Op/OpCompFreeLayoutAspectRatio.html",'<div class="op-cp-free-layout-aspect-ratio" tn-attach-to="cpDSlot"> <div class="aspect-ratio-option"> <label class="control-label">宽高比&nbsp;</label> <input class="form-control" type="number" step="1" min="1" max="10000" ng-model="status.aspectRatio.width" ng-blur="onAspectRatioChanged()" ng-keyup="onAspectRatioKeyUp($event)"> <label> : </label> <input class="form-control" type="number" step="1" min="1" max="10000" ng-model="status.aspectRatio.height" ng-blur="onAspectRatioChanged()" ng-keyup="onAspectRatioKeyUp($event)"> </div> <div class="btn-group dropdown aspect-ratio-selection" tn-dropdown="" is-open="status.showAspectRatioSelection"> <button class="btn btn-select-mode op-bar-btn dropdown-toggle" type="button" tn-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu insert-text-op-bar-panel dropdown-menu" tn-dropdown-menu="" role="menu"> <li> <a ng-click="onAspectRatioSelect(\'1_1\')"> <span>1 : 1</span> </a> </li> <li> <a ng-click="onAspectRatioSelect(\'3_4\')"> <span>3 : 4</span> </a> </li> <li> <a ng-click="onAspectRatioSelect(\'375_563\')"> <span>H5页面</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompGlobalFormat.html",'<div class="op-cp-global-format"> <div class="op-cp-global-format-tb" tn-attach-to="cpDSlot"> <div class="btn-group tn-global-format-dropdown" tn-dropdown is-open="state.isFormatPanelOpen" auto-close="outsideClick" on-toggle="onFormatPanelToggle(state.isFormatPanelOpen)"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span>基础格式</span> </button> <div class="op-bar-menu format-panel" tn-dropdown-menu role="menu" ng-style="state.menuPos"> <uib-tabset class="tn-basic-format-tabset" type="pills" justified="true"> <uib-tab class="entry" active="state.tabActive.text"> <uib-tab-heading> <span class="entry-name">文字基础格式</span> </uib-tab-heading> <div class="form-horizontal tn-basic-format-text"> <div class="form-group font-size-scale-panel" ng-show="state.fontSizeScale.showScale"> <label class="col-sm-4 control-label">基础字号</label> <div class="col-sm-8 font-size btn-group" title="字体大小"> <div class="form-control"> <select class="op-menu-input size-select" ng-options="sz for sz in inner.fontSizeScale.fontSizes" ng-model="inner.fontSizeScale.selectedValue" ng-change="onSizeListSelected()" ng-cloak> </select> <input class="op-menu-input size-input" type="text" ng-model="inner.fontSizeScale.scale" tn-number-input precision="1" min="0" max="144" skim-value-prev="findSmallerSize($currentValue)" skim-value-next="findLargerSize($currentValue)" skim-change="onFontSizeSkimChange()" skim-end="onFontSizeChanged()" tn-text-input-done="onFontSizeChanged()"> </div> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">基础字体</label> <div class="col-sm-8 btn-group font-family-panel"> <div class="form-control" ng-click="onFontFamilyListPopup()"> <span class="font-family-name" ng-class="(\'stc-family-name-yzk-\' + inner.fontFamily.selected.fontId)" ng-bind="inner.fontFamily.selected.name"></span> <span class="glyphicon glyphicon-play glyphicon-style"></span> </div> <ul class="font-family-list" ng-show="state.fontFamily.showFamilyList"> <li ng-repeat="ff in ::inner.fontFamily.fontFamilies track by $index" title="{{ ::ff.name }}" ng-show="ff | fontFamilyVisible:\'wechat\'"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">行间距</label> <div class="col-sm-8 line-spacing btn-group"> <input class="form-control op-menu-input spacing-input" type="text" ng-model="inner.spacing.lineSpacing" tn-number-input step="0.1" precision="0.01" min="0" skim-change="onLineSpacingSkimChange()" skim-end="onLineSpacingChanged()" tn-text-input-done="onLineSpacingChanged()"> <span class="unit">倍</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">字间距</label> <div class="col-sm-8 letter-spacing btn-group"> <input class="form-control op-menu-input spacing-input" type="text" ng-model="inner.spacing.letterSpacing" tn-number-input step="1" precision="1" min="0" skim-change="onLetterSpacingSkimChange()" skim-end="onLetterSpacingChanged()" tn-text-input-done="onLetterSpacingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">段落间距</label> <div class="col-sm-8 line-spacing btn-group"> <input class="form-control op-menu-input spacing-input" type="text" ng-model="inner.paragraphMargin.bottom" tn-number-input step="1" precision="1" min="0" skim-change="onParagraphMarginSkimChange()" skim-end="onParagraphMarginChanged()" tn-text-input-done="onParagraphMarginChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">页边距 左右</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control op-menu-input padding-input" type="text" ng-model="inner.spacing.paddingLeft" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="showType == \'paper\'"> <label class="col-sm-4 control-label">页边距 上</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control op-menu-input padding-input" type="text" ng-model="inner.spacing.paddingTop" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="showType == \'paper\'"> <label class="col-sm-4 control-label">页边距 下</label> <div class="col-sm-8 horizontal-padding btn-group"> <input class="form-control op-menu-input padding-input" type="text" ng-model="inner.spacing.paddingBottom" tn-number-input step="1" precision="1" min="0" skim-change="onPaddingSkimChange()" skim-end="onPaddingChanged()" tn-text-input-done="onPaddingChanged()"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label">正文颜色</label> <div class="col-sm-8"> <span class="op-theme-color-sec" tn-color-selector="inner.fontColor.colorValue" non-dropdown="true" on-color-choose="onFontColorChoose(color)" is-container-open="state.isFormatPanelOpen"> </span> </div> </div> <div class="form-group text-center"> <button class="btn btn-glass" ng-click="resetTextFormat()">重置格式</button> <button class="btn btn-glass" ng-click="saveToFragment()">收藏格式</button> </div> </div> </uib-tab> <uib-tab class="entry" active="state.tabActive.image" select="onImageBrushTabToggle(true)" deselect="onImageBrushTabToggle(false)"> <uib-tab-heading> <span class="entry-name">图片基础格式</span> </uib-tab-heading> <div class="form-horizontal tn-basic-format-image"> <div class="form-group"> <label class="col-sm-4 control-label">图片格式</label> <div class="col-sm-8" title="选择图片样式"> <select class="form-control op-menu-input" ng-model="inner.imageBrushName" ng-change="onImageBrushNameChanged(inner.imageBrushName)"> <option value="default">系统默认</option> <option value="margin-0">无缝图片</option> <option value="user-custom">自定义</option> </select> </div> </div> <div class="preview-wrapper clearfix" ng-if="inner.imageBrushName == \'user-custom\'"> <div class="setting-prompt">点击左边内容设<br>置图片基础格式</div> <div ng-repeat="cp in inner.imageBrushComps" tn-bind-comp="cp"></div> </div> </div> </uib-tab> </uib-tabset> </div> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCompGroundPage.html",'<div class="op-cp-ground-page"> <button class="btn btn-success op-bar-btn" ng-click="onAddForePageAfter()" tn-attach-to="cpDSlot"> 创建背景组 </button> </div>'),t.put("/views/app/studio/Op/OpCompGroup.html",'<div class="op-cp-group"> <button class="btn btn-success op-bar-btn" ng-disabled="canGroupItems() == false" ng-if="hasGroupItems() == false" ng-click="onGroupClicked()" tn-attach-to="cpDSlot"> 组合 </button> <button class="btn btn-success op-bar-btn" ng-disabled="canUnGroupItems() == false" ng-if="hasGroupItems() == true" ng-click="onGroupClicked()" tn-attach-to="cpDSlot"> 分解 </button> </div>'),t.put("/views/app/studio/Op/OpCompInsertText.html",'<div class="op-cp-insert-text" tn-attach-to="cpDSlot" ng-switch="insertMode"> <button class="btn op-bar-btn insert-after" ng-switch-when="after" ng-click="onClickInsert(true)">后插空行</button> <button class="btn op-bar-btn insert-before" ng-switch-when="before" ng-click="onClickInsert(false)">前插空行</button> <div class="btn-group" tn-dropdown is-open="state.isInsertModeOpen"> <button class="btn btn-select-mode op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu insert-text-op-bar-panel" tn-dropdown-menu role="menu"> <li ng-show="insertMode == \'before\'"> <a ng-click="onInsertModeSelect(true)"> <span>后插空行</span> </a> </li> <li ng-show="insertMode == \'after\'"> <a ng-click="onInsertModeSelect(false)"> <span>前插空行</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCompLink.html",'<div class="op-cp-link op-gen-link" tn-attach-to="cpDSlot"> <div class="btn-group op-gen-link" tn-dropdown on-toggle="onMenuToggle(open)" is-fixed="state.isCompLinkPanelFixed" auto-pin="enabled" is-open="state.isMenuOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" title="点击动作" tn-dropdown-toggle ng-switch="status.type"> <span class="op-bar-icon action-default" ng-switch-when="none"></span> <span class="op-bar-icon action-link" ng-switch-when="http"></span> <span class="op-bar-icon action-mail" ng-switch-when="email"></span> <span class="op-bar-icon action-phone" ng-switch-when="tel"></span> <span class="op-bar-icon action-jumppage" ng-switch-when="turnPage"></span> <span class="op-bar-icon action-submit" ng-switch-when="submitForm"></span> <span class="op-bar-icon action-playbgm" ng-switch-when="playBGM"></span> <span class="op-bar-icon action-trigger" ng-switch-when="trigger"></span> </button> <section class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu"> <div class="panel-header text-center" ng-show="state.isCompLinkPanelFixed"> <span class="glyphicon glyphicon-ok-sign panel-placeholder"></span> <span class="glyphicon glyphicon-menu-hamburger panel-handler"></span> <span class="glyphicon glyphicon-remove panel-close" ng-click="onHideCompLinkPanel()"></span> </div> <div class="drag-hint" ng-show="!state.isCompLinkPanelFixed"> <span>动作设置可以拖动并固定位置</span> </div> <uib-tabset active="active" justified="true"> <uib-tab index="0" active="state.tabs[0].active"> <uib-tab-heading> 动作设置 </uib-tab-heading> <div class="tab-panel-content"> <ul class="link-item-container" ng-switch="inner.type"> <li> <div class="form-inline type-selection row link-copy-btn-panel"> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-green btn-block" ng-click="onCopyAction($event)" ng-disabled="!status.canCopyAction"> <span>复制</span><span ng-bind="status.copyExText"></span> </button> </div> <div class="col-md-6 btn-panel"> <button type="button" class="btn btn-red btn-block" ng-click="onClearAction($event)" ng-disabled="!status.canClearAction"> <span>清除</span><span ng-bind="status.copyExText"></span> </button> </div> </div> </li> <li> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-2 control-label"> <span>类型</span> </label> <div class="col-sm-10"> <select class="form-control menu-style-input" ng-model="inner.type" ng-change="onLinkTypeChanged()" ng-options="type as displayName for (type, displayName) in types"> </select> </div> </div> </div> <div class="form-horizontal" ng-switch-when="none"> </div> <div class="form-horizontal" ng-switch-when="http"> <div class="form-group"> <label class="col-sm-2 control-label"> <span>链接</span> </label> <div class="col-sm-10"> <input class="form-control menu-style-input" placeholder="请输入链接，按回车确认" type="text" inputmode="url" autocomplete="url" ng-model="inner.linkUri" tn-text-input-done="onHttpInputDone($event)"> </div> </div> </div> <div class="form-horizontal" ng-switch-when="email"> <div class="form-group"> <label class="col-sm-2 control-label"> <span>邮箱</span> </label> <div class="col-sm-10"> <input class="form-control menu-style-input" placeholder="请输入邮箱" type="email" inputmode="email" autocomplete="email" ng-model="inner.email.mail" tn-text-input-done="onMailInputDone($event)"> </div> </div> <div class="form-group" ng-if="showType === \'paper\'"> <label class="col-sm-12 control-label prompt">邮箱功能仅在秀米图文内有效</label> </div> </div> <div class="form-horizontal" ng-switch-when="tel"> <div class="form-group"> <label class="col-sm-2 control-label"> <span>电话</span> </label> <div class="col-sm-10"> <input class="form-control menu-style-input" placeholder="请输入电话号码" type="text" inputmode="tel" autocomplete="tel" ng-model="inner.tel.number" tn-text-input-done="onTelInputDone($event)"> </div> </div> </div> <div class="form-horizontal" ng-switch-when="turnPage"> <div class="form-group"> <label class="col-sm-2 control-label"> <span>页码</span> </label> <div class="col-sm-10"> <select class="form-control menu-style-input" ng-model="inner.turnPage.targetPageTag" ng-change="onPageNumberInputDone($event)"> <option value="none">-- 请选择页码 --</option> <optgroup ng-repeat="cube in inner.turnPage.cubes track by $index" ng-init="itemCubeIdx = $index" label="{{ \'第 \'+ (itemCubeIdx + 1) +\' 章\' }}{{ cube._comp.title ? (\' -- \' + cube._comp.title) : \'\' }}"> <option ng-repeat="page in cube.pages track by $index" ng-init="itemPageIdx = $index" ng-hide="itemCubeIdx == inner.turnPage.cubeIndex && itemPageIdx == inner.turnPage.pageIndex" value="c:{{ itemCubeIdx }}.p:{{ itemPageIdx }}"> C{{ itemCubeIdx + 1 }} - 第 {{ itemPageIdx + 1 }} 页 {{ page._comp.title ? (\' -- \' + page._comp.title) : \'\' }} </option> </optgroup> </select> </div> </div> </div> <div class="form-horizontal" ng-switch-when="submitForm"> <div class="form-group" ng-hide="true"> <div class="col-sm-offset-2 col-sm-10"> <div class="checkbox" style="padding-bottom:7px"> <label> <input type="checkbox" ng-model="inner.submitForm.formClosed" ng-click="onCloseFormClicked($event)"> 停止提交数据 </label> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">提示信息</label> <div class="col-sm-10"> <input type="text" class="form-control menu-style-input" placeholder="谢谢您的参与" ng-model="inner.submitForm.prompt" tn-text-input-done="onFormPromptInputDone($event)"> </div> </div> <div class="form-group" style="margin-top:10px;"> <label class="col-sm-2 control-label">外链</label> <div class="col-sm-10"> <input type="text" class="form-control menu-style-input" placeholder="可设置提交后跳转到此链接" inputmode="url" autocomplete="url" ng-model="inner.submitForm.outerlink" tn-text-input-done="onFormOuterLinkInputDone($event)"> </div> </div> </div> <div class="form-horizontal" ng-switch-when="playBGM"> <div class="form-group"> <label class="col-sm-2 control-label">音乐</label> <div class="col-sm-10 btn-group"> <button type="button" class="form-control btn btn-default" style="background: transparent; color: white; text-align: left; width: 85%;" ng-bind="selectBgmHint || inner.playBGM.music.name || \'点击选择音乐\'" ng-click="onPlayBgmUriFocus()" ng-blur="onPlayBgmUriBlur()"></button> <button type="button" class="btn btn-default" style="width: 15%" ng-click="onPlayBgmClip()" ng-disabled="inner.playBGM.music == \'\' || !inner.playBGM.music"><span class="glyphicon glyphicon-edit"></span></button> </div> </div> </div> <div class="form-horizontal" ng-switch-when="trigger"> <div class="form-group trigger-target-selection"> <label class="col-sm-2 control-label">目标组件</label> <div class="col-sm-10"> <div class="btn-group target-comp-selector"> <button type="button" class="btn dropdown-toggle form-control menu-style-button item-detail-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="title">添加目标组件</span> <span class="glyphicon glyphicon-plus indicator"></span> </button> <ul class="dropdown-menu op-bar-menu trigger-target-list" stop-parent-scrolling> <li ng-repeat="target in inner.trigger.topLevelComps | orderBy:\'-\' track by $index"> <a href="" ng-click="onNewTargetSelected(target)" ng-mouseenter="onNewTargetMouseEnter(target)" ng-mouseleave="onNewTargetMouseLeave(target)"> <div class="trigger-item row"> <div class="face col-xs-10" ng-switch="target.compCatg"> <div class="text" ng-switch-when="text" ng-bind="target.compDesc"> </div> <div class="image" ng-switch-when="image"> <img ng-src="{{ target.compDesc | unsafe }}" alt=""> </div> <div class="default" ng-switch-default ng-bind="\'组件\' + (target.compInst.compIndex + 1)"></div> </div> <div class="state col-xs-2 text-right"> <span class="glyphicon glyphicon-ok" ng-show="isInTriggerTargets(target)"></span> </div> </div> </a> </li> </ul> </div> </div> </div> <div class="trigger-target-box"> <ul class="trigger-target-list list-style-none"> <li> <button type="button" class="btn form-control menu-style-button item-detail-button" ng-click="onPreviewTriggerAnimation()"> <span class="glyphicon glyphicon-play"></span> 预览触发动画 </button> </li> <li ng-repeat="target in inner.trigger.targets track by $index"> <div class="form-horizontal trigger-item"> <div class="form-group face"> <label class="col-sm-10 control-label face" ng-switch="target.compCatg"> <div class="text" ng-switch-when="text" ng-bind="target.compDesc"> </div> <div class="image" ng-switch-when="image"> <img ng-src="{{ target.compDesc | unsafe }}" alt=""> </div> <div class="default" ng-switch-default ng-bind="\'组件\' + (target.compInst.compIndex + 1)"></div> </label> <div class="col-xs-2 delete text-right"> <p class="form-control-static"> <span class="glyphicon glyphicon-trash" ng-click="onTargetItemDeleteClicked(target)"></span> </p> </div> </div> <div class="form-group usage"> <label class="col-sm-2 control-label">行为</label> <div class="col-sm-10"> <select class="form-control menu-style-input" ng-model="target.usage" ng-change="onTriggerItemUsageChanged(target)"> <option value="entrance">让它进入(目标进入前自动隐藏)</option> <option value="default">让它动一下</option> <option value="exit">让它退出(目标退出后自动隐藏)</option> </select> </div> </div> <div class="form-group animation"> <label class="col-sm-2 control-label">动画</label> <div class="col-sm-10"> <button type="button" class="btn form-control menu-style-button item-detail-button" tn-animation-picker ng-model="target.anim" on-animation-changed="onTargetItemAnimationChanged(target, animations)"> <span class="title" ng-bind="target.anim | animationNameDesc" title="{{ target.anim | animationNameDesc }}"></span> <span class="glyphicon glyphicon-chevron-right indicator"></span> </button> </div> </div> </div> </li> </ul> </div> </div> </li><li role="presentation" class="divider" ng-if="showType !== \'paper\'" ng-show="false"></li> <li ng-if="showType !== \'paper\'" ng-show="false"> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-6 control-label"> <span class="glyphicon glyphicon-bell"></span>&nbsp;<span>点击音效</span> </label> <div class="col-sm-6"> <p class="form-control-static text-right"> <button class="btn btn-green btn-xs" ng-click="onSoundPlayClick()" ng-show="!audioPlayerState.playing" ng-disabled="!inner.soundEffect.uri"> <span class="glyphicon glyphicon-play"></span> </button> <button class="btn btn-red btn-xs" ng-click="onSoundStopClick()" ng-show="audioPlayerState.playing" ng-disabled="!inner.soundEffect.uri"> <span class="glyphicon glyphicon-stop"></span> </button> <button class="btn btn-red btn-xs" ng-click="onSoundDeleteClick()" ng-disabled="!inner.soundEffect.uri"> <span class="glyphicon glyphicon-trash"></span> </button> </p> </div> </div> <div class="form-group"> <div class="col-sm-12"> <input class="form-control menu-style-input" type="text" inputmode="url" autocomplete="url" ng-focus="onSoundUriFocus()" placeholder="从我的音乐选择，或输入外链" ng-model="inner.soundEffect.uri" tn-text-input-done="onSoundUriDone()"> </div> </div> </div> </li>  </ul> </div> </uib-tab> <uib-tab index="1" active="state.tabs[1].active"> <uib-tab-heading> 动作剪贴板 </uib-tab-heading> <div class="table-panel-content"> <ul class="action-clip-op-bar-panel"> <li> <p ng-show="copiedActions.length" class="link-action-prompt text-justify"> 点击下列链接/动作可应用到当前组件 </p> <p ng-show="!copiedActions.length" class="link-action-prompt text-justify"> 复制链接/动作后可快速应用 </p> </li> <li> <div class="anim-unit-box anim-clipboard"> <div class="tn-lighting-box" ng-repeat="act in copiedActions track by $id(act)"> <div class="anim-unit-container lighting-hover" ng-click="onPasteAction($event, act)" title="{{act.action}}" ng-switch="act.type"> <span class="op-bar-icon action-link" ng-switch-when="http"></span> <span class="op-bar-icon action-mail" ng-switch-when="email"></span> <span class="op-bar-icon action-phone" ng-switch-when="tel"></span> <span class="op-bar-icon action-jumppage" ng-switch-when="turnPage"></span> <span class="op-bar-icon action-submit" ng-switch-when="submitForm"></span> <span class="op-bar-icon action-playbgm" ng-switch-when="playBGM"></span> <span class="op-bar-icon action-trigger" ng-switch-when="trigger"></span> <span ng-bind="act.typeText"></span> <span ng-bind="act.action"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onRemoveAction($event, act)"></span> </div> </div> </li> </ul> </div> </uib-tab> </uib-tabset> </section> </div> <div class="btn-group" tn-dropdown is-open="state.isEditActionOpen" auto-close="outsideClick" ng-if="false"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> </button> <ul class="op-bar-menu shortcut-op-bar-panel" tn-dropdown-menu role="menu"> <li> <a class="btn" ng-click="onCopyAction($event)" ng-disabled="!status.canCopyAction"> <span>复制</span><span ng-bind="status.copyExText"></span> </a> </li> <li> <a class="btn" ng-click="onClearAction($event)" ng-disabled="!status.canClearAction"> <span>清除</span><span ng-bind="status.copyExText"></span> </a> </li> <li role="separator" class="divider"></li> <li> <p ng-show="copiedActions.length" class="link-action-prompt text-justify"> 点击下面链接/动作以应用 </p> <p ng-show="!copiedActions.length" class="link-action-prompt text-justify"> 复制链接/动作后可快速应用 </p> </li> <li> <div class="anim-unit-box anim-clipboard"> <div class="tn-lighting-box" ng-repeat="act in copiedActions track by $id(act)"> <div class="anim-unit-container lighting-hover" ng-click="onPasteAction($event, act)" title="{{act.action}}" ng-switch="act.type"> <span class="op-bar-icon action-link" ng-switch-when="http"></span> <span class="op-bar-icon action-mail" ng-switch-when="email"></span> <span class="op-bar-icon action-phone" ng-switch-when="tel"></span> <span class="op-bar-icon action-jumppage" ng-switch-when="turnPage"></span> <span class="op-bar-icon action-submit" ng-switch-when="submitForm"></span> <span class="op-bar-icon action-playbgm" ng-switch-when="playBGM"></span> <span class="op-bar-icon action-trigger" ng-switch-when="trigger"></span> <span ng-bind="act.typeText"></span> <span ng-bind="act.action"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onRemoveAction($event, act)"></span> </div> </div> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCompMargin.html",'<div class="op-cp-margin"> <div class="op-cp-margin-tb" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="state.isMenuOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle>组件定位</button> <section class="op-bar-menu" tn-dropdown-menu role="menu"> <div class="form-horizontal"> <div class="dc-cp-scale"></div> <div class="form-group"> <label class="col-sm-3 control-label">组前距</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.marginTop.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginTopUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">组后距</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.marginBottom.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginBottomUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">对齐</label> <div class="col-sm-9"> <button class="btn op-bar-btn" title="左对齐" ng-click="onApplyAlignH(\'left\')" ng-class="{ \'active\': inner.tnAlignH === \'left\' }"> <img src="/images/app/studio/97bd07.text-align-left.png"> </button> <button class="btn op-bar-btn" title="居中对齐" ng-click="onApplyAlignH(\'center\')" ng-class="{ \'active\': inner.tnAlignH === \'center\' }"> <img src="/images/app/studio/85573e.text-align-center.png"> </button> <button class="btn op-bar-btn" title="右对齐" ng-click="onApplyAlignH(\'right\')" ng-class="{ \'active\': inner.tnAlignH === \'right\' }"> <img src="/images/app/studio/575d55.text-align-right.png"> </button> </div> </div> </div> <div class="dc-cp-translate"></div> <div class="form-horizontal" ng-if="false"> <div class="form-group"> <label class="col-sm-3 control-label">层次</label> <div class="col-sm-9"> <button class="col-sm-9 btn btn-glass-light tn-bar-btn-active-color" ng-class="{ active: !!inner.isolate }" ng-click="onToggleIsolate($event)"> 重叠优先 </button> <a class="no-decoration xiumi-white" href="//v.xiumi.us/board/v5/2a5va/138609029" target="_blank"> <span class="glyphicon glyphicon-question-sign" style="margin-left: 10px; margin-top: 8px;"></span> </a> </div> </div> </div> <div class="dc-cp-pose-z-index"></div> </section> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCompMenuPin.html",'<div class="op-cp-menu-pin"> <div class="op-cp-menu-pin-tb" tn-attach-to="cpDSlot"> <button class="btn op-bar-btn" ng-class="{ \'activated\': inner.menuBarPinned }" ng-click="onClickMenuPin()"> <span class="op-bar-icon glyphicon glyphicon-pushpin"></span> </button> </div> </div>'),t.put("/views/app/studio/Op/OpCompMobileCompSel.html",'<div class="op-cp-mobile-compsel" tn-attach-to="cpDSlot"> <div class="button-group"> <button type="button" class="btn btn-success btn-insert-mode op-bar-btn" ng-disabled="!canSelectPrevComp" ng-click="onSelectPrev()"><span class="glyphicon glyphicon-arrow-left"></span></button> <button type="button" class="btn btn-success btn-insert-mode op-bar-btn" ng-disabled="!canSelectNextComp" ng-click="onSelectNext()"><span class="glyphicon glyphicon-arrow-right"></span></button> </div> </div>'),t.put("/views/app/studio/Op/OpCompMobileGlobalFormat.html",'<div class="op-cp-mobile-global-format"> <div class="op-cp-mobile-global-format-tb" tn-attach-to="cpDSlot"> <section class="format-panel" ng-hide="isPalettePanelDisplay"> <div class="form-horizontal font-size-scale-panel" ng-show="state.fontSizeScale.showScale"> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">基础字号</label> <div class="col-xs-8 col-sm-8 font-size btn-group" title="字体大小" stop-propagation="mousedown mouseup click dblclick keydown keyup"> <div class="form-control"> <select class="size-select" ng-options="sz for sz in inner.fontSizeScale.fontSizes" ng-model="inner.fontSizeScale.selectedValue" ng-change="onSizeListSelected()" ng-cloak> </select> <input class="size-input" type="text" type="number" min="0" max="144" ng-model="inner.fontSizeScale.scale" ng-keydown="onScaleInputKeyDown($event)" ng-blur="onScaleInputBlur()"> </div> </div> </div> </div> <div class="form-horizontal"> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">基础字体</label> <div class="col-xs-8 col-sm-8 btn-group font-family-panel text-left"> <div class="form-control" ng-click="onFontFamilyListPopup()"> <span class="font-family-name" ng-class="(\'stc-family-name-yzk-\' + inner.fontFamily.selected.fontId)" ng-bind="inner.fontFamily.selected.name"></span> <span class="glyphicon glyphicon-play glyphicon-style"></span> </div> <ul class="font-family-list" ng-show="state.fontFamily.showFamilyList"> <li ng-repeat="ff in ::inner.fontFamily.fontFamilies track by $index" title="{{ ::ff.name }}" ng-show="ff | fontFamilyVisible:\'wechat\'"> <a class="item" ng-click="onFontFamilySelected(ff)"> <span class="face" ng-class="::(\'stc-family-name-yzk-\' + ff.fontId)" ng-bind="::ff.name"></span> </a> </li> </ul> </div> </div> </div> <div class="form-horizontal spacing-panel"> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">行间距</label> <div class="col-xs-8 col-sm-8 line-spacing btn-group"> <input class="form-control spacing-input" ng-model="inner.spacing.lineSpacing" ng-blur="onLineSpacingChanged()" ng-keydown="onLineSpacingKeyDown($event)" ng-cloak> <span class="unit">倍</span> </div> </div> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">字间距</label> <div class="col-xs-8 col-sm-8 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="inner.spacing.letterSpacing" ng-blur="onLetterSpacingChanged()" ng-keydown="onLetterSpacingKeyDown($event)"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">段落间距</label> <div class="col-xs-8 col-sm-8 line-spacing btn-group"> <input class="form-control spacing-input" ng-model="inner.paragraphMargin.bottom" ng-blur="onParagraphMarginChanged()" ng-keydown="onParagraphMarginKeyDown($event)" type="number" min="0" ng-cloak> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">页边距 左右</label> <div class="col-xs-8 col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.spacing.paddingLeft" ng-blur="onPaddingChanged()" ng-keydown="onPaddingKeyDown($event, \'paddingLeft\')"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="showType == \'paper\'"> <label class="col-xs-4 col-sm-4 control-label">页边距 上</label> <div class="col-xs-8 col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.spacing.paddingTop" ng-blur="onPaddingChanged()" ng-keydown="onPaddingKeyDown($event, \'paddingTop\')"> <span class="unit">像素</span> </div> </div> <div class="form-group" ng-hide="showType == \'paper\'"> <label class="col-xs-4 col-sm-4 control-label">页边距 下</label> <div class="col-xs-8 col-xs-8 col-sm-8 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.spacing.paddingBottom" ng-blur="onPaddingChanged()" ng-keydown="onPaddingKeyDown($event, \'paddingBottom\')"> <span class="unit">像素</span> </div> </div> </div> <div class="form-horizontal"> <div class="form-group"> <label class="col-xs-4 col-sm-4 control-label">正文颜色</label> <div class="col-xs-8 col-sm-8 text-left"> <span class="tn-color-circle" ng-click="onDisplayPalettePanel($event)"> <span class="face" ng-style="{ backgroundColor: inner.fontColor.colorValue }" title="{{ inner.fontColor.colorValue }}" ng-if="::(!isGradientColor(inner.fontColor.colorValue))"></span> <span class="face" ng-style="{ backgroundImage: inner.fontColor.colorValue }" title="{{ inner.fontColor.colorValue }}" ng-if="::(isGradientColor(inner.fontColor.colorValue))"></span> </span> </div> </div> </div> <div class="form-horizontal"> <div class="form-group confirm text-center" ng-click="onGlobalFormatConfirm()"> <label class="col-xs-12 col-sm-12">关闭</label> </div> </div> </section> <div class="tn-mobile-palette-panel" ng-show="isPalettePanelDisplay" ng-click="onClickOnPanel($event)" stop-propagation="click" ng-cloak> <ul class="nav nav-tabs" ng-if="colorCategory.support.length > 1" ng-hide="colorGroupNameInEdit"> <li role="presentation" ng-class="(colorCategory.cur == \'solid\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'solid\')"><a>纯色</a></li> <li role="presentation" ng-class="(colorCategory.cur == \'gradient\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'gradient\')"><a>渐变色</a></li> </ul> <div class="color-group" ng-show="colorPalette.length > 1"> <select class="form-control" ng-options="colorGroup.groupName for colorGroup in colorPalette" ng-model="currentColorGroup" ng-change="onColorGroupChanged(currentColorGroup.groupName)"> </select> </div> <ul class="color-list text-left tn-overflow-style-adapter" ng-model="currentColorGroup.colorList"> <li class="color-item" ng-repeat="clr in currentColorGroup.colorList" ng-show="(colorCategory.cur == \'solid\' && !isGradientColor(clr)) || (colorCategory.cur == \'gradient\' && isGradientColor(clr))"> <span class="tn-color-circle" ng-click="onFontColorChoose($event, clr)"> <span class="face" ng-style="::{ backgroundColor: clr }" title="{{ ::clr }}" ng-if="::(!isGradientColor(clr))"></span> <span class="face" ng-style="::{ backgroundImage: clr }" title="{{ ::clr }}" ng-if="::(isGradientColor(clr))"></span> </span> </li> </ul> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCompMobileToolbar.html",'<div class="op-cp-toolbar" tn-attach-to="cpDSlot"> <div class="button-group"> <button type="button" class="btn btn-success btn-move-prev op-bar-btn" ng-click="onMoveCompBefore()"><span class="op-bar-icon glyphicon glyphicon-arrow-up"></span></button> <button type="button" class="btn btn-success btn-move-next op-bar-btn" ng-click="onMoveCompNext()"><span class="op-bar-icon glyphicon glyphicon-arrow-down"></span></button> <div class="btn-insert-mode btn-with-border"> <button type="button" class="btn btn-success op-bar-btn" ng-click="onCopyComp()"><span class="op-bar-icon">复制</span></button> <div class="btn-group" tn-dropdown> <button class="btn btn-select-mode op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onPasteComp()"> <span>粘贴</span> </a> </li> </ul> </div> </div> <button type="button" class="btn btn-success op-bar-btn" ng-click="onDeleteComp()"><span class="op-bar-icon glyphicon glyphicon-trash"></span></button> <div class="btn-insert-mode btn-with-border" ng-switch="insertMode"> <div class="btn-group" tn-dropdown> <button class="btn btn-select-mode op-bar-btn" type="button" tn-dropdown-toggle> <span>更多</span> <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onCollectPattern()"> <span>收藏</span> </a> </li> <li> <a ng-click="onReplacePattern()"> <span>变换组件</span> </a> </li> <li> <a ng-click="onInsertLink()"> <span>设置链接</span> </a> </li> <li> <a ng-click="onReplaceColor()" ng-show="groupColors.length > 0"> <span>替换颜色</span> </a> </li> </ul> </div> </div> <button type="button" class="btn btn-success btn-with-border op-bar-btn" ng-hide="isMultiSelect" ng-disabled="isMultiComps" ng-click="onSelectParent()"><span class="op-bar-icon glyphicon glyphicon-resize-full"></span></button> <button type="button" class="btn btn-success btn-with-border op-bar-btn" ng-show="isMultiSelect" ng-click="onExitSelectMultiComps()">退出多选</button> </div> <div> <script type="text/ng-template" id="addLink.html"> <div class="modal-header">\n                <h3 class="modal-title">设置链接</h3>\n            </div>\n            <div class="modal-body clearfix">\n                <div class="center-v col-xs-12 col-sm-12">\n                    <form class="form-horizontal" name="phoneForm">\n                        <div class="tn-setting-section row">\n                            <div class="form-group">\n                                <div class="col-xs-12 col-sm-12">\n                                    <input class="form-control menu-style-input" name="link" placeholder="请输入链接" type="url" inputmode="url" autocomplete="url" ng-model="compUrl">\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-primary" ng-click="ok()">确定</button>\n                <button class="btn btn-warning" ng-click="cancel()">取消</button>\n            </div> <\/script> </div> <div> <script type="text/ng-template" id="replaceColor.html"> <div class="modal-header">\n                <h3 class="modal-title">替换颜色</h3>\n            </div>\n            <div class="modal-body clearfix">\n                <div class=\'tn-mobile-replace-color-panel\'>\n                    <div class="tn-src-hint">\n                        <span>请选择被替换的颜色</span>\n                    </div>\n                    <div class="tn-src-color-panel">\n                        <ul class=\'color-list text-left tn-overflow-style-adapter\' ng-model="groupColors">\n                            <li class="tn-dst-color" ng-repeat="groupColor in groupColors track by $index">\n                                <div ng-click="onSrcColorChoose($event, groupColor, $index)">\n                                    <span class="tn-replace-color">\n                                        <span class="face" ng-style="::{ backgroundColor: groupColor.colourValue }" title="{{ ::groupColor.colorValue }}" ng-if="!groupColor.isGradientColor"></span>\n                                        <span class="face" ng-style="::{ backgroundImage: groupColor.colourValue }" title="{{ ::groupColor.colorValue }}" ng-if="groupColor.isGradientColor"></span>\n                                    </span>\n                                    <div class="tn-color-mask" ng-show="groupColor == srcGroupColor">\n                                        <div class="tn-color-radio selected">\n                                            <input type="radio" id="radio5" checked="checked">\n                                            <label for="radio5"></label>\n                                        </div>\n                                    </div>   \n                                </div>\n                            </li>\n                        </ul>    \n                    </div>\n                    <div class="tn-dst-hint">\n                        <span>请选择新的颜色</span>\n                    </div>\n                    <div class="tn-dst-color-panel">\n                        <div class=\'color-group\' ng-show="colorPalette.length > 1">\n                            <select class="form-control group-selector" ng-model="currentColorGroup"\n                                    ng-options="colorGroup.groupName for colorGroup in colorPalette"\n                                    ng-change="onColorGroupChanged(currentColorGroup.groupName)">\n                            </select>\n                        </div>\n                        <ul class="nav nav-tabs" ng-if="srcGroupColor.supportGradient">\n                            <li role="presentation" ng-class="(currColorCategory == \'solid\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'solid\')"><a>纯色</a></li>\n                            <li role="presentation" ng-class="(currColorCategory == \'gradient\') ? \'active\' : \'\'" ng-click="onColorCategoryToggle(\'gradient\')"><a>渐变色</a></li>\n                        </ul>\n                        <ul class=\'color-list text-left tn-overflow-style-adapter\' ng-model="currentColorGroup.colorList">\n                            <li class="tn-dst-color" ng-repeat="clr in currentColorGroup.colorList" ng-show="(currColorCategory == \'solid\' && !isGradientColor(clr)) || (currColorCategory == \'gradient\' && isGradientColor(clr))">\n                                <div ng-click="onDstColorChoose($event, clr, $index)">\n                                    <span class="tn-replace-color">\n                                        <span class="face" ng-style="::{ backgroundColor: clr }" title="{{ ::clr }}" ng-if="::(!isGradientColor(clr))"></span>\n                                        <span class="face" ng-style="::{ backgroundImage: clr }" title="{{ ::clr }}" ng-if="::(isGradientColor(clr))"></span>\n                                    </span>\n                                    <div class="tn-color-mask" ng-show="clr == dstColor">\n                                        <div class="tn-color-radio selected">\n                                            <input type="radio" id="radio5" checked="checked">\n                                            <label for="radio5"></label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="replace-all-color wx-checkbox" ng-show="currColorCategory == \'solid\'">\n                        <input type="checkbox" id="checkbox1" ng-model="replaceAllColor">\n                        <label for="checkbox1"></label>\n                        <span>全文替换</span>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-primary" ng-disabled="srcGroupColor == null || dstColor == null" ng-click="ok()">确定</button>\n                <button class="btn btn-warning" ng-click="cancel()">取消</button>\n            </div> <\/script> </div> </div>'),t.put("/views/app/studio/Op/OpCompOutCompEdit.html",'<div class="op-cp-out-comp-edit" ng-show="showOp"> <button class="btn btn-primary op-bar-btn" ng-click="onClickOutCompEdit()" tn-attach-to="cpDSlot"> {{opDesp}} </button> </div>'),t.put("/views/app/studio/Op/OpCompPasteOnPage.html",'<div class="op-cp-paste-on-page"> <button class="btn btn-success op-bar-btn" ng-click="onClickPaste()" tn-attach-to="cpDSlot"> 粘帖 </button> </div> '),t.put("/views/app/studio/Op/OpCompPatternFragment.html","<div class=\"op-cp-pattern-fragment\" tn-attach-to=\"cpDSlot\"> <div> <button class=\"btn btn-primary op-bar-btn\" ng-click=\"onClickSavePatternFragment()\"> 设置成样刊模板 </button> </div> <div ng-switch=\"state.autoComposeFragmentType\"> <button class=\"btn op-bar-btn\" ng-switch-when=\"h1\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'h1', 'order': 70})\">一键排版: 主标题 </button> <button class=\"btn op-bar-btn\" ng-switch-when=\"h2\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'h2', 'order': 60})\">一键排版: 次标题</button> <button class=\"btn op-bar-btn\" ng-switch-when=\"image\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'image', 'order': 50})\">一键排版: 图片 </button> <button class=\"btn op-bar-btn\" ng-switch-when=\"quote\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'quote', 'order': 40})\">一键排版: 引用 </button> <button class=\"btn op-bar-btn\" ng-switch-when=\"divider\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'divider', 'order': 30})\">一键排版: 分割线</button> <button class=\"btn op-bar-btn\" ng-switch-when=\"topSignature\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'topSignature', 'order': 20})\">一键排版: 顶部签名</button> <button class=\"btn op-bar-btn\" ng-switch-when=\"bottomSignature\" ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'bottomSignature', 'order': 10})\">一键排版: 底部签名</button> <div class=\"btn-group\" tn-dropdown is-open=\"state.isFragmentSelectorOpen\"> <button class=\"btn btn-select-mode op-bar-btn\" type=\"button\" tn-dropdown-toggle> <span class=\"caret\"></span> <span class=\"sr-only\">Split button!</span> </button> <ul class=\"op-bar-menu\" tn-dropdown-menu role=\"menu\"> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'h1', 'order': 70})\"> <span>主标题</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'h2', 'order': 60})\"> <span>次标题</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'image', 'order': 50})\"> <span>图片</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'quote', 'order': 40})\"> <span>引用</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'divider', 'order': 30})\"> <span>分割线</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'topSignature', 'order': 20})\"> <span>顶部签名</span> </a> </li> <li> <a ng-click=\"onClickSavePatternFragment({'usage': 'autoCompose', 'tpl': 'bottomSignature', 'order': 10})\"> <span>底部签名</span> </a> </li> </ul> </div> </div> </div>"),t.put("/views/app/studio/Op/OpCompPose.html",'<div class="op-cp-pose" ng-style="{ left: box.left, top: box.top }" tn-attach-to="opAttachToElem" ng-show="isVisible && !onMoving && !globalForceHiddenAttrBars"> <div class="full-screen-mask" ng-show="onResizing || onRotating"></div> <div class="info" ng-cloak ng-if="false"> <div class="lt" ng-show="onMoving || onForceShowing"> </div> </div> <div class="brim-group"> <span class="brim n" ng-style="{ left: -brimSize, top: -brimSize, width: box.width + brimSize * 2, height: brimSize }"></span> <span class="brim e" ng-style="{ left: box.width, top: 0, width: brimSize, height: box.height }"></span> <span class="brim s" ng-style="{ left: -brimSize, top: box.height, width: box.width + brimSize * 2, height: brimSize }"></span> <span class="brim w" ng-style="{ left: -brimSize, top: 0, width: brimSize, height: box.height }"></span> </div> <div class="bar-group" stop-propagation="mousedown mouseup click dblclick"> <div class="box-lines"> <span class="bar line n" ng-style="{ width: (box.width + 2) }"></span> <span class="bar line e" ng-style="{ left: box.width, height: box.height }"></span> <span class="bar line s" ng-style="{ top: box.height, width: (box.width + 2) }"></span> <span class="bar line w" ng-style="{ height: box.height }"></span> <span class="bar line corner ne" ng-style="{ left: box.width }"></span> <span class="bar line corner se" ng-style="{ left: box.width, top: box.height }"></span> <span class="bar line corner sw" ng-style="{ top: box.height }"></span> <span class="bar line corner nw" ng-style="{ }"></span> <span class="bar line r" ng-style="{ top: box.height, left: box.width / 2 }"></span> </div> <div class="box-handles"> <span class="bar handle w" title="拖拽改变宽度" ng-show="resizingPattern.horizontal" ng-style="{ left: 0, top: box.height / 2 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanW"></span> <span class="bar handle e" title="拖拽改变宽度" ng-show="resizingPattern.horizontal" ng-style="{ left: box.width, top: box.height / 2 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanE"></span> <span class="bar handle n" title="拖拽改变高度" ng-show="resizingPattern.vertical" ng-style="{ left: box.width / 2, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanN"></span> <span class="bar handle s" title="拖拽改变高度" ng-show="resizingPattern.vertical" ng-style="{ left: box.width / 2, top: box.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanS"></span> <span class="bar handle ne" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: box.width, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanNE"></span> <span class="bar handle se" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: box.width, top: box.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanSE"></span> <span class="bar handle sw" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: 0, top: box.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanSW"></span> <span class="bar handle nw" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: 0, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanNW"></span> <span class="bar handle r" title="拖拽旋转 双击重置" ng-style="{ top: box.height, left: box.width / 2 }" ng-dblclick="onHaRDblClick($event)" hm-recognizer-options="{{ bhoHaR }}" hm-panstart="onHaRPanStart" hm-panend="onHaRPanEnd" hm-panmove="onHaRPan"></span> <span class="bar handle" title="" style="text-align:center" ng-show="onRotating && enableShowRotateAngleLabel" ng-style="{ top: box.height + 56 , left: 0 , width: box.width , transform:rotateTitleTransform}">{{rotateTitleAngle.toFixed()}}°</span> </div> <span class="anchor c" ng-style="{ left: box.width / 2, top: box.height / 2 }"></span> <span class="surface" ng-show="onResizing" ng-style="{ width: box.width, height: box.height }"></span> </div> </div> <div class="op-cp-rotating op-gen-rotating" tn-attach-to="cpDSlot"> <div class="rotating"> <span class="glyphicon glyphicon-repeat"></span> <span style="margin-right: 1em;">旋转</span><span>&nbsp;&nbsp;</span> <span class="extra-min-label-value">0</span> <span ui-slider="slider.options" use-decimals ng-model="slider.rotateAngles"></span> <input class="form-control rotate-slider-input" type="text" ng-model="slider.rotateInputAngles" tn-number-input step="1" precision="0.01" min="0" max="360" skim-change="onRotateInputSkimChange()" skim-end="onRotateInputChanged()" tn-text-input-done="onRotateInputChanged()"> </div> </div> <div class="op-cp-scaling" ng-if="showType === \'paper\'" tn-attach-to="cpScaleDSlot"> <div class="form-group"> <label class="col-sm-3 control-label">缩放</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.scaleInput" tn-number-input step="1" precision="0.1" min="0" skim-change="onScaleInputSkimChange()" skim-end="onScaleInputChanged()" tn-text-input-done="onScaleInputChanged()"> <span class="unit">%</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">缩放点</label> <div class="col-sm-9"> <button class="btn op-bar-btn" title="原点中心" ng-click="onScalOriginChanged(\'centerCenter\')" ng-class="{ \'active\': inner.scaleOrigin === \'centerCenter\' }"> <img style="width: 24px; height: 24px;" src="/images/app/studio/scale-center-center.svg"> </button> <button class="btn op-bar-btn" title="原点左边" ng-click="onScalOriginChanged(\'leftTop\')" ng-class="{ \'active\': inner.scaleOrigin === \'leftTop\' }"> <img style="width: 24px; height: 24px;" src="/images/app/studio/scale-left-top.svg"> </button> <button class="btn op-bar-btn" title="原点右边" ng-click="onScalOriginChanged(\'rightTop\')" ng-class="{ \'active\': inner.scaleOrigin === \'rightTop\' }"> <img style="width: 24px; height: 24px;" src="/images/app/studio/scale-right-top.svg"> </button> </div> </div> </div> <div class="op-cp-z-index form-horizontal" ng-if="showType === \'paper\'" tn-attach-to="cpZIndexSlot"> <div class="form-group"> <label class="col-sm-3 control-label">重叠次序</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.zIndex" tn-number-input step="1" precision="1" skim-change="onZIndexSkimChange()" skim-end="onZIndexChanged()" tn-text-input-done="onZIndexChanged()"> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCompPosterPageAspectRatio.html",'<div class="op-cp-poster-page-aspect-ratio" tn-attach-to="cpDSlot"> <div class="btn-group dropdown aspect-ratio-selection" tn-dropdown auto-close="outsideClick" is-open="status.showAspectRatioSelection"> <button class="btn btn-select-mode op-bar-btn dropdown-toggle" type="button" tn-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"> <span ng-bind="status.posterInfo"></span> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="presentation text-center" ng-repeat="ar in status.AllRatio"> <a ng-click="onAspectRatioSelect($event, ar)"> <span ng-bind="ar.title"></span> </a> </li> <li class="presentation menuitem-level" ng-if="status.canChangeSize"> <a class="text-center" href="">设定宽高比 <span class="glyphicon glyphicon-triangle-right"></span> </a> <section class="form-input-panel"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">宽</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" min="1" max="1000" class="form-control" ng-model="inner.newWidth"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">高</label> <div class="col-sm-9 line-spacing btn-group"> <input type="number" min="1" max="1000" class="form-control" ng-model="inner.newHeight"> </div> </div> <div class="form-group"> <div class="col-sm-12"> <button class="btn btn-success btn-block" ng-click="onApplyChangeSize()"> 应用 </button> </div> </div> </div> </section> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompReflect.html",'<div class="op-cp-reflect form-inline" tn-attach-to="cpDSlot"> <div class="form-group"> <label> <span class="glyphicon glyphicon-cloud"></span> <span class="">倒影</span> <input type="checkbox" class="checkbox-margin" ng-model="inner.reflect" ng-change="onReflectChanged($event)"> </label> <input class="form-control text-input reflect-spacing" type="text" ng-model="inner.spacing" tn-number-input step="1" precision="1" skim-change="onSpacingInputSkimChange()" skim-end="onSpacingInputChanged()" tn-text-input-done="onSpacingInputChanged()" ng-disabled="!inner.reflect"> <span class="unit-px">&nbsp;&nbsp;间距</span> <input class="form-control text-input" type="text" ng-model="inner.percent" tn-number-input step="1" precision="0.01" min="0" max="100" skim-change="onPercentInputSkimChange()" skim-end="onPercentInputChanged()" tn-text-input-done="onPercentInputChanged()" ng-disabled="!inner.reflect"> <span class="unit-percent">%&nbsp;隐藏</span> </div> </div> '),t.put("/views/app/studio/Op/OpCompReplaceColor.html",'<div class="op-cp-replace-color" tn-attach-to="cpDSlot"> <span class="aux-item" ng-repeat="spotlightColor in inner.spotlightColors track by $index"> <span class="color" ng-if="spotlightColor.supportGradient" tn-color-selector="spotlightColor.colourValue" is-open="state.isOpenFlags[$index]" on-color-choose="onGroupingColorChoose(color, $index)" support-color-category="[\'solid\', \'gradient\']"></span> <span class="color" ng-if="!spotlightColor.supportGradient" tn-color-selector="spotlightColor.colourValue" is-open="state.isOpenFlags[$index]" on-color-choose="onGroupingColorChoose(color, $index)"></span> </span> <div class="btn-group" tn-dropdown is-open="state.isPanelOpen" auto-close="outsideClick" ng-if="inner.groupingColors.length > state.spotlightColorNum"> <button class="btn btn-select-mode op-bar-btn" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <div class="op-bar-menu" tn-dropdown-menu role="menu"> <span class="tip">快速换色</span> <div class="form-horizontal type-selection" ng-repeat="groupingColor in inner.displayGroupingColors track by $index"> <div class="form-group"> <div class="col-sm-2"> <span ng-if="groupingColor.supportGradient" class="op-theme-color-sec" tn-color-selector="groupingColor.colourValue" non-dropdown="true" on-color-choose="onGroupingColorChoose(color, $index)" support-color-category="[\'solid\', \'gradient\']" is-container-open="state.isPanelOpen"> </span> <span ng-if="!groupingColor.supportGradient" class="op-theme-color-sec" tn-color-selector="groupingColor.colourValue" non-dropdown="true" on-color-choose="onGroupingColorChoose(color, $index)" is-container-open="state.isPanelOpen"> </span> </div> <label class="col-sm-10 control-label">{{ groupingColor.isGradientColor ? \'渐变色\' : groupingColor.originalColourValue }}</label> </div> </div> </div> </div> </div> '),t.put("/views/app/studio/Op/OpCompReplaceTemplate.html",'<div class="op-cp-replace-template" stop-propagation="mousedown mouseup click dblclick"> <div class="op-dark-mask" ng-show="isReplaceTemplate" ng-click="onStopReplaceTemplate($event)"></div> <div ng-repeat="hintBox in hintBoxs" ng-show="isReplaceTemplate"> <div class="hint-box" ng-style="{\'left\': hintBox.left, \'top\': hintBox.top, \'width\': hintBox.width, \'min-height\': hintBox.height}"> <div class="hint-text" ng-style="{\'top\': hintBox.textTop}"> <p class="tn-color-gray text-center"> 点击左边内容变换组件格式 </p> <p class="tn-color-gray text-center"> 快捷键：{{ ::shortcutKey(\'CmdClick\') }} + 点击 </p> </div> </div> </div> </div> <div class="op-cp-replace-template-buttons" tn-attach-to="cpDSlot"> <button class="btn btn-success op-bar-btn fast-replace-template" title="快速变换" ng-click="onFastReplaceTemplate($event)" ng-show="!!lastCompsPattern"> <img src="/images/app/studio/fmt-brush-apply.svg" alt="快速变换"> </button> <div class="btn-group" tn-dropdown auto-close="outsideClick" is-open="isOpen"> <button class="btn btn-success op-bar-btn" ng-click="onStartReplaceTemplate($event)"> 变换组件 </button> <button class="op-bar-btn btn btn-success" type="button" tn-dropdown-toggle> <span class="caret"></span> <span class="sr-only">Split button!</span> </button> <ul class="op-bar-menu clear-template-op-bar-panel" tn-dropdown-menu role="menu"> <li> <a ng-click="onClickClearTemplate($event)"> <span>清除组件格式</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompReplaceText.html",'<div class="op-cp-replace-text" tn-attach-to="cpDSlot"> <a class="menu-item" ng-click="onClickReplaceText()"> <span>替换文字</span> </a> </div> '),t.put("/views/app/studio/Op/OpCompSave.html",'<div class="op-cp-save"> <button class="btn btn-primary op-bar-btn" ng-click="onClickSave()" tn-attach-to="cpDSlot"> 收藏 </button> </div>'),t.put("/views/app/studio/Op/OpCompShadowStyle.html",'<div class="op-cp-shadow" tn-attach-to="cpDSlot"> </div>'),t.put("/views/app/studio/Op/OpCompSpacing.html",'<div class="op-cp-spacing"> <div class="op-cp-spacing-tb" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="state.isSpacingListOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> 间距 </button> <section class="op-bar-menu spacing-panel" tn-dropdown-menu role="menu"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">行间距</label> <div class="col-sm-9 line-spacing btn-group"> <input class="form-control spacing-input" ng-model="inner.lineSpacing" ng-blur="onLineSpacingChanged()"> <span class="unit">倍</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">字间距</label> <div class="col-sm-9 letter-spacing btn-group"> <input class="form-control spacing-input" type="text" ng-model="inner.letterSpacing" ng-blur="onLetterSpacingChanged()" ng-keydown="onLetterSpacingKeyDown($event)"> <span class="unit">像素</span> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">页边距</label> <div class="col-sm-9 horizontal-padding btn-group"> <input class="form-control padding-input" type="text" ng-model="inner.paddingLeft" ng-blur="onHorizontalPaddingChanged()" ng-keydown="onHorizontalPaddingKeyDown($event)"> <span class="unit">像素</span> </div> </div> </div> </section> </div> </div> </div>'),t.put("/views/app/studio/Op/OpCompThemeColor.html",'<div class="cp-op-theme-color"> <div tn-attach-to="cpDSlot"> <span class="op-theme-color-label">主题</span> <span class="op-theme-color-sec" title="主题色" tn-color-selector="inner.color" is-open="state.isThemeColorOpen" on-color-choose="onThemeColorChoose(color)"> </span> </div> </div> '),t.put("/views/app/studio/Op/OpCompTopLevelEntranceAnim.html",'<div class="op-cp-top-level-ent-anim"> <div class="btn-group op-cp-ent-anim" tn-dropdown is-open="inner.isMenuOpen" tn-attach-to="cpDSlot"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle ng-switch="inner.type"> 入场： <span ng-switch-when="none">静态</span> <span ng-switch-when="default">默认</span> <span ng-switch-when="custom">自定义</span> <span class="caret"></span> </button> <ul class="op-bar-menu checkable-menu" tn-dropdown-menu role="menu" aria-labelledby="single-button"> <li role="menuitem"> <a href="" ng-click="onEntranceAnimationTypeChange(\'none\')"> <span class="glyphicon glyphicon-ok checkable-item" ng-class="{ active: inner.type == \'none\' }"></span> <span>静态无动画</span> </a> </li> <li role="menuitem"> <a href="" ng-click="onEntranceAnimationTypeChange(\'default\')"> <span class="glyphicon glyphicon-ok checkable-item" ng-class="{ active: inner.type == \'default\' }"></span> <span>默认动画</span> </a> </li> <li role="menuitem"> <a href="" tn-animation-picker ng-model="inner.anim" on-animation-changed="onEntranceAnimationTypeChange(\'custom\', animations)"> <span class="glyphicon glyphicon-ok checkable-item" ng-class="{ active: inner.type == \'custom\' }"></span> <span>自定义动画</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpCompTransform.html",'<div class="op-cp-transform"> <div class="op-cp-translate-tb" tn-attach-to="cpTranslateDSlot"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">偏移</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.offsetX" tn-number-input step="1" precision="1" skim-change="onOffsetXSkimChange()" skim-end="onOffsetXChanged()" tn-text-input-done="onOffsetXChanged()"> <span class="unit">像素</span> </div> </div> </div> </div> <div class="op-cp-rolling-over-tb" tn-attach-to="cpRollingOverDSlot"> <img src="/images/app/studio/9d044d.icon-rolling-over.png" alt=""> <span style="margin-right: 1em;">翻转</span><span>&nbsp;&nbsp;</span> <button class="btn btn-glass-light tn-bar-btn-active-color" ng-class="{ active: inner.rotateX != 0 }" ng-click="onToggleRotateX()"> 上下翻转 </button> <button class="btn btn-glass-light tn-bar-btn-active-color" ng-class="{ active: inner.rotateY != 0 }" ng-click="onToggleRotateY()"> 左右翻转 </button> </div> </div>'),t.put("/views/app/studio/Op/OpCompTransparency.html",'<div class="op-cp-transparency op-gen-transparency" tn-attach-to="cpDSlot"> <div class="transparency"> <span class="glyphicon glyphicon-eye-close"></span> <span>透明度</span><span>&nbsp;&nbsp;</span> <span>0</span> <span ui-slider="slider.options" use-decimals ng-model="slider.transparent"></span> <input class="form-control opacity-slider-input" type="text" ng-model="slider.transparent" tn-number-input step="1" precision="1" min="0" max="100" skim-change="onOpacitySkimChange()" skim-end="onOpacityChanged()" tn-text-input-done="onOpacityChanged()"> </div> </div>'),t.put("/views/app/studio/Op/OpCompWxMiniProgramLink.html",'<div class="op-cp-wx-miniprogram-link op-gen-link" tn-attach-to="cpDSlot"> <div class="btn-group op-gen-link" tn-dropdown on-toggle="onMenuToggle(open)" is-open="inner.isMenuOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" title="点击动作" tn-dropdown-toggle> <span class="op-bar-icon action-link"></span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup mousemove"> <li> <div class="form-horizontal type-selection"> <div class="form-group"> <label class="col-sm-6 control-label"> 设置小程序信息 </label> <div class="col-sm-6"> <p class="form-control-static"></p> </div> </div> </div> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">appid</label> <div class="col-sm-10"> <input class="form-control menu-style-input" placeholder="请输入appid，按回车确认" type="text" ng-model="inner.xiumiwx.appid" tn-text-input-done="onWxInputDone($event)"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">路径</label> <div class="col-sm-10"> <input class="form-control menu-style-input" placeholder="请输入路径，按回车确认" type="text" ng-model="inner.xiumiwx.path" tn-text-input-done="onWxInputDone($event)"> </div> </div> </div> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpCompZOrder.html",'<div class="op-cp-zorder" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="status.isZOrderOpen"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="glyphicon glyphicon-sort"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onClickOrderUp()" ng-class="{disabled: !status.canMoveUp}"> <span class="glyphicon glyphicon-step-forward" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到最上层</span> </a> </li> <li> <a ng-click="onClickOrderUpOnce()" ng-class="{disabled: !status.canMoveUp}"> <span class="glyphicon glyphicon-play" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到上一层</span> </a> </li> <li> <a ng-click="onClickOrderDownOnce()" ng-class="{disabled: !status.canMoveDown}"> <span class="glyphicon glyphicon-play" ng-style="{ transform: \'rotate(-270deg)\' }"></span> <span>移到下一层</span> </a> </li> <li> <a ng-click="onClickOrderDown()" ng-class="{disabled: !status.canMoveDown}"> <span class="glyphicon glyphicon-step-backward" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到最下层</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/OpGlobalDcAttrBars.html","<div class=\"op-gl-dc-attr-bars\" ng-class=\"{\n      'cp-role-none': compRole == null,\n      'cp-role-page': compRole == 'page',\n      'cp-role-layer': compRole == 'layer',\n      'ce-type-none': cellType == null,\n      'ce-type-group': cellType == 'group',\n      'ce-type-table': cellType == 'table',\n      'ce-type-table-cell': cellType == 'table-cell',\n      'ce-type-text': cellType == 'text',\n      'ce-type-image': cellType == 'image',\n      'ce-type-crop-image': cellType == 'crop-image',\n      'ce-type-shape': cellType == 'shape',\n      'ce-type-classic-table-cell': cellType == 'classic-table-cell',\n"+'     }"> <menu class="op-dock-bar op-dc-bar-ce-attr" tn-op-menu="op-dc-bar-ce-attr" ng-style="cellBarPose" ng-class="{ \'fixed-menu-bar\': menuBarPinned, \'no-transition\': (isCellBarMoving || menuBarPinned) }" ng-show="actuallyShowCellBar && !globalForceHiddenAttrBars" stop-propagation="mousedown" hm-manager-options=\'{"enable":{{isBarMovable}}}\' hm-panstart="onCellBarPanStart" hm-pan="onCellBarPan" hm-panend="onCellBarPanEnd"> <li class="ce-dc" ng-if="showCellName"> <span class="op-cell-type-name" ng-bind="cellTypeName"></span> </li><li class="ce-dc" tn-op-dc-item="dc-ce-out-cell-edit"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-column"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-hidden"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-table-grid"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-quickly" ng-if="false"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-grid"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-static-position-size"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-fixed-aspect-ratio"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-width"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-height"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-margin"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-style"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-table-column-width"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-table-style-brush"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-width"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-column-width"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-merge"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-classic-table-style"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-scroll-direction"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-vertical-align"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-font-size-scale"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-text-all"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-text-code"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-mobile-text"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-mobile-image"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-crop-image-crop"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-src"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-style-brush"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-crop"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-svg-clip"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-background"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-spacing"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-input-text"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-input-radio"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-input-checkbox"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-input-multi-line-text"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-input-select"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-border-style"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-video-xm"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-map"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-map-tx"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-video-tx"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-profile-card"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-music-card"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-audio-card"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-video-card"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-shadow-style"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-box" ng-if="false"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-video-link"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-animation"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-svg"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-transparent"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-layout-free"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-png-size"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-enhancement"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-animation"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-straw"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-frozen"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-svg-animation"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-for-layout-datum"></li> <li class="ce-dc" tn-op-dc-item="dc-ce-image-popup"> </li><li class="ce-dc" tn-op-dc-item="dc-ce-image-design"> </li><li class="cp-dc dc-ce-more" ng-hide="cellType === \'group\'" ng-if="false"> <div class="ce-more btn-group" tn-dropdown is-open="status.isCeMoreOpen" auto-close="outsideClick" ng-show="showCellMore"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="op-bar-icon more"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="ce-dc" tn-op-dc-item="dc-ce-transparency"></li> <li class="ce-dc" tn-op-dc-item="dc-ce-image-flip"></li> </ul> </div> </li> </menu> <menu class="op-dock-bar op-dc-bar-cp-attr" tn-op-menu="op-dc-bar-cp-attr" ng-style="compBarPose" ng-class="{ \'page-comp\': compRole === \'page\', \'fixed-menu-bar\': (menuBarPinned && (compRole !== \'page\')), \'no-transition\': (isCompBarMoving || menuBarPinned) }" ng-show="actuallyShowCompBar && !globalForceHiddenAttrBars" stop-propagation="mousedown" hm-manager-options=\'{"enable":{{isBarMovable}}}\' hm-panstart="onCompBarPanStart" hm-pan="onCompBarPan" hm-panend="onCompBarPanEnd"> <li class="cp-dc" tn-op-dc-item="dc-cp-menu-pin"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-quick-input-prompt"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-clipboard"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-collect"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-group"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-delete"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-pattern-fragment"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-save"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-replace-template"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-apply-classic-table-style"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-animation"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-background"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-spacing"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-aux-props"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-replace-color"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-pose-full-img"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-font-size-scale"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-box" ng-if="false"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-pose-ar" ng-if="false"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-out-comp-edit"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-paste-on-page"> </li><li class="cp-dc" tn-op-dc-item="dc-multi-cp-zorder"> </li><li class="cp-dc" tn-op-dc-item="dc-multi-cp-align"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-insert-text"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-zorder"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-align-edge"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-mobile-toolbar"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-mobile-compsel"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-mobile-multisel"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-mobile-global-format"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-link"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-wx-miniprogram-link"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-background-audio"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-top-level-ent-anim"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-ground-page"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-free-layout-aspect-ratio"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-poster-page-aspect-ratio"> </li><li class="cp-dc dc-cp-more"> <div class="cp-more btn-group" tn-dropdown is-open="status.isCpMoreOpen" auto-close="outsideClick" ng-show="showCompMore"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle> <span class="op-bar-icon more"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu" stop-propagation="mousedown mouseup"> <li class="cp-dc" tn-op-dc-item="dc-cp-transparency"></li> <li class="cp-dc" tn-op-dc-item="dc-cp-rotate"></li> <li class="cp-dc" tn-op-dc-item="dc-cp-rolling-over"></li> <li class="cp-dc" tn-op-dc-item="dc-cp-reflect"></li> <li role="presentation" ng-class="isMultiCpSelected || !isTopLevelCpSelected ? \'\' : \'divider\'"></li> <li class="cp-dc" tn-op-dc-item="dc-cp-copy-to-clipboard"></li> <li class="cp-dc" tn-op-dc-item="dc-cp-replace-text"></li> </ul> </div> </li><li class="cp-dc" tn-op-dc-item="dc-cp-margin"> </li><li class="cp-dc" tn-op-dc-item="dc-cp-global-format"> </li> </menu> <section class="op-dc-depot op-dc-hidden"> <div class="op-dc-slot dc-cp-menu-pin"></div> <div class="op-dc-slot dc-cp-quick-input-prompt"></div> <div class="op-dc-slot dc-cp-pose-full-img"></div> <div class="op-dc-slot dc-cp-pose-ar"></div> <div class="op-dc-slot dc-cp-animation"></div> <div class="op-dc-slot dc-cp-background"></div> <div class="op-dc-slot dc-cp-spacing"></div> <div class="op-dc-slot dc-cp-margin"></div> <div class="op-dc-slot dc-cp-rolling-over"></div> <div class="op-dc-slot dc-cp-insert-text"></div> <div class="op-dc-slot dc-cp-font-size-scale"></div> <div class="op-dc-slot dc-cp-aux-props"></div> <div class="op-dc-slot dc-cp-out-comp-edit"></div> <div class="op-dc-slot dc-cp-delete"></div> <div class="op-dc-slot dc-cp-delete-dp"></div> <div class="op-dc-slot dc-cp-clipboard"></div> <div class="op-dc-slot dc-cp-collect"></div> <div class="op-dc-slot dc-cp-group"></div> <div class="op-dc-slot dc-cp-paste-on-page"></div> <div class="op-dc-slot dc-cp-zorder-up"></div> <div class="op-dc-slot dc-cp-zorder-down"></div> <div class="op-dc-slot dc-cp-zorder"></div> <div class="op-dc-slot dc-multi-cp-zorder"></div> <div class="op-dc-slot dc-cp-transparency"></div> <div class="op-dc-slot dc-cp-rotate"></div> <div class="op-dc-slot dc-cp-link"></div> <div class="op-dc-slot dc-cp-wx-miniprogram-link"></div> <div class="op-dc-slot dc-cp-box"></div> <div class="op-dc-slot dc-cp-theme-color"></div> <div class="op-dc-slot dc-cp-reflect"></div> <div class="op-dc-slot dc-cp-pattern-fragment"></div> <div class="op-dc-slot dc-cp-save"></div> <div class="op-dc-slot dc-cp-replace-template"></div> <div class="op-dc-slot dc-cp-apply-classic-table-style"></div> <div class="op-dc-slot dc-cp-replace-text"></div> <div class="op-dc-slot dc-cp-mobile-toolbar"></div> <div class="op-dc-slot dc-cp-mobile-compsel"></div> <div class="op-dc-slot dc-cp-mobile-multisel"></div> <div class="op-dc-slot dc-cp-mobile-global-format"></div> <div class="op-dc-slot dc-cp-copy-to-clipboard"></div> <div class="op-dc-slot dc-multi-cp-align"></div> <div class="op-dc-slot dc-cp-align-edge"></div> <div class="op-dc-slot dc-cp-background-audio"></div> <div class="op-dc-slot dc-cp-global-format"></div> <div class="op-dc-slot dc-cp-top-level-ent-anim"></div> <div class="op-dc-slot dc-cp-ground-page"></div> <div class="op-dc-slot dc-cp-replace-color"></div> <div class="op-dc-slot dc-cp-free-layout-aspect-ratio"></div> <div class="op-dc-slot dc-cp-poster-page-aspect-ratio"></div> <div class="op-dc-slot dc-ce-mobile-text"></div> <div class="op-dc-slot dc-ce-mobile-image"></div> <div class="op-dc-slot dc-ce-text-all"></div> <div class="op-dc-slot dc-ce-text-code"></div> <div class="op-dc-slot dc-ce-background"></div> <div class="op-dc-slot dc-ce-spacing"></div> <div class="op-dc-slot dc-ce-image-png-size"></div> <div class="op-dc-slot dc-ce-crop-image-crop"></div> <div class="op-dc-slot dc-ce-image-style-brush"></div> <div class="op-dc-slot dc-ce-image-crop"></div> <div class="op-dc-slot dc-ce-image-svg-clip"></div> <div class="op-dc-slot dc-ce-transparency"></div> <div class="op-dc-slot dc-ce-video-link"></div> <div class="op-dc-slot dc-ce-image-flip"></div> <div class="op-dc-slot dc-ce-animation"></div> <div class="op-dc-slot dc-ce-box"></div> <div class="op-dc-slot dc-ce-font-size-scale"></div> <div class="op-dc-slot dc-ce-static-position-size"></div> <div class="op-dc-slot dc-ce-width"></div> <div class="op-dc-slot dc-ce-height"></div> <div class="op-dc-slot dc-ce-margin"></div> <div class="op-dc-slot dc-ce-border-style"></div> <div class="op-dc-slot dc-ce-shadow-style"></div> <div class="op-dc-slot dc-ce-layout-vertical-align"></div> <div class="op-dc-slot dc-ce-layout-column"></div> <div class="op-dc-slot dc-ce-layout-style"></div> <div class="op-dc-slot dc-ce-input-text"></div> <div class="op-dc-slot dc-ce-input-multi-line-text"></div> <div class="op-dc-slot dc-ce-input-radio"></div> <div class="op-dc-slot dc-ce-input-checkbox"></div> <div class="op-dc-slot dc-ce-input-select"></div> <div class="op-dc-slot dc-ce-video-xm"></div> <div class="op-dc-slot dc-ce-map"></div> <div class="op-dc-slot dc-ce-map-tx"></div> <div class="op-dc-slot dc-ce-video-tx"></div> <div class="op-dc-slot dc-ce-profile-card"></div> <div class="op-dc-slot dc-ce-music-card"></div> <div class="op-dc-slot dc-ce-audio-card"></div> <div class="op-dc-slot dc-ce-video-card"></div> <div class="op-dc-slot dc-ce-table-grid"></div> <div class="op-dc-slot dc-ce-table-column-width"></div> <div class="op-dc-slot dc-ce-table-style-brush"></div> <div class="op-dc-slot dc-ce-out-cell-edit"></div> <div class="op-dc-slot dc-ce-layout-hidden"></div> <div class="op-dc-slot dc-ce-svg"></div> <div class="op-dc-slot dc-ce-layout-transparent"></div> <div class="op-dc-slot dc-ce-layout-free"></div> <div class="op-dc-slot dc-ce-classic-table-width"></div> <div class="op-dc-slot dc-ce-classic-table-quickly"></div> <div class="op-dc-slot dc-ce-classic-table-grid"></div> <div class="op-dc-slot dc-ce-classic-table-merge"></div> <div class="op-dc-slot dc-ce-classic-table-style"></div> <div class="op-dc-slot dc-ce-classic-table-column-width"></div> <div class="op-dc-slot dc-ce-layout-scroll-direction"></div> <div class="op-dc-slot dc-ce-image-enhancement"></div> <div class="op-dc-slot dc-ce-image-popup"></div> <div class="op-dc-slot dc-ce-image-animation"></div> <div class="op-dc-slot dc-ce-image-straw"></div> <div class="op-dc-slot dc-ce-frozen"></div> <div class="op-dc-slot dc-ce-svg-animation"></div> <div class="op-dc-slot dc-ce-image-for-layout-datum"></div> <div class="op-dc-slot dc-ce-layout-fixed-aspect-ratio"></div> <div class="op-dc-slot dc-ce-image-design"></div> </section> </div> '),t.put("/views/app/studio/Op/OpMultiCompAlign.html",'<div class="op-multi-cp-align" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="state.isHorizontalsOpen" auto-close="outsideClick" style="padding-right: 7px;"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <img src="/images/app/studio/5c810c.align-left.png">&nbsp;&nbsp; <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a class="btn" title="左对齐" ng-click="onClickAlignLeft()"> <img src="/images/app/studio/5c810c.align-left.png"> &nbsp;<span>向左对齐</span> </a> </li> <li> <a class="btn" title="水平居中对齐" ng-click="onClickAlignHorCenter()"> <img src="/images/app/studio/9903b6.align-hor-middle.png"> &nbsp;<span>水平居中</span> </a> </li> <li> <a class="btn" title="右对齐" ng-click="onClickAlignRight()"> <img src="/images/app/studio/c86889.align-right.png"> &nbsp;<span>向右对齐</span> </a> </li> <li role="separator" class="divider"></li> <li> <a class="btn" title="靠边向左" ng-click="onClickAlignLeftEdge()"> <img src="/images/app/studio/align-left-edge.svg"> &nbsp;<span>靠边向左</span> </a> </li> <li> <a class="btn" title="两边居中" ng-click="onClickAlignHorEdgeCenter()"> <img src="/images/app/studio/align-hor-middle-edge.svg"> &nbsp;<span>两边居中</span> </a> </li> <li> <a class="btn" title="靠边向右" ng-click="onClickAlignRightEdge()"> <img src="/images/app/studio/align-right-edge.svg"> &nbsp;<span>靠边向右</span> </a> </li> </ul> </div> <div class="btn-group" tn-dropdown is-open="state.isVerticalsOpen" auto-close="outsideClick" style="border-left: 1px solid #666; padding-left:7px; padding-right: 7px;"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <img src="/images/app/studio/align-vert-top.svg">&nbsp;&nbsp; <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a class="btn" title="上对齐" ng-click="onClickAlignTop()"> <img src="/images/app/studio/align-vert-top.svg"> &nbsp;<span>垂直向上</span> </a> </li> <li> <a class="btn" title="垂直居中对齐" ng-click="onClickAlignVerCenter()"> <img src="/images/app/studio/align-vert-middle.svg"> &nbsp;<span>垂直居中</span> </a> </li> <li> <a class="btn" title="下对齐" ng-click="onClickAlignBottom()"> <img src="/images/app/studio/align-vert-bottom.svg"> &nbsp;<span>垂直向下</span> </a> </li> <li role="separator" class="divider"></li> <li> <a class="btn" title="靠边向上" ng-click="onClickAlignTopEdge()"> <img src="/images/app/studio/align-vert-top-edge.svg"> &nbsp;<span>靠边向上</span> </a> </li> <li> <a class="btn" title="上下居中" ng-click="onClickAlignVerEdgeCenter()"> <img src="/images/app/studio/align-vert-middle-edge.svg"> &nbsp;<span>上下居中</span> </a> </li> <li> <a class="btn" title="靠边向下" ng-click="onClickAlignBottomEdge()"> <img src="/images/app/studio/align-vert-bottom-edge.svg"> &nbsp;<span>靠边向下</span> </a> </li> </ul> </div> <div class="btn-group" tn-dropdown is-open="state.isMiddlesOpen" auto-close="outsideClick" style="border-left: 1px solid #666; padding-left:7px;"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <img src="/images/app/studio/15bf3a.horiz-dist.png">&nbsp;&nbsp; <span class="caret"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a class="btn" title="水平等间距" ng-click="onClickHorAverage()"> <img src="/images/app/studio/15bf3a.horiz-dist.png"> &nbsp;<span>水平等间距</span> </a> </li> <li> <a class="btn" title="垂直等间距" ng-click="onClickVerAverage()"> <img src="/images/app/studio/9e0fd4.vertical-dist.png"> &nbsp;<span>垂直等间距</span> </a> </li> </ul> </div> </div> '),t.put("/views/app/studio/Op/OpMultiCompMargin.html",'<div class="op-cp-margin"> <div class="op-cp-margin-tb" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="state.isMenuOpen" auto-close="outsideClick"> <button type="button" class="btn btn-success op-bar-btn" tn-dropdown-toggle>组件定位</button> <section class="op-bar-menu" tn-dropdown-menu role="menu"> <div class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">组前距</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.marginTop.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginTopUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">组后距</label> <div class="col-sm-9 btn-group"> <input class="form-control" type="text" ng-model="inner.marginBottom.value" tn-number-input step="1" precision="1" skim-change="onMarginSkimChange()" skim-end="onMarginChanged()" tn-text-input-done="onMarginChanged()"> <select class="unit" ng-model="marginBottomUnit" ng-model-options="{ getterSetter: true }"> <option value="px">像素</option> <option value="%">%</option> </select> </div> </div> </div> </section> </div> </div> </div>'),t.put("/views/app/studio/Op/OpMultiCompPose.html",'<div class="op-multi-cp-pose op-worker-surface" tn-attach-to="opAttachToElem" hm-panstart="onMaskPanStart" hm-pan="onMaskPan" hm-panend="onMaskPanEnd" ng-style="{ top: maskPose.top, left: maskPose.left, width: maskPose.width, height: maskPose.height }" ng-show="isVisible && !onMoving && !globalForceHiddenAttrBars"> <div class="info" ng-cloak ng-if="false"> <div class="lt" ng-show="onMoving || onForceShowing || onResizing"> </div> </div> <div class="brim-group"> <span class="brim n" ng-style="{ left: -brimSize, top: -brimSize, width: maskPose.width + brimSize * 2, height: brimSize }"></span> <span class="brim e" ng-style="{ left: maskPose.width, top: 0, width: brimSize, height: maskPose.height }"></span> <span class="brim s" ng-style="{ left: -brimSize, top: maskPose.height, width: maskPose.width + brimSize * 2, height: brimSize }"></span> <span class="brim w" ng-style="{ left: -brimSize, top: 0, width: brimSize, height: maskPose.height }"></span> </div> <div class="bar-group" stop-propagation="mousedown mouseup click dblclick"> <div class="box-lines"> <span class="bar line n" ng-style="{ width: (maskPose.width + 2) }"></span> <span class="bar line e" ng-style="{ left: maskPose.width, height: maskPose.height }"></span> <span class="bar line s" ng-style="{ top: maskPose.height, width: (maskPose.width + 2) }"></span> <span class="bar line w" ng-style="{ height: maskPose.height }"></span> <span class="bar line corner ne" ng-style="{ left: maskPose.width }"></span> <span class="bar line corner se" ng-style="{ left: maskPose.width, top: maskPose.height }"></span> <span class="bar line corner sw" ng-style="{ top: maskPose.height }"></span> <span class="bar line corner nw" ng-style="{ }"></span> <span class="bar line r" ng-if="false" ng-style="{ top: maskPose.height, left: maskPose.width / 2 }"></span> </div> <div class="box-handles"> <span class="bar handle w" title="拖拽改变宽度" ng-show="resizingPattern.horizontal" ng-style="{ left: 0, top: maskPose.height / 2 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanW"></span> <span class="bar handle e" title="拖拽改变宽度" ng-show="resizingPattern.horizontal" ng-style="{ left: maskPose.width, top: maskPose.height / 2 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanE"></span> <span class="bar handle n" title="拖拽改变高度" ng-show="resizingPattern.vertical" ng-style="{ left: maskPose.width / 2, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanN"></span> <span class="bar handle s" title="拖拽改变高度" ng-show="resizingPattern.vertical" ng-style="{ left: maskPose.width / 2, top: maskPose.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanS"></span> <span class="bar handle ne" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: maskPose.width, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanNE"></span> <span class="bar handle se" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: maskPose.width, top: maskPose.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanSE"></span> <span class="bar handle sw" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: 0, top: maskPose.height }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanSW"></span> <span class="bar handle nw" title="拖拽改变大小" ng-show="resizingPattern.ratio" ng-style="{ left: 0, top: 0 }" ng-mousedown="onHaRszMouseDown($event)" ng-mouseup="onHaRszMouseUp($event)" hm-recognizer-options="{{ bhoHaRsz }}" hm-panstart="onHaRszPanStart" hm-panend="onHaRszPanEnd" hm-panmove="onHaRszPanNW"></span> <span class="bar handle r" title="拖拽旋转 双击重置" ng-if="false" ng-style="{ top: maskPose.height, maskPose: box.width / 2 }" ng-dblclick="onHaRDblClick($event)" hm-recognizer-options="{{ bhoHaR }}" hm-panstart="onHaRPanStart" hm-panend="onHaRPanEnd" hm-panmove="onHaRPan"></span> <span class="bar handle" title="" style="text-align:center" ng-show="onRotating && enableShowRotateAngleLabel" ng-style="{ top: maskPose.height + 56 , left: 0 , width: maskPose.width , transform:rotateTitleTransform}">{{rotateTitleAngle.toFixed()}}°</span> </div> </div> </div>'),t.put("/views/app/studio/Op/OpMultiCompZOrder.html",'<div class="op-multi-cp-zorder" tn-attach-to="cpDSlot"> <div class="btn-group" tn-dropdown is-open="status.isZOrderOpen"> <button class="btn btn-success op-bar-btn" type="button" tn-dropdown-toggle> <span class="glyphicon glyphicon-sort"></span> </button> <ul class="op-bar-menu" tn-dropdown-menu role="menu"> <li> <a ng-click="onClickOrderUp()" ng-class="{disabled: !status.canMoveUp}"> <span class="glyphicon glyphicon-step-forward" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到最上层</span> </a> </li> <li> <a ng-click="onClickOrderUpOnce()" ng-class="{disabled: !status.canMoveUp}"> <span class="glyphicon glyphicon-play" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到上一层</span> </a> </li> <li> <a ng-click="onClickOrderDownOnce()" ng-class="{disabled: !status.canMoveDown}"> <span class="glyphicon glyphicon-play" ng-style="{ transform: \'rotate(-270deg)\' }"></span> <span>移到下一层</span> </a> </li> <li> <a ng-click="onClickOrderDown()" ng-class="{disabled: !status.canMoveDown}"> <span class="glyphicon glyphicon-step-backward" ng-style="{ transform: \'rotate(-90deg)\' }"></span> <span>移到最下层</span> </a> </li> </ul> </div> </div>'),t.put("/views/app/studio/Op/tnAnimationSelector.html",'<section class="tn-animation-selector-panel"> <uib-tabset active="active" justified="true"> <uib-tab index="0" active="state.settingActives[\'cssAnimation\']"> <uib-tab-heading> 动画设置 </uib-tab-heading> <div class="tab-panel-content"> <button type="button" class="btn btn-green col-xs-12" ng-show="cssAnimationUnits.length > 0" ng-disabled="cssAnimationUnits[0].animItem.animType === null" ng-click="onClipboardAnimationInsert()"> 复制动画 </button> <button type="button" class="btn btn-red col-xs-12" ng-show="false" ng-click="onResetAnimationUnits()"> 清除动画 </button> <div class="col-xs-12 separator"></div> <div class="anim-unit-box anim-item-list"> <div class="form-horizontal anim-unit-container" ng-repeat="animUnit in cssAnimationUnits track by $id(animUnit)"> <div class="anim-title-bar"> <span class="glyphicon glyphicon-play" ng-class="{ \'unfold\': !animUnit.folded }" ng-click="animUnit.folded = !animUnit.folded"></span> <label class="control-label" ng-bind="\'动画\' + ($index + 1)"></label> <span class="glyphicon glyphicon-trash" ng-hide="$index == 0 && !animUnit.animItem.group" ng-click="onRemoveAnimationUnit($index, animUnit)"></span> </div> <div class="anim-content" ng-hide="animUnit.folded"> <div class="form-group"> <label class="col-sm-2 control-label">效果</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animItem" ng-options="animType.name group by animType.group for animType in cssAnimationList" ng-change="onAnimItemChange($index, animUnit)"> </select> </div> </div> <div class="form-group" ng-show="!!animUnit.animItem.category"> <label class="col-sm-2 control-label">方向</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animCategoryItem" ng-options="anim.name for anim in animUnit.animItem.category" ng-change="onAnimAttrChange($index, animUnit)"> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">持续</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDuration" ng-blur="onAnimAttrChange($index, animUnit)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">延迟</label> <div class="col-sm-10"> <input class="form-control" ng-model="animUnit.animDelay" ng-blur="onAnimAttrChange($index, animUnit)"> <span class="unit">秒</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">次数</label> <div class="col-sm-7"> <input class="form-control" ng-model="animUnit.animTimes" ng-disabled="animUnit.animInfinite" ng-blur="onAnimAttrChange($index, animUnit)"> <span class="unit">次</span> </div> <div class="col-sm-3 times-check"> <input type="checkbox" ng-model="animUnit.animInfinite" ng-click="onAnimAttrChange($index, animUnit)"> <label class="control-label">循环</label> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">速度</label> <div class="col-sm-10"> <select class="form-control" ng-model="animUnit.animSpeedItem" ng-options="speed.name for speed in cssAnimationSpeedList" ng-change="onAnimAttrChange($index, animUnit)"> </select> </div> </div> </div> </div> <button type="button" class="btn btn-green col-xs-12 col-sm-12 add-btn" ng-click="onAddAnimationUnit()"> 添加动画 </button> </div> </div> </uib-tab> <uib-tab index="2" active="state.settingActives[\'animationClipboard\']"> <uib-tab-heading> 动画剪贴板 </uib-tab-heading> <div class="tab-panel-content"> <div class="text-left prompt"> <p ng-show="clipboardAnimationList.length"> 点击下列动画可应用到当前组件 </p> <p ng-show="!clipboardAnimationList.length"> 复制动画后可快速应用 </p> </div> <div class="anim-unit-box anim-clipboard"> <div class="tn-lighting-box" ng-repeat="anim in clipboardAnimationList | animationCategoryFilter:\'css\' track by $index"> <div class="anim-unit-container lighting-hover" ng-click="onClipboardAnimationSelect(anim.animate)" ng-switch="anim.animate | hasTextAnimation"> <span ng-switch-when="true" ng-bind="\'文字动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-switch-default ng-bind="\'动画-\' + (anim.ordinal+1) + \':\'"></span> <span ng-bind="anim.animate | animationNameDesc"></span> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardAnimationDelete(anim)"></span> </div> </div> </div> </uib-tab> </uib-tabset> </section>'),t.put("/views/app/studio/Op/tnVideoOption.html",'<button class="btn btn-success op-bar-btn size-list-toggle" type="button" tn-dropdown-toggle> <span>宽高比</span> </button> <ul class="op-bar-menu trigger-props-panel" tn-dropdown-menu role="menu" ng-switch="inner.type"> <li ng-hide="state.disableVideoRatio" ng-if="state.enableVideoRatio"> <div class="form-group col-sm-12" style="margin-left: 15px;"> <div>源视频比例</div> </div> </li> <li ng-repeat="option in ratioOptions" ng-if="state.enableVideoRatio"> <div class="form-group col-sm-12"> <div class="col-sm-1"> <input class="ratio-option" type="radio" name="rdbratio" ng-value="option" ng-model="inner.ratioSetting" ng-change="onVideoRatioChanged()"> </div> <div class="col-sm-8"> <span ng-bind="option.name"></span> </div> </div> </li> <li ng-if="state.enableVideoRatio"> <div class="form-group col-sm-12"> <div class="col-sm-1"> <input class="ratio-option" type="radio" name="rdbratio" ng-value="customSetting" ng-model="inner.ratioSetting" ng-change="onVideoRatioChanged()"> </div> <div class="col-sm-8"> <input class="form-control ratio-num" style="width: 4em;" min="1" name="width" type="number" ng-model="customSetting.width" ng-blur="onSettingWidthBlur(customSetting, \'videoRatio\')"> <span>&nbsp;:&nbsp;</span> <input class="form-control ratio-num" style="width: 4em;" min="1" name="height" type="number" ng-model="customSetting.height" ng-blur="onSettingHeightBlur(customSetting, \'videoRatio\')"> </div> </div> </li> <li ng-if="state.enableAutoFitVideo"> <div class="form-group col-sm-12" style="margin: 15px 0px 10px 15px;"> <div> 显示比例 <a class="no-decoration" href="https://v.xiumi.us/board/v5/2a5va/330029610" target="_blank"> <span class="glyphicon glyphicon-question-sign" tooltip-placement="top"></span> </a> </div> <div style="margin-top: 10px;"> <input ng-disabled="inner.ratioSetting.name == \'默认\'" class="form-control ratio-num" style="width: 4em;" type="number" ng-model="inner.cropVideoRatio.width" ng-blur="onSettingWidthBlur(inner.cropVideoRatio, \'cropVideoRatio\')"> <span>&nbsp;:&nbsp;</span> <input ng-disabled="inner.ratioSetting.name == \'默认\'" class="form-control ratio-num" style="width: 4em;" type="number" ng-model="inner.cropVideoRatio.height" ng-blur="onSettingHeightBlur(inner.cropVideoRatio, \'cropVideoRatio\')"> </div> </div> </li> <li ng-if="state.enableAutoFitVideo"> <div class="form-group col-sm-12"> <div class="col-sm-1"> <input ng-disabled="inner.ratioSetting.name == \'默认\'" class="ratio-option" type="checkbox" ng-model="inner.rotate90" style="padding-top: 15px; vertical-align: middle;">旋转 </div> </div> </li> <li> <div class="form-group col-sm-12"> <button class="btn btn-green col-xs-12 confirm" ng-click="onClickChangeRatio(inner.ratioSetting)"> 确定 </button> </div> </li> </ul>'),t.put("/views/app/studio/OutCompEditOp/OpCarouselTplSet.html",'<div class="op-ce-layout-carousel cell-group-edit-container out-comp-edit-panel" ng-style="{ top: location.top + location.height / 2, left: (location.width - 480) / 2 + location.left, width: 500 }" ng-click="onClick($event)"> <span class="up-triangle"></span> <span class="up-triangle-inner"></span> <div class="cell-group-panel" tn-comment="Do not stop click event here." style="height: auto;" ng-click="onPanelClick($event)"> <div class="horizontal-layout-tip"> <p>点击序列中一项，再点击图库图片以更新内容<br>如果没有选中任何序列，就会加到最后<br>该模板只能用同步方式上传到公众号后台</p> </div> <div class="option-panel col-sm-12"> <div class="col-sm-12"> <div class="form-group col-sm-6"> <label class="col-sm-3 control-label">类型</label> <div class="col-sm-7"> <select class="form-control menu-style-input" style="background: transparent; color: white;" ng-options="category for category in status.animatedArgs.transitionCategoryList" ng-model="status.animatedArgs.transitionCategory" ng-cloak> </select> </div> </div> <div class="form-group col-sm-6"> <label class="col-sm-4 control-label">单张时长</label> <div class="col-sm-6"> <input class="form-control" type="number" step="1" min="0" max="100" ng-model="status.animatedArgs.duration"> <span class="unit">秒</span> </div> </div> </div> <div class="col-sm-12"> <div class="form-group col-sm-6" ng-show="(status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'抽签\') || (status.animatedArgs.transitionCategory == \'宫格式切换\')"> <label class="col-sm-3 control-label">触发</label> <div class="col-sm-7"> <select class="form-control menu-style-input" style="background: transparent; color: white;" ng-model="status.animatedArgs.trigger" ng-cloak> <option value="click" ng-show="(status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'宫格式切换\')">点击</option> <option value="auto">自动</option> <option value="press">长按</option> </select> </div> </div> <div class="form-group col-sm-6" ng-hide="status.animatedArgs.transitionCategory == \'抽签\'"> <label class="col-sm-2 control-label">循环</label> <div class="col-sm-2" style="margin-top: 4px; text-align: left;"> <input type="checkbox" ng-model="status.animatedArgs.repeat"> </div> </div> </div> </div> <div> <div class="slider tn-overflow-hidden" tn-cell-type="group" style="overflow-x: auto !important;"> <div class="item-container" ng-show="tplSet.length > 0" ui-sortable="tplSetSortableOpts" ng-model="tplSet"> <div class="item" ng-repeat="chd in tplSet track by $id(chd)"> <div class="option-content" stop-propagation="click mousedown"> <div style="overflow: hidden; background: white;" ng-class="{\'in-editing\': ($index == tplSelectedIndex)}" ng-style="{ \'width\': fixedTplPreviewWidth, \'height\': tplAppendixSet[$index].outerElemStyle.height }" ng-click="onTplClicked($event, $index)"> <div ng-style="tplAppendixSet[$index].outerElemStyle"> <div ng-style="tplAppendixSet[$index].innerElemStyle" class="comp-item out-edit-comp-item" tn-bind-comp="chd" ng-class="{\'editing-mode\': editingMode}"></div> </div> </div> <div class="out-edit-opt-panel specific-option-panel"> <div class="col-sm-12"> <label class="col-sm-3 control-label">对齐</label> <div class="col-sm-9 btn-group"> <select class="form-control" ng-change="onCompVerticalAlignChanged($index)" ng-model="tplArgs[$index].verticalAlign" ng-cloak> <option value="top">向上对齐</option> <option value="middle">居中对齐</option> <option value="bottom">向下对齐</option> </select> </div> </div> <div class="col-sm-12" style="margin-top: 10px;" ng-show="status.animatedArgs.transitionCategory == \'切换\'"> <label class="col-sm-3 control-label">动画</label> <div class="col-sm-9"> <select class="form-control menu-style-input" ng-options="orientation for orientation in status.animatedArgs.customizedTransitionCategoryList" ng-model="tplArgs[$index].animatedArgs.transitionCategory" ng-change="onPropChanged(\'customizedTransitionCategory\', $index, \'{{tplArgs[$index].animatedArgs.transitionCategory}}\')" ng-cloak> </select> </div> </div> <div class="col-sm-12" style="margin-top: 10px;" ng-show="(status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'宫格式切换\') || ((status.animatedArgs.transitionCategory == \'切换\') && ((tplArgs[$index].animatedArgs.transitionCategory == \'移出\') || (tplArgs[$index].animatedArgs.transitionCategory == \'移入\') || (tplArgs[$index].animatedArgs.transitionCategory == \'回弹移出\')))"> <label class="col-sm-3 control-label">方向</label> <div class="col-sm-9"> <select ng-style="{ color: ((status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'宫格式切换\')) && ($index > 0) ? \'darkgray\' : \'white\' }" ng-disabled="((status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'宫格式切换\')) && ($index > 0)" class="form-control menu-style-input" ng-options="orientation for orientation in status.animatedArgs.transitionOrientationList" ng-model="tplArgs[$index].animatedArgs.transitionOrientation" ng-change="onPropChanged(\'transitionOrientation\', $index)" ng-cloak></select> </div> </div> <div class="col-sm-12" style="margin-top: 10px;" ng-show="(status.animatedArgs.transitionCategory == \'切换\') || (status.animatedArgs.transitionCategory == \'滚动\') || (status.animatedArgs.transitionCategory == \'宫格式切换\')"> <label class="col-sm-3 control-label">停留</label> <div class="col-sm-9"> <input class="form-control" type="number" step="1" min="0" max="100" ng-model="tplArgs[$index].animatedArgs.stayDuration" auto-focus-on="mousedown"> <span class="unit">秒</span> </div> </div> </div> </div> <div style="float: right;"> <div class="glyphicon glyphicon-plus glyphicon-btn" ng-click="addBtnClicked($index)" stop-propagation="click mousedown" title="新增"></div> <div class="glyphicon glyphicon-duplicate glyphicon-btn" ng-click="copyBtnClicked($index)" stop-propagation="click mousedown" title="复制"></div> <div class="glyphicon glyphicon-menu-hamburger glyphicon-btn" title="拖动"></div> <div class="glyphicon glyphicon-trash glyphicon-btn" ng-click="removeBtnClicked($event, $index)" stop-propagation="click mousedown" title="删除"></div> </div> </div> </div> <div class="empty-item-container" ng-show="tplSet.length == 0">← 点击图片加入</div> </div> </div> </div> </div>'),t.put("/views/app/studio/OutCompEditOp/OpCropImageSet.html",'<div class="bg-group-edit-container out-comp-edit-panel" ng-style="{\n      top: location.top + location.height / 2, left: (location.width - 480) / 2 + location.left, width: 500, height: 150 / location.width * location.height + 30}"> <span class="up-triangle"></span> <span class="up-triangle-inner"></span> <div class="bg-group-panel" tn-comment="Do not stop click event here."> <div class="arrow-left" ng-click="arrowLeftClicked()" ng-show="showLeftArrow"></div> <div class="arrow-right" ng-click="arrowRightClicked()" ng-show="showRightArrow"></div> <div class="slider tn-overflow-hidden" tn-cell-type="group"> <div class="item-container" tn-sub-set-edit-loader="imgSet" ng-style="{ \'width\': 33.33 * (imgSet.length + 1) + \'%\',\n           \'margin-left\': curIndex < 0 ? 0 : -33.33 * curIndex + \'%\' }"> </div> </div> </div> </div>'),t.put("/views/app/studio/OutCompEditOp/OpHorizontalLayoutTplSet.html",'<div class="cell-group-edit-container out-comp-edit-panel" ng-style="{ top: location.top + location.height / 2, left: (location.width - 480) / 2 + location.left, width: 657 }"> <span class="up-triangle"></span> <span class="up-triangle-inner"></span> <div class="cell-group-panel" tn-comment="Do not stop click event here." style="height: auto;" ng-click="onPanelClick($event)"> <div class="horizontal-layout-tip"> <p>点击序列中一项，再点击左边模板以更新内容<br>如果没有选中任何序列，就会加到最后</p> </div> <div class="general-option-panel" ng-show="tplSet.length > 0"> <input type="checkbox" ng-model="status.mandatoryScrolling"> 滑动时自动对齐(开启后只能用同步方式上传到公众号后台) </div> <div> <div class="slider tn-overflow-hidden" tn-cell-type="group" style="overflow-x: auto !important;"> <div class="item-container" ng-show="tplSet.length > 0" tn-sub-set-edit-loader="horizontalTplSet"> </div> <div class="empty-item-container" ng-show="tplSet.length == 0">← 点击模板加入</div> </div> </div> </div> </div>'),t.put("/views/app/studio/sidebar/panel.html",'<uib-tabset class="x3-sidebar" vertical="true" type="pills" ng-class="{ \'present-tpl-id\': !!__show_template_id }"> <uib-tab class="x3-tab-item" ng-repeat="tabItem in sidebarTabs" active="actives[tabItem.type]" disable="disabled[tabItem.type]" select="onTabSelected(tabItem.type)"> <uib-tab-heading class="tab-heading"> <span class="icon" ng-class="::tabItem.icon"></span> <span class="name" ng-bind="::tabItem.name"></span> </uib-tab-heading> <div class="tn-tab-ctrl-pin" ng-class="::tabItem.class" tn-bind-controller="tabItem.controller" tn-bind-controller-data="tabItem.data" ng-include="::tabItem.view"> </div> </uib-tab> <uib-tab class="x3-tab-item unknown" active="actives[\'unknown\']" disable="!actives[\'unknown\']"> <uib-tab-heading class="tab-heading"> <span class="icon unknown"></span> <span class="name"></span> </uib-tab-heading> <div class="tn-tab-ctrl-pin unknown" ng-include="::\'/views/app/studio/sidebar/tabContents/unknown.html\'"> </div> </uib-tab> </uib-tabset> <div class="sidebar-collapse-toggle" ng-click="onToggleCollapsed()" ng-switch="sidebarState.size"> <div ng-switch-when="collapsed">展开 <span class="glyphicon glyphicon-chevron-right"></span></div> <div ng-switch-default><span class="glyphicon glyphicon-chevron-left"></span> 收起</div> </div> '),t.put("/views/app/studio/sidebar/pieces/fragmentFlowBox.html",'<li class="tn-tpl-item tn-tpl-fragment tn-scene-paper tn-lighting-box" ng-repeat="fg in tnDataList track by $id(fg)" ng-click="onFragmentSelect(fg, $event)" ng-cloak> <div class="tn-tpl-fragment-box lighting-hover" context-menu="menuOptions" ng-class="::(\'fragment-type-\' + fg.type_text)" ng-switch="::fg | fragment2PresentType"> <section class="tn-tpl-fragment-item tn-comp-anim-pin tn-comp tn-from-house-edit_paper-cp" ng-switch-when="tn-fg-paper_cp:with-ra"> <div class="tn-slice-slot ng-scope tn-cell tn-cell-group tn-child-position-absolute" ng-style="::fg.data._comp.style" disable-tn-group-flex-box="inline" ng-bind-html="::fg.data.$appendix.rendererAccelerate | validateImageTypeInHtml | unsafe"> </div> </section> <section class="tn-tpl-fragment-item" tn-solo-comp-loader="fg.data" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment" ng-switch-when="tn-fg-paper_cp:raw"> </section> <section class="tn-tpl-fragment-item flow-page-basic-style" ng-switch-when="tn-fg-flow_page_basic_style:raw"> <div class="type-prompt">基础格式</div> <div class="basic-style-desc" ng-style="::fg.data.pages[0]._comp.style"> {{ ::fg | basicStyleFragment2DescText }} </div> <div class="behavior-prompt">点击可将此格式设置为当前基础格式</div> </section> <section class="has-error" ng-switch-when="tn-fg-paper_cp:error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </section> <section class="has-error" ng-switch-when="tn-fg-flow_page_basic_style:error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </section> </div> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onFragmentRemove($event, fg)"></span> <div class="mask"> <div class="wx-radio"> <input type="radio" ng-checked="fg.isSelected"> <label for="radio"></label> </div> </div> </li> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="untagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div>'),t.put("/views/app/studio/sidebar/pieces/imageBox.html",'<div class="tn-image-item-box lighting-hover" context-menu="menuOptions"> <div class="editing-action-panel" ng-show="canEditImg" ng-cloak> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onImageRemove($event, img, $index, false)"></span> <div class="mask"> <div class="wx-radio"> <input type="radio" ng-checked="img.isSelected"> <label for="radio"></label> </div> </div> </div> <div class="wx-checkbox" ng-show="img.isUsed"> <input type="checkbox" id="checkbox" ng-model="img.isUsed"> <label for="checkbox"></label> </div> <img class="asset-image-inst tn-drag-asset-image tn-can-drop-to-layer tn-can-drop-to-cell-image tn-can-drop-to-comp-bg" ng-src="{{ ::img.target_uri | optimizeImageType:clientType }}" ng-mouseenter="onImgMouseEnter($event, img)" ng-mouseleave="onImgMouseLeave($event, img)"> </div> <div class="display-name text-center" ng-bind="::(img.display_name + ((img.target_uri.indexOf(\'.svg\') > 0) ? \' (SVG图)\' : \'\')) || \'外链图片\'"></div>'),t.put("/views/app/studio/sidebar/pieces/pageBox.html",' <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box" ng-repeat="item in ngModel track by $id(item)" title="{{ ::item.display_name }}" ng-click="onPageTplItemClick(item)" ng-switch="::(!!item.thumb_uri)"> <section class="tn-tpl-page-box lighting-hover" ng-switch-when="true"> <div class="tn-tpl-page-item tn-page tn-tpl-thumb-bind-box" ng-style="::{ backgroundImage: \'url(\' + (item.thumb_uri | optimizeImageType) + \')\' }"> </div> </section> <section class="tn-tpl-page-box lighting-hover" ng-switch-default> <div class="tn-tpl-page-item tn-page" tn-solo-comp-loader="item.matrix" tn-comp-role="page"> </div> </section> <div class="tn-tpl-id">[{{ ::item.template_id }}] {{ ::item.atom_tpl_id }}</div> </li> '),t.put("/views/app/studio/sidebar/pieces/patternFragmentFlowBox.html",' <li class="tn-tpl-item tn-tpl-fragment tn-lighting-box tn-scene-paper" ng-repeat="fg in tnDataList track by $id(fg)"> <section class="tn-tpl-fragment-box lighting-hover" ng-click="onPatternFragmentClick($index, fg)"> <div class="auto-compose-decoration" ng-if="::(!!fg.autoCompose)"> <label>{{ ::fg.autoCompose | autoComposing2TypeDescText }}</label> </div> <div class="wrapper" context-menu="compItemMenuOptions"> <div class="tn-tpl-fragment-item" tn-solo-comp-loader="fg" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </div> </div> </section> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="compItemMenuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onPatternFragmentDelete($index, fg)"> </span> </li> '),t.put("/views/app/studio/sidebar/pieces/templateBox.html",' <li class="tn-tpl-item tn-lighting-box" ng-repeat="tpl in tnDataList track by $id(tpl)" ng-class="::tpl | tpl2BoxClasses" tn-feature-toggle="::tpl.feature_requires_text" feature-matched-class="comp-feature-matched" feature-not-matched-class="comp-feature-not-matched" ng-click="tplLib.onTemplateClicked($event, tpl)" context-menu="tplLib.compItemMenuOptions" model="tpl" ng-switch="::tpl | tpl2PresentType:true"> <div class="tn-tpl-comp-box lighting-hover with-thumb" ng-switch-when="tn-tpl-comp_with-thumb"> <div class="wrapper"> <div class="tn-tpl-comp-item tn-tpl-thumb-bind-box"> <img class="tn-tpl-comp-item-cover" ng-src="{{ ::tpl.thumb_uri | optimizeImageType }}"> </div> </div> </div> <div class="tn-tpl-comp-box lighting-hover with-ra" ng-switch-when="tn-tpl-comp_with-ra"> <div class="wrapper" tn-tpl-pose-fit-box="::tpl"> <div class="tn-tpl-comp-item tn-tpl-ra-bind-box" disable-tn-group-flex-box="block" ng-bind-html="::tpl.renderer_accelerate | validateImageTypeInHtml | unsafe"> </div> </div> </div> <div class="tn-tpl-comp-box lighting-hover raw" ng-switch-when="tn-tpl-comp_raw"> <div class="wrapper" disable-tn-group-flex-box="block" tn-tpl-pose-fit-box="::tpl"> <div class="tn-tpl-comp-item" ng-repeat="cp in ::(!tpl.matrix.length ? [ tpl.matrix ] : tpl.matrix)" tn-solo-comp-loader="cp"> </div> </div> </div> <div class="tn-tpl-comp-box lighting-hover mat-img" ng-switch-when="tn-tpl-material_mat-img"> <div class="wrapper"> <div class="tn-tpl-comp-item tn-tpl-material-bind-box"> <img class="tn-tpl-comp-item-cover" ng-src="{{ ::tpl.material.file_uri | optimizeImageType }}"> <a href="https://www.fotor.com.cn/?hmsr=xiumi&hmpl=&hmcu=&hmkw=&hmci=" target="_blank" ng-if="::tpl.material.provider_text == \'fotor\'"> <span class="logo fotor"><img src="/images/app/studio/icon-mat-prov-logo-fotor.svg" alt="fotor"></span> </a> </div> </div> </div> <div class="tn-tpl-page-box lighting-hover with-thumb" ng-switch-when="tn-tpl-page_with-thumb" ng-mousemove="tplLib.onTemplateMouseMove($event, tpl)" ng-mouseleave="tplLib.onTemplateMoveLeave($event)"> <div class="tn-tpl-page-item tn-page tn-tpl-thumb-bind-box" ng-style="::{ backgroundImage: \'url(\' + (tpl.thumb_uri | optimizeImageType) + \')\' }"> </div> </div> <div class="tn-tpl-page-box lighting-hover with-ra tn-tpl-ra-bind-box" ng-switch-when="tn-tpl-page_with-ra" ng-mousemove="tplLib.onTemplateMouseMove($event, tpl)" ng-mouseleave="tplLib.onTemplateMoveLeave($event)" ng-bind-html="::tpl.renderer_accelerate | validateImageTypeInHtml | unsafe"> </div> <div class="tn-tpl-page-box lighting-hover raw" ng-switch-when="tn-tpl-page_raw" ng-mousemove="tplLib.onTemplateMouseMove($event, tpl)" ng-mouseleave="tplLib.onTemplateMoveLeave($event)"> <div class="tn-tpl-page-item tn-page" tn-solo-comp-loader="tpl.matrix" tn-comp-role="page"> </div> </div> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="tplLib.compItemMenuOptions" context-menu-on="click"></span> <div class="tn-tpl-id">[{{ ::tpl.template_id }}] {{ ::tpl.atom_tpl_id }}</div> </li> '),t.put("/views/app/studio/sidebar/pieces/templatePatternFragmentFlowBox.html",' <li class="tn-tpl-item tn-tpl-fragment tn-lighting-box tn-scene-paper" ng-repeat="fg in tnDataList track by $id(fg)"> <section class="tn-tpl-fragment-box lighting-hover" ng-click="tplLib.onPatternFragmentClick(fg, $event)"> <div class="auto-compose-decoration" ng-if="::(!!fg.autoCompose)"> <label>{{ ::fg.autoCompose | autoComposing2TypeDescText }}</label> </div> <div class="wrapper"> <div class="tn-tpl-fragment-item" tn-solo-comp-loader="fg" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </div> </div> </section> </li> '),t.put("/views/app/studio/sidebar/pieces/templateSummary.html",'<div class="tn-tpl-summary-block"> <div class="tpl-description" stop-propagation="mousedown mouseup click dblclick"> <h4 class="tpl-id">#{{ tpl.template_id }}</h4> </div> <hr> <div class="tn-tpl-item-tags-block"> <span>标签：</span> <span class="tn-tpl-item-tag" ng-repeat="tag in tpl.tags | tplTags:\'common\'" ng-click="tplLib.onTemplateTagClicked(tag)"> {{ tag.tag_name }} </span> </div> <div class="tn-tpl-item-tags-block suit-tags" ng-show="!!(tpl.tags | tplTags:\'suit\').length"> <span>套装：</span> <span class="tn-tpl-item-tag" ng-repeat="tag in tpl.tags | tplTags:\'suit\'" ng-click="tplLib.onTemplateTagClicked(tag)"> {{ tag.tag_name | tplTag2DisplayName }} </span> </div> </div>'),t.put("/views/app/studio/sidebar/tabContents/articles.html",'<uib-tabset class="tn-tpl-rooms-tab tn-art-rooms-tab" type="pills" ng-if="!!status.auth.userInfo"> <uib-tab class="tn-tpl-room-item" active="tagActives[\'all\']" ng-click="onAllArticleSelect()"> <uib-tab-heading class="articles"> <span class="room-name">所有图文</span> </uib-tab-heading> <div class="x3-articles-list" tn-scroll-to-bottom="onLoadMore()" style="height: 100%;" ng-if="!!status.auth.userInfo"> <section class="tpl-item article clearfix" ng-repeat="art in alltagDetail.displayArticles track by $id(art)" ng-click="onArticleSelect($event, art)" ng-cloak> <div class="has-error" ng-if="!!art.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="article-container"> <div class="header"> <div class="thumb" ng-style="{\'background-image\': \'url(\' + ((art.data.cover || art.cover || \'\') | optimizeImageType) + \')\'}"></div> <div class="title"> <div class="inner" ng-bind="art.data.title || art.title"></div> </div> <div class="date" ng-bind="art.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </div> </section> <a class="get-more-btn no-decoration xiumi-red" href="javascript:void(0)" ng-show="alltagDetail.hasMoreArticles" ng-click="getMore($event)">加载更多</a> <div class="article-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in tagDetails track by $id(tagDetail)" active="tagActives[tagDetail.tag]" select="onArticleDetailSelected(tagDetail)"> <uib-tab-heading class="articles"> <span class="room-name" ng-bind="::tagDetail.tag"></span> </uib-tab-heading> <div class="x3-articles-list" tn-scroll-touch="onBoxScroll($event)" style="height: 100%;" ng-if="!!status.auth.userInfo"> <section class="tpl-item article clearfix" ng-repeat="art in tagDetail.displayArticles track by $id(art)" ng-click="onArticleSelect($event, art)" ng-cloak> <div class="has-error" ng-if="!!art.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="article-container"> <div class="header"> <div class="thumb" ng-style="{\'background-image\': \'url(\' + ((art.data.cover || art.cover || \'\') | optimizeImageType) + \')\'}"></div> <div class="title"> <div class="inner" ng-bind="art.data.title || art.title"></div> </div> <div class="date" ng-bind="art.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </div> </section> <a class="get-more-btn no-decoration xiumi-red" href="javascript:void(0)" ng-show="tagDetail.hasMoreArticles" ng-click="getMore($event)">加载更多</a> <div class="article-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </uib-tab> <uib-tab class="tn-tpl-room-search-item" active="tagActives[\'search\']"> <uib-tab-heading class="templates comp"> <span class="glyphicon glyphicon-search tn-tpl-search-icon room-name"></span> </uib-tab-heading> <div class="tab-content-inner"> <div class="tn-art-search-bar"> <input tn-focus-me="tagActives[\'search\']" type="text" class="form-control" placeholder="输入关键词后按回车键" ng-model="searchRoom.keywords" ng-keydown="onSearchKeyDown($event)"> <a class="btn" ng-click="onSearchCleanUp()" ng-show="(searchRoom.displayArticles != null) && (searchRoom.displayArticles.length > 0)">清除</a> </div> <div class="tpl-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> <div class="tn-tpl-search-msg" ng-show="searchRoom.init && searchRoom.displayArticles.length == 0 && !gettingMore"> <span>搜索结果为空</span> </div> <div class="x3-articles-list" tn-scroll-touch="onBoxScroll($event)" style="height: 100%;" ng-if="!!status.auth.userInfo"> <section class="tpl-item article clearfix" ng-repeat="art in searchRoom.displayArticles track by $id(art)" ng-click="onArticleSelect($event, art)" ng-cloak> <div class="has-error" ng-if="!!art.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="article-container"> <div class="header"> <div class="thumb" ng-style="{\'background-image\': \'url(\' + ((art.data.cover || art.cover || \'\') | optimizeImageType) + \')\'}"></div> <div class="title"> <div class="inner" ng-bind="art.data.title || art.title"></div> </div> <div class="date" ng-bind="art.saved_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </div> </section> <a class="get-more-btn no-decoration xiumi-red" href="javascript:void(0)" ng-show="searchRoom.hasMoreArticles" ng-click="getMore($event)">加载更多</a> <div class="article-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div> </uib-tab> </uib-tabset> <div class="no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以显示保存的图文 </div> '),t.put("/views/app/studio/sidebar/tabContents/audios.html",'<audio class="bgm-audio" id="audio-library-control" controls ng-hide="true"></audio> <uib-tabset class="tn-aud-rooms-tab" active="activeJustified" justified="true"> <uib-tab class="tn-aud-room-item" index="0" heading="系统音乐" select="onTabClick(\'sysAudio\')"> <div class="tab-content-inner clearfix"> <uib-tabset class="tn-sysaud-rooms-tab" type="pills" ng-if="!!status.auth.userInfo"> <uib-tab class="tn-sysaud-room-item" ng-repeat="category in categoryList track by $id(category)" select="onCategorySelect($index, category)"> <uib-tab-heading class="images"> <span class="room-name" ng-bind="::category.category_name"></span> </uib-tab-heading> <ul class="tn-tpl-list small-tpl list-style-none col-xs-12 col-sm-12 tn-asset-container-audio"> <li class="tpl-item audio clearfix tn-lighting-box" ng-repeat="aud in category.audios track by $id(aud)" ng-click="onSysAudioSelect($event, aud, $index)"> <div class="tn-audio-item-box lighting-hover"> <div class="audio-info"> <span class="audio-name" ng-bind="::aud.audio_name"></span> <a ng-show="aud.source" ng-href="{{::aud.source.link_uri}}" target="_blank" stop-propagation="click"> <span>&nbsp;&nbsp;来源:</span> <img class="brand" title="{{::aud.source.source_name}}" alt="{{::aud.source.source_name}}" ng-src="{{ ::aud.source.icon_uri }}"> </a> </div> <span class="icon sysplay glyphicon" ng-class="{\'glyphicon-pause\' : currentTab == \'system\' && playId == aud.audio_id && playing, \'glyphicon-play\' : currentTab != \'system\' || playId != aud.audio_id || !playing}" ng-click="onSysAudioPlay($event, aud, $index)"></span> <span class="icon syspause glyphicon glyphicon-pause" ng-show="currentTab == \'system\' && playId == aud.audio_id && playing" ng-click="onSysAudioPlay($event, aud, $index)"></span> </div> </li> </ul> </uib-tab> </uib-tabset> </div> </uib-tab> <uib-tab class="tn-aud-room-item" index="1" heading="我的音乐" select="onTabClick(\'audio\')"> <div class="tab-content-inner clearfix"> <br> <div class="col-xs-12 col-sm-12 text-center"> <p class="col-xs-12 col-sm-12 tn-audio-uploader"> <input id="audioFileUploadInput" type="file" class="form-control" accept=".mp3" files-model="inner.audioFiles" file-change="uploadAudioFiles()" ng-cloak> <a class="btn btn-green col-xs-12 col-sm-12" role="button" ng-disabled="!status.auth.userInfo || uploading" alias-as="#audioFileUploadInput" alias-event="click"> 上传音乐 </a> </p> <p class="col-xs-12 col-sm-12"> 上传音乐即表示同意 <a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/55513555" target="_blank"> 秀米音乐服务协议 </a> </p> </div> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!status.auth.userInfo"> <hr> 登录后可以使用音乐库功能 </div> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!!status.auth.userInfo && !(audios.length !== 0)"> <hr> 上传音乐可用于H5和秀米图文的增强模式 </div> <ul class="tn-tpl-list small-tpl list-style-none col-xs-12 col-sm-12 tn-asset-container-audio"> <li class="tpl-item audio clearfix tn-lighting-box" ng-repeat="aud in audios track by $id(aud)" ng-click="onUserAudioSelect($event, aud, $index)"> <div class="tn-audio-item-box lighting-hover"> <div class="audio-info"> <span class="audio-name" ng-bind="::aud.display_name"></span> </div> <span class="icon play glyphicon" ng-class="{\'glyphicon-pause\' : currentTab == \'user\' && playId == aud.asset_id && playing, \'glyphicon-play\' : currentTab != \'user\' || playId != aud.asset_id || !playing}" ng-click="onUserAudioPlay($event, aud, $index)"></span> <span class="icon pause glyphicon glyphicon-pause" ng-show="currentTab == \'user\' && playId == aud.asset_id && playing" ng-click="onUserAudioPlay($event, aud, $index)"></span> <span class="icon remove glyphicon glyphicon-trash" ng-click="onUserAudioRemove($event, aud, $index)"></span> </div> </li> </ul> </div> </uib-tab> <uib-tab class="tn-aud-room-item" index="1" heading="我的视频" select="onTabClick(\'video\')"> <div class="tab-content-inner clearfix"> <br> <div class="col-xs-12 col-sm-12 text-center"> <p class="col-xs-12 col-sm-12 tn-video-uploader"> <input id="videoFileUploadInput" type="file" multiple class="form-control" accept=".mp4,.mov" files-model="inner.videoFiles" file-change="uploadVideoFiles()" ng-cloak> <a class="btn btn-green col-xs-12 col-sm-12" role="button" ng-disabled="!status.auth.userInfo || uploading" alias-as="#videoFileUploadInput" alias-event="click"> {{uploadVideoTitle}} </a> </p> <p class="col-xs-12 col-sm-12"> 上传视频即表示同意 <a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/357832955" target="_blank"> 秀米视频服务协议 </a> </p> </div> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!status.auth.userInfo"> <hr> 登录后可以使用视频库功能 </div> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!!status.auth.userInfo && !(videos.length !== 0)"> <hr> 上传视频可用于H5和秀米图文的增强模式 </div> <ul class="tn-tpl-list small-tpl list-style-none col-xs-12 col-sm-12 tn-asset-container-video"> <li class="tpl-item video clearfix tn-lighting-box" ng-repeat="vid in videos track by $id(vid)" ng-click="onVideoSelect($event, vid, $index)"> <div class="tn-video-item-box lighting-hover"> <div class="video-info"> <span class="video-name" ng-bind="::vid.display_name"></span> </div> <span class="icon play glyphicon" ng-class="{\'glyphicon-pause\' : playId == vid.asset_id && playing, \'glyphicon-play\' : currentTab != \'user\' || playId != vid.asset_id || !playing}" ng-click="onVideoPlay($event, vid, $index)"></span> <span class="icon pause glyphicon glyphicon-pause" ng-show="playId == vid.asset_id && playing" ng-click="onVideoPlay($event, vid, $index)"></span> <span class="icon remove glyphicon glyphicon-trash" ng-click="onVideoRemove($event, vid, $index)"></span> </div> </li> </ul> </div> </uib-tab> </uib-tabset>'),t.put("/views/app/studio/sidebar/tabContents/clipboard.html",'<div class="no-content-prompt text-center" ng-if="clipboardSize == 0"> 复制内容到剪贴板，再点击加回到编辑页面。<br>剪贴板在页面刷新后会清空 </div> <div class="tn-clipboard-list"> <ul class="tn-tpl-list tn-tpl-container-page-clipboard small-tpl" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="clipboardBooklet"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box" ng-repeat="cb in clipboardBooklet track by $id(cb)" ng-if="cb.type == \'booklet\'" ng-click="onClipboardSelect(cb, $event)"> <section class="tn-tpl-page-box lighting-hover" context-menu="menuOptions" model="cb"> <section class="tn-tpl-page-item tn-page" tn-solo-comp-loader="cb.pages[0]" tn-comp-role="page"> </section> </section> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardRemove($event, cb)"> </span> </li> </ul> <div class="tn-tpl-list tn-tpl-container-clipboard" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="clipboardPaper"> <div class="tn-tpl-item tn-tpl-copy tn-scene-paper tn-lighting-box" ng-repeat="cb in clipboardPaper track by $id(cb)" ng-if="cb.type == \'paper\'" ng-click="onClipboardSelect(cb, $event)" ng-cloak> <div class="tn-tpl-copy-box lighting-hover" context-menu="menuOptions" model="cb"> <section class="tn-tpl-copy-item" tn-solo-comp-loader="cb" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </section> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardRemove($event, cb)"> </span> </div> </div> </div>'),t.put("/views/app/studio/sidebar/tabContents/clipboardBooklet.html",'<div class="no-content-prompt text-center" ng-if="clipboardSize == 0"> 复制内容到剪贴板，再点击加回到编辑页面。<br>剪贴板在页面刷新后会清空 </div> <ul class="tn-tpl-list tn-tpl-container-page-clipboard small-tpl" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="clipboard"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box" ng-repeat="cb in clipboard track by $id(cb)" ng-if="cb.type == \'booklet\'" ng-click="onClipboardSelect(cb, $event)"> <section class="tn-tpl-page-box lighting-hover" context-menu="menuOptions" model="cb"> <section class="tn-tpl-page-item tn-page" tn-solo-comp-loader="cb.pages[0]" tn-comp-role="page"> </section> </section> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardRemove($event, cb)"> </span> </li> </ul>'),t.put("/views/app/studio/sidebar/tabContents/clipboardPaperFlow.html",'<div class="no-content-prompt text-center" ng-if="clipboardSize == 0"> 复制内容到剪贴板，再点击或者拖动加回到编辑页面。<br> 使用顶部打开图文功能可在不同图文间共享剪贴板。<br> 剪贴板在页面刷新后会清空，请留意。 </div> <div class="tn-tpl-list tn-tpl-container-clipboard" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="clipboard"> <div class="tn-tpl-item tn-tpl-copy tn-scene-paper tn-lighting-box" ng-repeat="cb in clipboard track by $id(cb)" ng-if="cb.type == \'paper\'" ng-click="onClipboardSelect(cb, $event)" ng-cloak> <div class="tn-tpl-copy-box lighting-hover" context-menu="menuOptions" model="cb"> <section class="tn-tpl-copy-item" tn-solo-comp-loader="cb" tn-bind-comp-tpl-id="edit_paper-cp:sys-edit/loader-flow-paper-fragment"> </section> </div> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onClipboardRemove($event, cb)"> </span> </div> </div>'),t.put("/views/app/studio/sidebar/tabContents/fragmentsBooklet.html",'<div class="notifications" ng-if="recycleFragmentList.length"> <div class="notifications-container"> <div class="notify fadeOutNotifications" ng-class="animation"> <span class="message" style="cursor: pointer;" ng-click="onRecoverFragment()"> 手滑了，点此恢复>> </span> <span class="glyphicon glyphicon-remove close-click" ng-click="onRecoverFragmentClose()"> </span> </div> </div> </div> <div class="no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以将编辑的内容收藏 </div> <div class="no-content-prompt text-center" ng-if="!!status.auth.userInfo && !(tagAllFlagment.fragments.length !== 0)"> 您可以将单独的一页加入收藏，方便重复使用。 </div> <uib-tabset class="tn-tpl-rooms-tab fragments" type="pills" ng-if="!!status.auth.userInfo"> <uib-tab class="tn-tpl-room-item" active="untagDetail.isActive" select="onFragmentDetailSelected(untagDetail)"> <uib-tab-heading class="templates fragment"> <span class="room-name">未标签收藏</span> </uib-tab-heading> <div tn-pull-to-refresh on-refresh="onLoadMore(untagDetail)" has-more="!untagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !untagDetail.fragments.length" ng-click="onClearFragmentClick($event)" ng-cloak> 清空收藏 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !untagDetail.fragments.length" ng-click="onBatchFragmentClick($event)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!untagDetail.fragments.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchTagFragmentClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-tpl-container-fragment all-fragments" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="untagDetail.fragments"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box" ng-repeat="fg in untagDetail.fragments track by $id(fg)" ng-mousemove="onFragmentMouseMove(fg)" ng-mouseleave="onFragmentMoveLeave()" ng-click="onFragmentSelect(fg, $event)" ng-cloak> <div class="tn-tpl-page-box lighting-hover" context-menu="menuOptions" ng-class="::(\'fragment-type-\' + fg.type_text)" ng-switch="::fg | fragment2PresentType"> <div div class="wrapper" tn-tpl-pose-fit-box-ex-fragment="::fg"> <section class="tn-tpl-page-item tn-page" tn-comp-role="page" ng-switch-when="tn-fg-booklet_pg:with-ra"> <div class="tn-slice-slot ng-scope tn-cell tn-cell-group tn-child-position-absolute" ng-bind-html="::fg.data.$appendix.rendererAccelerate | validateImageTypeInHtml | unsafe"> </div> </section> <section class="tn-tpl-page-item tn-page" tn-solo-comp-loader="fg.data.pages[0]" tn-comp-role="page" ng-switch-when="tn-fg-booklet_pg:raw"> </section> <section class="has-error" ng-switch-when="tn-fg-booklet_pg:error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </section> </div> </div> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onFragmentRemove($event, fg)"></span> <div class="mask"> <div class="wx-radio"> <input type="radio" ng-checked="fg.isSelected"> <label for="radio"></label> </div> </div> </li> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="untagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </ul> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in tagDetails" ng-show="isForceDisplay || tagDetail.isOnBoard" active="tagDetail.isActive" select="onFragmentDetailSelected(tagDetail)"> <uib-tab-heading class="templates fragment"> <span class="room-name">{{tagDetail.tag}}</span> </uib-tab-heading> <div tn-pull-to-refresh on-refresh="onLoadMore(tagDetail)" has-more="!tagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !tagDetail.fragments.length" ng-click="onClearFragmentByTag($event, tagDetail)" ng-cloak> 清空收藏 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !tagDetail.fragments.length" ng-click="onBatchFragmentClick($event, tagDetail)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!tagDetail.fragments.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-tpl-container-fragment tag-fragments" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tagDetail.fragments"> <li class="tn-tpl-item tn-tpl-page tn-scene-booklet tn-lighting-box" ng-repeat="fg in tagDetail.fragments track by $id(fg)" ng-mousemove="onFragmentMouseMove(fg)" ng-mouseleave="onFragmentMoveLeave()" ng-click="onFragmentSelect(fg, $event)" ng-cloak> <div class="tn-tpl-page-box lighting-hover" context-menu="menuOptions" ng-class="::(\'fragment-type-\' + fg.type_text)" ng-switch="::fg | fragment2PresentType"> <section class="tn-tpl-page-item tn-page" tn-comp-role="page" ng-switch-when="tn-fg-booklet_pg:with-ra"> <div class="tn-slice-slot ng-scope tn-cell tn-cell-group tn-child-position-absolute" ng-bind-html="::fg.data.$appendix.rendererAccelerate | validateImageTypeInHtml | unsafe"> </div> </section> <section class="tn-tpl-page-item tn-page" tn-solo-comp-loader="fg.data.pages[0]" tn-comp-role="page" ng-switch-when="tn-fg-booklet_pg:raw"> </section> <section class="has-error" ng-switch-when="tn-fg-booklet_pg:error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </section> </div> <span class="bar-item contextmenu glyphicon glyphicon-menu-hamburger" context-menu="menuOptions" context-menu-on="click"></span> <span class="bar-item remove glyphicon glyphicon-trash" ng-click="onFragmentRemove($event, fg)"></span> <div class="mask"> <div class="wx-radio"> <input type="radio" ng-checked="fg.isSelected"> <label for="radio"></label> </div> </div> </li> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="tagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </ul> </div> </uib-tab> <li class="tn-tpl-tag-item" ng-show="(isForceDisplay || !hasOfflineTags) && hasTags"> <a ng-click="editShowTags()"> <span class="tag-name">设置</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="!isForceDisplay && hasOfflineTags"> <a ng-click="showAllTags()"> <span class="tag-name">&gt;&gt;</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="isForceDisplay && hasOfflineTags"> <a ng-click="showOnBoardTags()"> <span class="tag-name">&lt;&lt;</span> </a> </li> <li class="tn-tpl-tag-item"> <a ng-click="onRefreshDataClick($event)"> <span class="tag-refresh glyphicon glyphicon-refresh" ng-class="{ \'rotate-around\': refreshingData }"></span> </a> </li> </uib-tabset>'),t.put("/views/app/studio/sidebar/tabContents/fragmentsPaperFlow.html",'<div class="notifications" ng-if="recycleFragmentList.length"> <div class="notifications-container"> <div class="notify fadeOutNotifications" ng-class="animation"> <span class="message" style="cursor: pointer;" ng-click="onRecoverFragment()"> 手滑了，点此恢复>> </span> <span class="glyphicon glyphicon-remove close-click" ng-click="onRecoverFragmentClose()"> </span> </div> </div> </div> <div class="no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以将编辑的内容收藏 </div> <div class="no-content-prompt text-center" ng-if="!!status.auth.userInfo && !(fragments.length !== 0)"> 您可以将编辑好的内容加入收藏，方便重复使用。 </div> <uib-tabset class="tn-tpl-rooms-tab fragments" type="pills" ng-if="!!status.auth.userInfo"> <uib-tab class="tn-tpl-room-item" active="untagDetail.isActive" select="onFragmentDetailSelected(untagDetail)"> <uib-tab-heading class="fragments"> <span class="room-name">未标签收藏</span> </uib-tab-heading> <div tn-pull-to-refresh on-refresh="onLoadMore(untagDetail)" has-more="!untagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !untagDetail.fragments.length" ng-click="onClearFragmentClick($event)" ng-cloak> 清空收藏 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !untagDetail.fragments.length" ng-click="onBatchFragmentClick($event)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!untagDetail.fragments.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchTagFragmentClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="clearfix"></div> <ul class="tn-tpl-list tn-tpl-container-fragment all-fragments" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="untagDetail.fragments" ng-include="::\'/views/app/studio/sidebar/pieces/fragmentFlowBox.html\'"> </ul> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in tagDetails" ng-show="isForceDisplay || tagDetail.isOnBoard" active="tagDetail.isActive" select="onFragmentDetailSelected(tagDetail)"> <uib-tab-heading class="fragments"> <span class="room-name">{{ tagDetail.tag }}</span> </uib-tab-heading> <div tn-pull-to-refresh on-refresh="onLoadMore(tagDetail)" has-more="!tagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !tagDetail.fragments.length" ng-click="onClearFragmentByTag($event, tagDetail)" ng-cloak> 清空收藏 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !tagDetail.fragments.length" ng-click="onBatchFragmentClick($event, tagDetail)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!tagDetail.fragments.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedFragmentCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="clearfix"></div> <ul class="tn-tpl-list tn-tpl-container-fragment tag-fragments" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tagDetail.fragments" ng-include="::\'/views/app/studio/sidebar/pieces/fragmentFlowBox.html\'"> </ul> </div> </uib-tab> <li class="tn-tpl-tag-item" ng-show="(isForceDisplay || !hasOfflineTags) && hasTags"> <a ng-click="editShowTags()"> <span class="tag-name">设置</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="!isForceDisplay && hasOfflineTags"> <a ng-click="showAllTags()"> <span class="tag-name">&gt;&gt;</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="isForceDisplay && hasOfflineTags"> <a ng-click="showOnBoardTags()"> <span class="tag-name">&lt;&lt;</span> </a> </li> <li class="tn-tpl-tag-item"> <a ng-click="onRefreshDataClick($event)"> <span class="tag-refresh glyphicon glyphicon-refresh" ng-class="{ \'rotate-around\': refreshingData }"></span> </a> </li> <li class="tn-tpl-tag-item"> <a ng-click="onSortByClick($event)" ng-switch="sortOrder"> <span ng-switch-when="DESC" class="tag-sort glyphicon glyphicon-sort-by-attributes-alt"></span> <span ng-switch-when="ASC" class="tag-sort glyphicon glyphicon-sort-by-attributes"></span> </a> </li> </uib-tabset>'),t.put("/views/app/studio/sidebar/tabContents/images.html",'<div class="notifications" ng-if="recycleImageList.length"> <div class="notifications-container"> <div class="notify fadeOutNotifications" ng-class="animation"> <span class="message" style="cursor: pointer;" ng-click="onRecoverImage()"> 手滑了，点此恢复>> </span> <span class="glyphicon glyphicon-remove close-click" ng-click="onRecoverImageClose()"> </span> </div> </div> </div> <uib-tabset class="tn-tpl-rooms-tab images" type="pills" ng-if="!!status.auth.userInfo"> <uib-tab class="tn-tpl-room-item" active="untagDetail.isActive" select="onImageDetailSelected(untagDetail)"> <uib-tab-heading class="images"> <span class="room-name">未标签图片</span> </uib-tab-heading> <div class="tab-content-inner x3-tab-content images tn-assets-uploader clearfix" tn-pull-to-refresh on-refresh="onLoadMore(untagDetail)" has-more="!untagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-12 col-sm-12 btn-row" uib-dropdown auto-close="always" is-open="inner.isDropdownMenuOpen"> <div class="btn-group btn-flex"> <div class="btn btn-green untag" ng-click="onUploadBtnClick()"> <input id="imageFileUploadInput" type="file" multiple class="form-control" accept="image/jpeg, image/png, image/gif" files-model="inner.imageFiles" file-change="uploadImageFiles()" ng-cloak> <a class="col-xs-12 col-sm-12 no-decoration" role="button" ng-disabled="!status.auth.userInfo || processing" alias-as="#imageFileUploadInput" alias-event="click"> {{imageFileUploadButtonTitle}} </a> </div> <div class="btn btn-green more" uib-dropdown-toggle aria-haspopup="true" aria-expanded="false" ng-click="onWatermarkList($event)"> <span class="caret"></span> </div> </div> <div uib-dropdown-menu> <div class="text-center btn-import" ng-disabled="!status.auth.userInfo || processing" ng-click="onAddImageLinkClick($event)" ng-cloak> <span>导入网络图片</span> </div> <div class="text-center btn-import watermark" style="margin-top: 1px;" ng-disabled="!status.auth.userInfo || processing" ng-cloak> <select class="form-control" ng-options="watermark.name for watermark in inner.watermark.watermarks" ng-model="inner.watermark.selectedWatermark" ng-change="onWatermarkSelect()" stop-propagation="mousedown mouseup click dblclick" ng-cloak> </select> <span class="glyphicon glyphicon-edit watermark-entry" ng-click="onSetWatermark($event)"></span> </div> </div> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !untagDetail.images.length" ng-click="onClearImageClick($event)" ng-cloak> 清空图片 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !untagDetail.images.length" ng-click="onBatchImageClick($event)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!untagDetail.images.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedImgCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedImgCount <= 0" ng-click="onBatchTagImageClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="col-xs-12 col-sm-12" style="color:#d3d3d3" ng-hide="isBatchEditing"> <p class="col-sm-6 text-left">支持从电脑拖放文件</p> <div class="col-sm-6 text-right"> <span>容量：</span><span>{{imageContainer.used}}</span><span>/{{imageContainer.total}}</span> </div> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-asset-container-image all-images" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="untagDetail.images"> <li class="tn-tpl-item tn-asset-image tn-lighting-box" ng-repeat="img in untagDetail.images track by $id(img)" ng-click="onImageSelect($event, img, $index, false)" ng-include="::\'/views/app/studio/sidebar/pieces/imageBox.html\'"> </li> </ul> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="untagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in tagDetails track by $id(tagDetail)" ng-show="isForceDisplay || tagDetail.isOnBoard" active="tagDetail.isActive" select="onImageDetailSelected(tagDetail)"> <uib-tab-heading class="images"> <span class="room-name">{{tagDetail.tag}}</span> </uib-tab-heading> <div class="tab-content-inner x3-tab-content images tn-assets-uploader clearfix" tn-pull-to-refresh on-refresh="onLoadMore(tagDetail)" has-more="!tagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-12 col-sm-12 btn-row"> <a class="col-xs-12 col-sm-12 btn btn-green" role="button" ng-disabled="!status.auth.userInfo || processing" alias-as="#imageFileUploadInput" alias-event="click" ng-cloak> {{(imageFileUploadButtonTitle.indexOf(\'无水印\') > 0) ? \'上传图片至标签(无水印)\' : \'上传图片至标签(有水印)\'}} </a> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !tagDetail.images.length" ng-click="onClearImageByTag($event, tagDetail)" ng-cloak> 清空图片 </button> </div> <div class="col-xs-6 col-sm-6 btn-row"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !tagDetail.images.length" ng-click="onBatchImageClick($event, tagDetail)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!tagDetail.images.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedImgCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedImgCount <= 0" ng-click="onBatchTagImageClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="col-xs-12 col-sm-12" style="color:#d3d3d3" ng-hide="isBatchEditing"> <p class="col-sm-6 text-left">支持从电脑拖放文件</p> <div class="col-sm-6 text-right"> <span>容量：</span><span>{{imageContainer.used}}</span><span>/{{imageContainer.total}}</span> </div> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-asset-container-image" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tagDetail.images"> <li class="tn-tpl-item tn-asset-image tn-lighting-box" ng-repeat="img in tagDetail.images track by $id(img)" ng-click="onImageSelect($event, img, $index, false)" ng-include="::\'/views/app/studio/sidebar/pieces/imageBox.html\'"> </li> </ul> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="tagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div> </uib-tab> <li class="tn-tpl-tag-item" ng-show="(isForceDisplay || !hasOfflineTags) && hasTags"> <a ng-click="editShowTags()"> <span class="tag-name">设置</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="!isForceDisplay && hasOfflineTags"> <a ng-click="showAllTags()"> <span class="tag-name">&gt;&gt;</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="isForceDisplay && hasOfflineTags"> <a ng-click="showOnBoardTags()"> <span class="tag-name">&lt;&lt;</span> </a> </li> <li class="tn-tpl-tag-item"> <a ng-click="onRefreshDataClick($event)"> <span class="tag-refresh glyphicon glyphicon-refresh" ng-class="{ \'rotate-around\': refreshingData }"></span> </a> </li> </uib-tabset> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以使用图库功能 </div>'),t.put("/views/app/studio/sidebar/tabContents/pages.html",'<uib-tabset class="tn-tpl-rooms-tab pages" type="pills"> <div class="tn-tpl-top-prompt"> <div class="alert alert-warning" role="alert"> <p> 页面模板已经下线，<a class="no-decoration xiumi-red" href="https://v.xiumi.us/board/v5/2a5va/121799467" target="_blank">点此查看说明</a> </p> </div> </div> </uib-tabset> '),t.put("/views/app/studio/sidebar/tabContents/patternFragmentsPaperFlow.html",'<uib-tabset class="tn-tpl-rooms-tab comps" type="pills"> <uib-tab class="tn-tpl-room-item" active="appendixPatternFragmentsActive"> <uib-tab-heading class="templates comp"> <span class="room-name">当前样刊模板</span> </uib-tab-heading> <div class="tab-content-inner"> <div class="prompt text-center" ng-show="!inDataAppendix.fragments.flow.length && !inDataAppendix.autoCompose.fragments.length"> 选中编辑区内容，设置成样刊模板 </div> <ul class="tn-tpl-list tn-tpl-container-pattern-fragment-edit usage-layout large-tpl" tn-data-list="inDataAppendix.autoCompose.fragments" ng-if="inDataAppendix.autoCompose.fragments.length > 0" ng-include="::\'/views/app/studio/sidebar/pieces/patternFragmentFlowBox.html\'"> </ul> <ul class="tn-tpl-list tn-tpl-container-pattern-fragment-edit usage-layout large-tpl" tn-data-list="inDataAppendix.fragments.flow" ng-include="::\'/views/app/studio/sidebar/pieces/patternFragmentFlowBox.html\'"> </ul> </div> </uib-tab> </uib-tabset> '),t.put("/views/app/studio/sidebar/tabContents/teamArticles.html",'<div class="team-select-container" ng-if="!!status.auth.userInfo && teamDetails.length > 0" ng-cloak> <span>当前团队</span> <select class="form-control team-selector" ng-options="teamDetail as teamDetail.team.display_name for teamDetail in teamDetails track by teamDetail.team.team_id" ng-model="inner.activatedTeamDetail" ng-change="changeTeam()" ng-if="teamDetails.length > 1" ng-cloak></select> <span ng-if="teamDetails.length == 1" ng-cloak>{{ inner.activatedTeamDetail.team.display_name }}</span> </div> <uib-tabset class="tn-tpl-rooms-tab tn-art-rooms-tab" type="pills" ng-if="!!status.auth.userInfo && teamDetails.length > 0"> <uib-tab class="tn-tpl-room-item" active="inner.activatedTeamDetail.tagActives[\'all\']" ng-click="onAllArticleSelect()"> <uib-tab-heading class="articles"> <span class="room-name">所有图文</span> </uib-tab-heading> <div class="x3-articles-list" tn-scroll-to-bottom="onLoadMore()" style="height: 100%;" ng-if="!!status.auth.userInfo"> <section class="tpl-item article clearfix" ng-repeat="art in inner.activatedTeamDetail.alltagDetail.displayArticles track by $id(art)" ng-click="onArticleSelect($event, art)" ng-cloak> <div class="has-error" ng-if="!!art.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="article-container"> <div class="header"> <div class="thumb" ng-style="{\'background-image\': \'url(\' + ((art.data.cover || art.cover || \'\') | optimizeImageType) + \')\'}"></div> <div class="title"> <div class="inner" ng-bind="art.data.title || art.title"></div> </div> <div class="date" ng-bind="art.updated_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </div> </section> <a class="get-more-btn no-decoration xiumi-red" href="javascript:void(0)" ng-show="inner.activatedTeamDetail.alltagDetail.hasMoreArticles" ng-click="getMore($event)">加载更多</a> <div class="article-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in inner.activatedTeamDetail.tagDetails track by $id(tagDetail)" active="inner.activatedTeamDetail.tagActives[tagDetail.tag]" select="onArticleDetailSelected(tagDetail)"> <uib-tab-heading class="articles"> <span class="room-name" ng-bind="::tagDetail.tag"></span> </uib-tab-heading> <div class="x3-articles-list" tn-scroll-touch="onBoxScroll($event)" style="height: 100%;" ng-if="!!status.auth.userInfo"> <section class="tpl-item article clearfix" ng-repeat="art in tagDetail.displayArticles track by $id(art)" ng-click="onArticleSelect($event, art)" ng-cloak> <div class="has-error" ng-if="!!art.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="article-container"> <div class="header"> <div class="thumb" ng-style="{\'background-image\': \'url(\' + ((art.data.cover || art.cover || \'\') | optimizeImageType) + \')\'}"></div> <div class="title"> <div class="inner" ng-bind="art.data.title || art.title"></div> </div> <div class="date" ng-bind="art.updated_at | date:\'yyyy年M月d日 H:mm\'"></div> </div> </div> </section> <a class="get-more-btn no-decoration xiumi-red" href="javascript:void(0)" ng-show="tagDetail.hasMoreArticles" ng-click="getMore($event)">加载更多</a> <div class="article-loading" ng-show="gettingMore"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </uib-tab> </uib-tabset> <div class="no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以显示保存的图文 </div> <div class="no-content-prompt text-center" ng-if="status.auth.userInfo && teamDetails.length == 0"> 你还没有加入团队，加入后可以直接选择团队图文，同步到微信后台 </div> '),t.put("/views/app/studio/sidebar/tabContents/teamImages.html",'<uib-tabset class="tn-tpl-rooms-tab images" type="pills" ng-if="!!status.auth.userInfo"> <div class="tn-team-title text-center"> <span class="title" ng-click="selectTeam()">{{currTeam.display_name}}</span> </div> <uib-tab class="tn-tpl-room-item" active="untagDetail.isActive" select="onImageDetailSelected(untagDetail)"> <uib-tab-heading class="images"> <span class="room-name">未标签图片</span> </uib-tab-heading> <div class="tab-content-inner x3-tab-content images tn-assets-uploader clearfix" tn-pull-to-refresh on-refresh="onLoadMore(untagDetail)" has-more="!untagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-12 col-sm-12 btn-row" uib-dropdown auto-close="always" ng-show="canEditImg"> <div class="btn-group btn-flex"> <div class="btn btn-green untag"> <input id="teamImageFileUploadInput" type="file" multiple class="form-control" accept="image/jpeg, image/png, image/gif" files-model="inner.imageFiles" file-change="uploadImageFiles()" ng-cloak> <a class="col-xs-12 col-sm-12 no-decoration" role="button" ng-disabled="!status.auth.userInfo || processing" alias-as="#teamImageFileUploadInput" alias-event="click"> {{imageFileUploadButtonTitle}} </a> </div> <div class="btn btn-green more" uib-dropdown-toggle aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> </div> </div> <div uib-dropdown-menu> <div class="text-center btn-import" ng-disabled="!status.auth.userInfo || processing" ng-click="onAddImageLinkClick($event)" ng-cloak> <span>导入网络图片</span> </div> </div> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="canEditImg"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !untagDetail.images.length" ng-click="onClearImageClick($event)" ng-cloak> 清空图片 </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="canEditImg"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !untagDetail.images.length" ng-click="onBatchImageClick($event)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!untagDetail.images.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedImgCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedImgCount <= 0" ng-click="onBatchTagImageClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="col-xs-12 col-sm-12 tn-tag-img-count" style="color:#d3d3d3" ng-hide="isBatchEditing"> <p class="tn-img-tag" ng-show="canEditImg">支持从电脑拖放文件</p> <div class="tn-img-count"> <span>容量：</span><span>{{imageContainer.used}}</span><span>/{{imageContainer.total}}</span> </div> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-asset-container-image all-images" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="untagDetail.images"> <li class="tn-tpl-item tn-asset-image tn-lighting-box" ng-repeat="img in untagDetail.images track by $id(img)" ng-click="onImageSelect($event, img, $index, false)" ng-include="::\'/views/app/studio/sidebar/pieces/imageBox.html\'"> </li> </ul> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="untagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div> </uib-tab> <uib-tab class="tn-tpl-room-item" ng-repeat="tagDetail in tagDetails track by $id(tagDetail)" ng-show="isForceDisplay || tagDetail.isOnBoard" active="tagDetail.isActive" select="onImageDetailSelected(tagDetail)"> <uib-tab-heading class="images"> <span class="room-name">{{tagDetail.tag}}</span> </uib-tab-heading> <div class="tab-content-inner x3-tab-content images tn-assets-uploader clearfix" tn-pull-to-refresh on-refresh="onLoadMore(tagDetail)" has-more="!tagDetail.isFinished" trigger-threshold="20"> <div class="col-xs-12 col-sm-12 btn-row" ng-show="canEditImg"> <a class="col-xs-12 col-sm-12 btn btn-green" role="button" ng-disabled="!status.auth.userInfo || processing" alias-as="#teamImageFileUploadInput" alias-event="click"> 上传图片至标签 </a> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="canEditImg"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="!status.auth.userInfo || processing || !tagDetail.images.length" ng-click="onClearImageByTag($event, tagDetail)" ng-cloak> 清空图片 </button> </div> <div class="col-xs-6 col-sm-6 btn-row" ng-show="canEditImg"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!status.auth.userInfo || processing || !tagDetail.images.length" ng-click="onBatchImageClick($event, tagDetail)" ng-cloak> <span ng-hide="isBatchEditing">批量管理</span> <span ng-show="isBatchEditing">退出批量管理</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="!tagDetail.images.length" ng-click="onSelectAllToggle($event)" ng-cloak> <span ng-hide="isSelectAll">全选</span> <span ng-show="isSelectAll">清除全选</span> </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-red" ng-disabled="selectedImgCount <= 0" ng-click="onBatchDeleteClick($event)" ng-cloak> 删除 </button> </div> <div class="col-xs-4 col-sm-4 btn-row" ng-show="isBatchEditing"> <button class="col-xs-12 col-sm-12 btn btn-green" ng-disabled="selectedImgCount <= 0" ng-click="onBatchTagImageClicked($event)" ng-cloak> 设置标签 </button> </div> <div class="col-xs-12 col-sm-12 tn-tag-img-count" style="color:#d3d3d3"> <p class="tn-img-tag" ng-show="canEditImg">支持从电脑拖放文件</p> <div class="tn-img-count"> <span>容量：</span><span>{{imageContainer.used}}</span><span>/{{imageContainer.total}}</span> </div> </div> <div class="clearfix"></div> <ul class="tn-tpl-list small-tpl tn-asset-container-image" ng-class="{ \'tn-batch-editing\': isBatchEditing }" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tagDetail.images"> <li class="tn-tpl-item tn-asset-image tn-lighting-box" ng-repeat="img in tagDetail.images track by $id(img)" ng-click="onImageSelect($event, img, $index, false)" ng-include="::\'/views/app/studio/sidebar/pieces/imageBox.html\'"> </li> </ul> <div class="tn-tpl-list"> <div class="tpl-loading" ng-show="tagDetail.loading"> <span class="rolling glyphicon glyphicon-refresh"></span> </div> </div> </div> </uib-tab> <li class="tn-tpl-tag-item" ng-show="(isForceDisplay || !hasOfflineTags) && hasTags"> <a ng-click="editShowTags()"> <span class="tag-name">设置</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="!isForceDisplay && hasOfflineTags"> <a ng-click="showAllTags()"> <span class="tag-name">&gt;&gt;</span> </a> </li> <li class="tn-tpl-tag-item" ng-show="isForceDisplay && hasOfflineTags"> <a ng-click="showOnBoardTags()"> <span class="tag-name">&lt;&lt;</span> </a> </li> <li class="tn-tpl-tag-item"> <a ng-click="onRefreshDataClick($event)"> <span class="tag-refresh glyphicon glyphicon-refresh" ng-class="{ \'rotate-around\': refreshingData }"></span> </a> </li> </uib-tabset> <div class="col-xs-12 col-sm-12 no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以使用图库功能 </div>'),t.put("/views/app/studio/sidebar/tabContents/templateComps.html",'<div class="color-widget" ng-cloak ng-show="tplLib.instContext.categoryText == \'paper-cp\'"> <div class="theme-color" tn-color-selector="tplLib.compTheme.color" is-open="tplLib.compThemeIsOpen" on-color-choose="tplLib.onThemeColorChoose(color)" on-color-changing="tplLib.onThemeColorChanging(color)" on-color-choose-cancel="tplLib.onThemeColorChooseCancel()" fetch-color-from-template-panel="true" support-batch-change-color="false"></div> <div class="op-color-text" ng-show="tplLib.compTheme.color == \'none\'"> 主题色 </div> <button type="button" class="btn btn-sm btn-glass-borderless clear-theme-color" ng-show="tplLib.compTheme.color != \'none\'" ng-click="tplLib.onThemeColorResetToOriginal()"> 清除 </button> </div> <div class="tn-tpl-library-box" ng-class="[ \'entry-\' + tplLib.filter.entry, tplLib.instContext.categoryText ]" ng-cloak> <div class="tn-tpl-filter-entries"> <ul class="tn-tpl-tags-tree nav tn-tpl-entry-block"> <li class="dropdown tn-tpl-tag-lv1 tn-tpl-entry" uib-dropdown auto-close="always" ng-repeat="tagLv1 in tplLib.tagLv1List track by tagLv1.tag_id" ng-class="{ active: tplLib.isTagUnderTagLv1(tplLib.filter.tag, tagLv1) }" is-open="tplLib.tagLv1MenuOpen[tagLv1.tag_id]" ng-mouseleave="tplLib.tagLv1MenuOpen[tagLv1.tag_id] = false"> <a class="dropdown-toggle tn-tpl-tag-lv1-child face" href="" uib-dropdown-toggle data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" ng-click="tplLib.onSelectTag(tagLv1)"> {{ tagLv1.tag_name | tplTag2DisplayName }} </a> <ul class="dropdown-menu" uib-dropdown-menu role="menu"> <li class="tn-tpl-tag-lv0" ng-repeat="tagLv0 in tagLv1.childTags track by tagLv0.tag_id" ng-class="{ active: tagLv0.tag_id == tplLib.filter.tag.tag_id }"> <a class="face" href="" ng-click="tplLib.onSelectTag(tagLv0)"> {{ tagLv0.tag_name | tplTag2DisplayName }} </a> </li> </ul> </li> </ul> <ul class="tn-tpl-entry-block nav"> <li class="tn-tpl-entry newest" ng-class="{ active: tplLib.filter.entry == \'newest\' || tplLib.filter.entry == \'recommended\' }"> <a class="face" href="" ng-click="tplLib.onSelectEntryNewest()"> 推荐模板 </a> </li> <li class="tn-tpl-entry recent" ng-class="{ active: tplLib.filter.entry == \'recent\' }"> <a class="face" href="" ng-click="tplLib.onSelectEntryRecent()"> 最近使用 </a> </li> <li class="tn-tpl-entry pattern" ng-class="{ active: tplLib.filter.entry == \'pattern\' }" ng-hide="tabItem.type == \'comps.booklet\'"> <a class="face" href="" ng-click="tplLib.onSelectEntryPattern()"> 样刊模板 </a> </li> <li class="tn-tpl-entry more" ng-class="{ active: tplLib.filter.entry == \'more\' }"> <a class="face" href="" ng-click="tplLib.onSelectEntryMore(\'tag\')"> 更多模板 </a> </li> <li class="tn-tpl-entry search" ng-class="{ active: tplLib.filter.entry == \'search\' }"> <a class="face text-left" href="" ng-click="tplLib.onSelectEntrySearch()"> <span class="glyphicon glyphicon-search"></span> </a> </li> </ul> <div class="tn-tpl-entry-ex-block clearfix" ng-switch="tplLib.filter.entry"> <div class="entry-location-nav"> <button type="button" class="btn btn-sm btn-glass-borderless" title="点击可后退" ng-disabled="!tplLib.history.canBackward()" ng-click="tplLib.onFilterGoBackward()"> <span class="glyphicon glyphicon-arrow-left"></span> </button> <button type="button" class="btn btn-sm btn-glass-borderless" title="点击可前进" ng-disabled="!tplLib.history.canForward()" ng-click="tplLib.onFilterGoForward()"> <span class="glyphicon glyphicon-arrow-right"></span> </button> </div> <div class="entry-actions entry-recommended" ng-switch-when="newest"> <button class="btn btn-sm btn-glass" ng-click="tplLib.onSelectEntryNewest()"> <span class="glyphicon glyphicon-glass"></span> 最新模板 </button> <button class="btn btn-sm btn-glass" ng-click="tplLib.onSelectEntryRecommended()"> <span class="glyphicon glyphicon-refresh"></span> 换一换 </button> </div> <div class="entry-actions entry-recommended" ng-switch-when="recommended"> <button class="btn btn-sm btn-glass" ng-click="tplLib.onSelectEntryNewest()"> <span class="glyphicon glyphicon-glass"></span> 最新模板 </button> <button class="btn btn-sm btn-glass" ng-click="tplLib.onSelectEntryRecommended()"> <span class="glyphicon glyphicon-refresh"></span> 换一换 </button> </div> <div class="entry-actions entry-tag" ng-switch-when="tag"> <button type="button" class="btn btn-sm btn-glass" ng-click="tplLib.onSearchInTagClicked()"> <span class="glyphicon glyphicon-filter"></span> 在 \'{{ tplLib.filter.tag.tag_name | tplTag2DisplayName }}\' 内搜索 </button> <button class="btn btn-sm btn-glass" ng-click="tplLib.onRandomInTagClicked()"> <span class="glyphicon glyphicon-refresh"></span> 换一换 </button> <button type="button" class="btn btn-sm btn-glass pull-right" ng-model="tplLib.userSort" uib-btn-checkbox btn-checkbox-true="\'ASC\'" btn-checkbox-false="\'DESC\'" ng-change="tplLib.onSortingChanged(tplLib.filter.sort)" ng-switch="tplLib.userSort"> <span class="glyphicon glyphicon-sort-by-attributes" ng-switch-when="ASC" title="正序，旧模板在前"></span> <span class="glyphicon glyphicon-sort-by-attributes-alt" ng-switch-when="DESC" title="倒序，新模板在前"></span> </button> <button type="button" class="btn btn-sm btn-glass pull-right" ng-model="tplLib.tplCategFilter.material" uib-btn-checkbox ng-switch="tplLib.tplCategFilter.material" ng-click="tplLib.onTplCategFilterChange()" ng-show="tplLib.tplCategFilterUIAvailable"> <span class="glyphicon glyphicon-check" ng-switch-when="true"></span> <span class="glyphicon glyphicon glyphicon-unchecked" ng-switch-when="false"></span> <span>素材</span> </button> </div> <div class="entry-actions entry-pattern" ng-switch-when="pattern"> <button class="btn btn-sm btn-glass select-pattern-show" ng-click="tplLib.onLoadPatternShowClick()"> <span class="glyphicon glyphicon-folder-open"></span> 选择样刊图文 </button> </div> <div class="entry-actions entry-search" ng-switch-when="search" ng-class="{ \'has-search-text\': !!tplLib.searchText, \'search-in-tag\': !!tplLib.filter.searchInTag }"> <input class="form-control search-text" type="text" placeholder="用空格分割多个搜索词，可以组合搜索" auto-focus-on="mouseover" ng-model="tplLib.searchText" ng-keypress="tplLib.onSearchKeyPressed($event, tplLib.searchText)"> <div class="left-overlap-buttons"> <button class="btn btn-gray tag-filter" title="在 \'{{ tplLib.filter.searchInTag.tag_name | tplTag2DisplayName }}\' 中搜索，点击返回标签" ng-click="tplLib.onFilterGoBackward()"> {{ tplLib.filter.searchInTag.tag_name | tplTag2DisplayName }} <span class="glyphicon glyphicon-filter"></span> </button> </div> <div class="right-overlap-buttons"> <a class="btn xiumi-normal clear-text" title="清除文字" ng-click="tplLib.searchText = \'\'"> <span class="glyphicon glyphicon-remove"></span> </a><a class="btn xiumi-normal go-search" title="搜索" ng-click="tplLib.onSearchKeyPressed(null, tplLib.searchText)"> <span class="glyphicon glyphicon-search"></span> </a> </div> </div> </div> <div class="tn-tpl-entry-ex-block second-line clearfix" ng-switch="tplLib.filter.entry" ng-if="status.showType == \'paper\'"> <div class="entry-actions-line2 entry-search clearfix" ng-switch-when="search"> <button type="button" class="btn btn-sm btn-glass" ng-model="tplLib.tplCategFilter.material" uib-btn-checkbox ng-switch="tplLib.tplCategFilter.material" ng-click="tplLib.onTplCategFilterChange()"> <span class="glyphicon glyphicon-check" ng-switch-when="true"></span> <span class="glyphicon glyphicon glyphicon-unchecked" ng-switch-when="false"></span> <span>包含贴纸</span> </button> <button class="btn btn-sm btn-glass" ng-click="tplLib.onRandomInTagClicked()"> <span class="glyphicon glyphicon-refresh"></span> 换一换 </button> </div> </div> <div class="tn-tpl-prompt-block text-center"> <div class="tn-top-loading-block"> <div class="lds-ellipsis" ng-show="tplLib.templatesFetching"> <div></div><div></div><div></div><div></div> </div> </div> </div> </div> <div class="tn-tpl-container default" ng-repeat="(dsKey, ds) in tplLib.templatesDataSource track by dsKey" ng-show="dsKey == tplLib.filter2DataSourceKey(tplLib.filter)" tn-pull-to-refresh="" on-refresh="tplLib.onLoadMoreTemplates()" has-more="ds.templates.length < ds.templatesCount" trigger-threshold="2000"> <ul class="tn-tpl-list tn-tpl-container-comp clearfix" ng-class="::(tplLib.instContext.categoryText == \'booklet-cp\' ? \'small-tpl\' : \'large-tpl\')" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="ds.templates" ng-include="::\'/views/app/studio/sidebar/pieces/templateBox.html\'"> </ul> <div class="loading-more" ng-class="{ \'no-more\': ds.templates.length >= ds.templatesCount, \'loading\': tplLib.templatesFetching }"> <button class="btn btn-loading col-xs-12 load-more" ng-click="tplLib.onLoadMoreTemplates()" ng-disabled="tplLib.templatesFetching"> 加载更多 </button> <button class="btn btn-loading col-xs-12 loading"> <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div> </button> <button class="btn btn-loading col-xs-12 no-more" ng-click="tplLib.onSelectEntryMore(\'hint\')"> 到底了，点击查看更多模板 </button> </div> </div> <div class="tn-tpl-container pattern"> <div class="text-center auto-compose-options" ng-if="tplLib.patternAppendix.autoCompose.fragments.length > 0"> <button class="btn btn-green" type="button" ng-click="tplLib.onAutoComposeFragmentClick(tplLib.patternAppendix.autoCompose.fragments)">一键排版</button> </div> <div class="text-center" ng-show="!tplLib.patternAppendix.fragments.flow.length && !tplLib.patternAppendix.autoCompose.fragments.length"> <p class="prompt col-xs-12"> 按照一篇样刊图文的模板，进行快速排版 <br> <a class="no-decoration xiumi-red" href="//v.xiumi.us/board/v5/2a5va/52968265" target="_blank"> 点此查看使用指南 </a> </p> </div> <div class="tn-tpl-list tn-tpl-container-pattern-fragment not-editable large-tpl" ng-show="!!tplLib.basicStylePatternFragment && (!!tplLib.patternAppendix.fragments.flow.length || !!tplLib.patternAppendix.autoCompose.fragments.length)"> <div class="tn-tpl-item tn-tpl-fragment tn-scene-paper tn-lighting-box" ng-click="tplLib.onPatternFragmentSelect(tplLib.basicStylePatternFragment, $event)"> <div class="tn-tpl-fragment-box lighting-hover fragment-type-flow_page_basic_style"> <section class="tn-tpl-fragment-item flow-page-basic-style"> <div class="type-prompt">基础格式</div> <div class="basic-style-desc" ng-style="tplLib.basicStylePatternFragment.data.pages[0]._comp.style"> {{ tplLib.basicStylePatternFragment | basicStyleFragment2DescText }} </div> <div class="behavior-prompt">点击可将此格式设置为当前基础格式</div> </section> </div> </div> </div> <ul class="tn-tpl-list tn-tpl-container-pattern-fragment not-editable large-tpl" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tplLib.patternAppendix.autoCompose.fragments" ng-include="::\'/views/app/studio/sidebar/pieces/templatePatternFragmentFlowBox.html\'" ng-if="!!tplLib.patternAppendix.autoCompose.fragments.length"> </ul> <ul class="tn-tpl-list tn-tpl-container-pattern-fragment not-editable large-tpl" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="tplLib.patternAppendix.fragments.flow" ng-include="::\'/views/app/studio/sidebar/pieces/templatePatternFragmentFlowBox.html\'"> </ul> </div> </div> '),t.put("/views/app/studio/sidebar/tabContents/templateLayouts.html",'<div class="tn-tpl-library-box" ng-class="[ \'entry-\' + tplLib.filter.entry, tplLib.instContext.categoryText ]" ng-cloak> <div class="tn-tpl-filter-entries"> <ul class="tn-tpl-tags-tree nav tn-tpl-entry-block"> <li class="dropdown tn-tpl-tag-lv1 tn-tpl-entry" uib-dropdown auto-close="always" ng-repeat="tagLv1 in tplLib.tagLv1List track by tagLv1.tag_id" ng-class="{ active: tplLib.isTagUnderTagLv1(tplLib.filter.tag, tagLv1) }" is-open="tplLib.tagLv1MenuOpen[tagLv1.tag_id]" ng-mouseleave="tplLib.tagLv1MenuOpen[tagLv1.tag_id] = false"> <a class="dropdown-toggle tn-tpl-tag-lv1-child face" href="" uib-dropdown-toggle data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" ng-click="tplLib.onSelectTag(tagLv1)"> {{ tagLv1.tag_name | tplTag2DisplayName }} </a> <ul class="dropdown-menu" uib-dropdown-menu role="menu"> <li class="tn-tpl-tag-lv0" ng-repeat="tagLv0 in tagLv1.childTags track by tagLv0.tag_id" ng-class="{ active: tagLv0.tag_id == tplLib.filter.tag.tag_id }"> <a class="face" href="" ng-click="tplLib.onSelectTag(tagLv0)"> {{ tagLv0.tag_name | tplTag2DisplayName }} </a> </li> </ul> </li> </ul> <ul class="tn-tpl-entry-block nav"> <li class="tn-tpl-entry newest" ng-class="{ active: tplLib.filter.entry == \'newest\' }"> <a class="face" href="" ng-click="tplLib.onSelectEntryNewest()"> 最新版式 </a> </li> <li class="tn-tpl-entry recent" ng-class="{ active: tplLib.filter.entry == \'recent\' }"> <a class="face" href="" ng-click="tplLib.onSelectEntryRecent()"> 最近使用 </a> </li> <li class="tn-tpl-entry more" ng-class="{ active: tplLib.filter.entry == \'more\' }" ng-if="false"> <a class="face" href="" ng-click="tplLib.onSelectEntryMore()"> 更多... </a> </li> <li class="tn-tpl-entry search" ng-class="{ active: tplLib.filter.entry == \'search\' }"> <a class="face text-left" href="" ng-click="tplLib.onSelectEntrySearch()"> <span class="glyphicon glyphicon-search"></span> </a> </li> </ul> <div class="tn-tpl-entry-ex-block clearfix" ng-switch="tplLib.filter.entry"> <div class="entry-location-nav"> <button type="button" class="btn btn-sm btn-glass-borderless" title="点击可后退" ng-disabled="!tplLib.history.canBackward()" ng-click="tplLib.onFilterGoBackward()"> <span class="glyphicon glyphicon-arrow-left"></span> </button> <button type="button" class="btn btn-sm btn-glass-borderless" title="点击可前进" ng-disabled="!tplLib.history.canForward()" ng-click="tplLib.onFilterGoForward()"> <span class="glyphicon glyphicon-arrow-right"></span> </button> </div> <div class="entry-actions entry-tag" ng-switch-when="tag"> <button type="button" class="btn btn-sm btn-glass" ng-click="tplLib.onSearchInTagClicked()"> <span class="glyphicon glyphicon-filter"></span> 在 \'{{ tplLib.filter.tag.tag_name | tplTag2DisplayName }}\' 内搜索 </button> <button type="button" class="btn btn-sm btn-glass pull-right" ng-model="tplLib.userSort" uib-btn-checkbox btn-checkbox-true="\'ASC\'" btn-checkbox-false="\'DESC\'" ng-change="tplLib.onSortingChanged(tplLib.filter.sort)" ng-switch="tplLib.userSort"> <span class="glyphicon glyphicon-sort-by-attributes" ng-switch-when="ASC" title="正序，旧模板在前"></span> <span class="glyphicon glyphicon-sort-by-attributes-alt" ng-switch-when="DESC" title="倒序，新模板在前"></span> </button> </div> <div class="entry-actions entry-search" ng-switch-when="search" ng-class="{ \'has-search-text\': !!tplLib.searchText, \'search-in-tag\': !!tplLib.filter.searchInTag }"> <input class="form-control search-text" type="text" placeholder="用空格分割多个搜索词，可以组合搜索" auto-focus-on="mouseover" ng-model="tplLib.searchText" ng-keypress="tplLib.onSearchKeyPressed($event, tplLib.searchText)"> <div class="left-overlap-buttons"> <button class="btn btn-gray tag-filter" title="在 \'{{ tplLib.filter.searchInTag.tag_name | tplTag2DisplayName }}\' 中搜索，点击返回标签" ng-click="tplLib.onFilterGoBackward()"> {{ tplLib.filter.searchInTag.tag_name | tplTag2DisplayName }} <span class="glyphicon glyphicon-filter"></span> </button> </div> <div class="right-overlap-buttons"> <a class="btn xiumi-normal clear-text" title="清除文字" ng-click="tplLib.searchText = \'\'"> <span class="glyphicon glyphicon-remove"></span> </a><a class="btn xiumi-normal go-search" title="搜索" ng-click="tplLib.onSearchKeyPressed(null, tplLib.searchText)"> <span class="glyphicon glyphicon-search"></span> </a> </div> </div> </div> <div class="tn-tpl-prompt-block text-center"> <div class="tn-top-loading-block"> <div class="lds-ellipsis" ng-show="tplLib.templatesFetching"> <div></div><div></div><div></div><div></div> </div> </div> </div> </div> <div class="tn-tpl-container default" ng-repeat="(dsKey, ds) in tplLib.templatesDataSource track by dsKey" ng-show="dsKey == tplLib.filter2DataSourceKey(tplLib.filter)" tn-pull-to-refresh="" on-refresh="tplLib.onLoadMoreTemplates()" has-more="ds.templates.length < ds.templatesCount" trigger-threshold="2000"> <ul class="tn-tpl-list tn-tpl-container-page-layout tiny-tpl clearfix" tn-atom-dragging-source="::sdbDraggingSourceOpts" tn-data-list="ds.templates" ng-include="::\'/views/app/studio/sidebar/pieces/templateBox.html\'"> </ul> <div class="loading-more" ng-class="{ \'no-more\': ds.templates.length >= ds.templatesCount, \'loading\': tplLib.templatesFetching }"> <button class="btn btn-loading col-xs-12 load-more" ng-click="tplLib.onLoadMoreTemplates()" ng-disabled="tplLib.templatesFetching"> 加载更多 </button> <button class="btn btn-loading col-xs-12 loading"> <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div> </button> <button class="btn btn-loading col-xs-12 no-more"> 没有更多了 </button> </div> </div> </div> '),t.put("/views/app/studio/sidebar/tabContents/unknown.html",'<div class="text-center"> <div style="margin: 4em;">加载中...</div> </div>'),t.put("/views/app/studio/sidebar/tabContents/wxauths.html",'<div class="wxarticles-sidebar-panel" ng-if="switchType == \'list\'"> <div ng-if="!!status.auth.userInfo" style="height: 100%;"> <div class="wxauths-title"> <span>我的公众号</span> </div> <div class="wxauths-add-container"> <button class="btn btn-green" style="width: 100%;" ng-click="onWxSignInClick()">授权公众号</button> </div> <div class="x3-wxauths-list"> <section class="wxauth clearfix" ng-class="{ focus: author === currentAuthor }" ng-repeat="author in wxAuthors" ng-if="author.authType === \'weixin\'" ng-click="onAuthorSelect(author)" ng-cloak> <div class="has-error" ng-if="!!author.error"> <span class="glyphicon glyphicon-exclamation-sign"></span> 出错了! :( </div> <div class="wxauth-container"> <div class="header"> <div class="avater" ng-style="{\'background-image\': author.thumb ? \'url(\' + author.thumb + \')\' : null}"></div> <div class="alias"> <div class="inner" ng-bind="author.user"></div> </div> </div> </div> </section> </div> </div> <div class="no-content-prompt text-center" ng-if="!status.auth.userInfo"> 登录后可以显示绑定的公众号哦 </div> </div> '),t.put("/views/app/studio/wxarticles/index.html",'<header class="tn-header tn-state-transition-animation" ui-view="header"> <nav class="x3-navbar xiumi navbar navbar-static-top" role="navigation"> <div class="container-fluid"> <div class="wxarticles-nav-op-buttons text-center tn-state-transition-animation" ui-view="navBarActionButtons"> action buttons </div> <div class="x3-nav-brand navbar-header" ui-view="navPathBlock"> navigation path </div> <div class="x3-nav-misc oem-off"> <div class="auth-bar" ui-view="navBarWxAuthBlock" ng-show="status.wxAuth.geminiUserInfo"> wx auth block </div> <div class="usr-bar" ui-view="navBarAuthBlock"> auth block </div> </div> </div> </nav> </header> <div class="editing-panel tn-state-transition-animation" ui-view="editingPanel"></div> <div ui-view="sideBar"></div> ')}])}}(window,window.define);